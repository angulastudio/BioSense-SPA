/*! For license information please see main.a403e1d7.js.LICENSE.txt */
(()=>{var e={9402:(e,t,n)=>{"use strict";function r(e){return new DataView(Uint8Array.from(e).buffer)}function i(e){return Array.from(new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function o(e){return r(e.trim().split(" ").filter((e=>""!==e)).map((e=>parseInt(e,16))))}function s(e){return i(e).map((e=>{let t=e.toString(16);return 1==t.length&&(t="0"+t),t})).join(" ")}function a(e){if("string"===typeof e)return e;if("number"===typeof e)return`0000${e.toString(16).padStart(4,"0")}-0000-1000-8000-00805f9b34fb`;throw new Error("Invalid UUID")}function l(e){const t={};if(e)return e.forEach(((e,n)=>{t[n.toString()]=e})),t}n.d(t,{AG:()=>a,BR:()=>o,Li:()=>l,pX:()=>s})},5403:(e,t,n)=>{"use strict";n.d(t,{E_:()=>A,F3:()=>l,Ii:()=>a});const r=(e=>e.CapacitorPlatforms=(e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t};return n.addPlatform=(e,t)=>{n.platforms.set(e,t)},n.setPlatform=e=>{n.platforms.has(e)&&(n.currentPlatform=n.platforms.get(e))},n})(e))("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});r.addPlatform,r.setPlatform;var i;!function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(i||(i={}));class o extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const s=e=>{var t,n,r,s,a;const l=e.CapacitorCustomPlatform||null,A=e.Capacitor||{},c=A.Plugins=A.Plugins||{},u=e.CapacitorPlatforms,h=(null===(t=null===u||void 0===u?void 0:u.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==l?l.name:(e=>{var t,n;return(null===e||void 0===e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null===e||void 0===e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e)),d=(null===(n=null===u||void 0===u?void 0:u.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||(()=>"web"!==h()),p=(null===(r=null===u||void 0===u?void 0:u.currentPlatform)||void 0===r?void 0:r.isPluginAvailable)||(e=>{const t=g.get(e);return!!(null===t||void 0===t?void 0:t.platforms.has(h()))||!!f(e)}),f=(null===(s=null===u||void 0===u?void 0:u.currentPlatform)||void 0===s?void 0:s.getPluginHeader)||(e=>{var t;return null===(t=A.PluginHeaders)||void 0===t?void 0:t.find((t=>t.name===e))}),g=new Map,m=(null===(a=null===u||void 0===u?void 0:u.currentPlatform)||void 0===a?void 0:a.registerPlugin)||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=g.get(e);if(n)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),n.proxy;const r=h(),s=f(e);let a;const u=n=>{let c;const u=function(){for(var u=arguments.length,h=new Array(u),d=0;d<u;d++)h[d]=arguments[d];const p=(async()=>(!a&&r in t?a=a="function"===typeof t[r]?await t[r]():t[r]:null!==l&&!a&&"web"in t&&(a=a="function"===typeof t.web?await t.web():t.web),a))().then((t=>{const a=((t,n)=>{var a,l;if(!s){if(t)return null===(l=t[n])||void 0===l?void 0:l.bind(t);throw new o(`"${e}" plugin is not implemented on ${r}`,i.Unimplemented)}{const r=null===s||void 0===s?void 0:s.methods.find((e=>n===e.name));if(r)return"promise"===r.rtype?t=>A.nativePromise(e,n.toString(),t):(t,r)=>A.nativeCallback(e,n.toString(),t,r);if(t)return null===(a=t[n])||void 0===a?void 0:a.bind(t)}})(t,n);if(a){const e=a(...h);return c=null===e||void 0===e?void 0:e.remove,e}throw new o(`"${e}.${n}()" is not implemented on ${r}`,i.Unimplemented)}));return"addListener"===n&&(p.remove=async()=>c()),p};return u.toString=()=>`${n.toString()}() { [capacitor code] }`,Object.defineProperty(u,"name",{value:n,writable:!1,configurable:!1}),u},d=u("addListener"),p=u("removeListener"),m=(e,t)=>{const n=d({eventName:e},t),r=async()=>{const r=await n;p({eventName:e,callbackId:r},t)},i=new Promise((e=>n.then((()=>e({remove:r})))));return i.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await r()},i},v=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return s?m:d;case"removeListener":return p;default:return u(t)}}});return c[e]=v,g.set(e,{name:e,proxy:v,platforms:new Set([...Object.keys(t),...s?[r]:[]])}),v};return A.convertFileSrc||(A.convertFileSrc=e=>e),A.getPlatform=h,A.handleError=t=>e.console.error(t),A.isNativePlatform=d,A.isPluginAvailable=p,A.pluginMethodNoop=(e,t,n)=>Promise.reject(`${n} does not have an implementation of "${t}".`),A.registerPlugin=m,A.Exception=o,A.DEBUG=!!A.DEBUG,A.isLoggingEnabled=!!A.isLoggingEnabled,A.platform=A.getPlatform(),A.isNative=A.isNativePlatform(),A},a=(e=>e.Capacitor=s(e))("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}),l=a.registerPlugin;a.Plugins;class A{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r),n&&this.sendRetainedArgumentsForEvent(e);return Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const r=this.listeners[e];if(r)r.forEach((e=>e(t)));else if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not implemented";return new a.Exception(e,i.Unimplemented)}unavailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not available";return new a.Exception(e,i.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const r=n.indexOf(t);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach((t=>{this.notifyListeners(e,t)})))}}const c=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),u=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class h extends A{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach((e=>{if(e.length<=0)return;let[n,r]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=u(n).trim(),r=u(r).trim(),t[n]=r})),t}async setCookie(e){try{const t=c(e.key),n=c(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${n||""}${r}; path=${i}; ${o};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}l("CapacitorCookies",{web:()=>new h});const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object.assign({method:e.method||"GET",headers:e.headers},t),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.keys(e);return Object.keys(e).map((e=>e.toLocaleLowerCase())).reduce(((n,r,i)=>(n[r]=e[t[i]],n)),{})}(e.headers),i=r["content-type"]||"";if("string"===typeof e.data)n.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,r]of Object.entries(e.data||{}))t.set(n,r);n.body=t.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach(((e,n)=>{t.append(n,e)}));else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const r=new Headers(n.headers);r.delete("content-type"),n.headers=r}else(i.includes("application/json")||"object"===typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class p extends A{async request(e){const t=d(e,e.webFetchExtra),n=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?Object.entries(e).reduce(((e,n)=>{const[r,i]=n;let o,s;return Array.isArray(i)?(s="",i.forEach((e=>{o=t?encodeURIComponent(e):e,s+=`${r}=${o}&`})),s.slice(0,-1)):(o=t?encodeURIComponent(i):i,s=`${r}=${o}`),`${e}&${s}`}),"").substr(1):null}(e.params,e.shouldEncodeUrlParams),r=n?`${e.url}?${n}`:e.url,i=await fetch(r,t),o=i.headers.get("content-type")||"";let s,a,{responseType:l="text"}=i.ok?e:{};switch(o.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":a=await i.blob(),s=await(async e=>new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{const e=r.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},r.onerror=e=>n(e),r.readAsDataURL(e)})))(a);break;case"json":s=await i.json();break;default:s=await i.text()}const A={};return i.headers.forEach(((e,t)=>{A[t]=e})),{data:s,headers:A,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}l("CapacitorHttp",{web:()=>new p})},3803:(e,t,n)=>{"use strict";n.d(t,{A:()=>ie});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,o=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function A(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function u(e,t,n){return e.slice(t,n)}function h(e){return e.length}function d(e){return e.length}function p(e,t){return t.push(e),e}var f=1,g=1,m=0,v=0,y=0,b="";function w(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:f,column:g,length:s,return:""}}function x(e,t){return s(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function _(){return y=v>0?c(b,--v):0,g--,10===y&&(g=1,f--),y}function S(){return y=v<m?c(b,v++):0,g++,10===y&&(g=1,f++),y}function C(){return c(b,v)}function B(){return v}function E(e,t){return u(b,e,t)}function M(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function T(e){return f=g=1,m=h(b=e),v=0,[]}function F(e){return b="",e}function I(e){return a(E(v-1,U(91===e?e+2:40===e?e+1:e)))}function L(e){for(;(y=C())&&y<33;)S();return M(e)>2||M(y)>3?"":" "}function P(e,t){for(;--t&&S()&&!(y<48||y>102||y>57&&y<65||y>70&&y<97););return E(e,B()+(t<6&&32==C()&&32==S()))}function U(e){for(;S();)switch(y){case e:return v;case 34:case 39:34!==e&&39!==e&&U(y);break;case 40:41===e&&U(e);break;case 92:S()}return v}function R(e,t){for(;S()&&e+y!==57&&(e+y!==84||47!==C()););return"/*"+E(t,v-1)+"*"+o(47===e?e:S())}function k(e){for(;!M(C());)S();return E(e,v)}var N="-ms-",D="-moz-",O="-webkit-",Q="comm",H="rule",z="decl",j="@keyframes";function V(e,t){for(var n="",r=d(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function W(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case z:return e.return=e.return||e.value;case Q:return"";case j:return e.return=e.value+"{"+V(e.children,r)+"}";case H:e.value=e.props.join(",")}return h(n=V(e.children,r))?e.return=e.value+"{"+n+"}":""}function G(e){return F(K("",null,null,null,[""],e=T(e),0,[0],e))}function K(e,t,n,r,i,s,a,u,d){for(var f=0,g=0,m=a,v=0,y=0,b=0,w=1,x=1,E=1,M=0,T="",F=i,U=s,N=r,D=T;x;)switch(b=M,M=S()){case 40:if(108!=b&&58==c(D,m-1)){-1!=A(D+=l(I(M),"&","&\f"),"&\f")&&(E=-1);break}case 34:case 39:case 91:D+=I(M);break;case 9:case 10:case 13:case 32:D+=L(b);break;case 92:D+=P(B()-1,7);continue;case 47:switch(C()){case 42:case 47:p(X(R(S(),B()),t,n),d);break;default:D+="/"}break;case 123*w:u[f++]=h(D)*E;case 125*w:case 59:case 0:switch(M){case 0:case 125:x=0;case 59+g:-1==E&&(D=l(D,/\f/g,"")),y>0&&h(D)-m&&p(y>32?Y(D+";",r,n,m-1):Y(l(D," ","")+";",r,n,m-2),d);break;case 59:D+=";";default:if(p(N=q(D,t,n,f,g,i,u,T,F=[],U=[],m),s),123===M)if(0===g)K(D,t,N,N,F,s,m,u,U);else switch(99===v&&110===c(D,3)?100:v){case 100:case 108:case 109:case 115:K(e,N,N,r&&p(q(e,N,N,0,0,i,u,T,i,F=[],m),U),i,U,m,u,r?F:U);break;default:K(D,N,N,N,[""],U,0,u,U)}}f=g=y=0,w=E=1,T=D="",m=a;break;case 58:m=1+h(D),y=b;default:if(w<1)if(123==M)--w;else if(125==M&&0==w++&&125==_())continue;switch(D+=o(M),M*w){case 38:E=g>0?1:(D+="\f",-1);break;case 44:u[f++]=(h(D)-1)*E,E=1;break;case 64:45===C()&&(D+=I(S())),v=C(),g=m=h(T=D+=k(B())),M++;break;case 45:45===b&&2==h(D)&&(w=0)}}return s}function q(e,t,n,r,o,s,A,c,h,p,f){for(var g=o-1,m=0===o?s:[""],v=d(m),y=0,b=0,x=0;y<r;++y)for(var _=0,S=u(e,g+1,g=i(b=A[y])),C=e;_<v;++_)(C=a(b>0?m[_]+" "+S:l(S,/&\f/g,m[_])))&&(h[x++]=C);return w(e,t,n,0===o?H:c,h,p,f)}function X(e,t,n){return w(e,t,n,Q,o(y),u(e,2,-2),0)}function Y(e,t,n,r){return w(e,t,n,z,u(e,0,r),u(e,r+1,-1),r)}var $=function(e,t,n){for(var r=0,i=0;r=i,i=C(),38===r&&12===i&&(t[n]=1),!M(i);)S();return E(e,v)},J=function(e,t){return F(function(e,t){var n=-1,r=44;do{switch(M(r)){case 0:38===r&&12===C()&&(t[n]=1),e[n]+=$(v-1,t,n);break;case 2:e[n]+=I(r);break;case 4:if(44===r){e[++n]=58===C()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=S());return e}(T(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!r){Z.set(e,!0);for(var i=[],o=J(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var A=0;A<s.length;A++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[A]):s[A]+" "+o[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^c(e,0)?(((t<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3):0}(e,t)){case 5103:return O+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return O+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return O+e+D+e+N+e+e;case 6828:case 4268:return O+e+N+e+e;case 6165:return O+e+N+"flex-"+e+e;case 5187:return O+e+l(e,/(\w+).+(:[^]+)/,O+"box-$1$2"+N+"flex-$1$2")+e;case 5443:return O+e+N+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return O+e+N+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return O+e+N+l(e,"shrink","negative")+e;case 5292:return O+e+N+l(e,"basis","preferred-size")+e;case 6060:return O+"box-"+l(e,"-grow","")+O+e+N+l(e,"grow","positive")+e;case 4554:return O+l(e,/([^-])(transform)/g,"$1"+O+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,O+"$1"),/(image-set)/,O+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,O+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,O+"box-pack:$3"+N+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+O+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,O+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(c(e,t+1)){case 109:if(45!==c(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+O+"$2-$3$1"+D+(108==c(e,t+3)?"$3":"$2-$3"))+e;case 115:return~A(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==c(e,t+1))break;case 6444:switch(c(e,h(e)-3-(~A(e,"!important")&&10))){case 107:return l(e,":",":"+O)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+O+(45===c(e,14)?"inline-":"")+"box$3$1"+O+"$2$3$1"+N+"$2box$3")+e}break;case 5936:switch(c(e,t+11)){case 114:return O+e+N+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return O+e+N+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return O+e+N+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return O+e+N+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case z:e.return=ne(e.value,e.length);break;case j:return V([x(e,{value:l(e.value,"@","@"+O)})],r);case H:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return V([x(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return V([x(e,{props:[l(t,/:(plac\w+)/,":"+O+"input-$1")]}),x(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),x(e,{props:[l(t,/:(plac\w+)/,N+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i,o,s=e.stylisPlugins||re,a={},l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var A,c,u=[W,(c=function(e){A.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],h=function(e){var t=d(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([ee,te].concat(s,u));o=function(e,t,n,r){A=n,V(G(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return p.sheet.hydrate(l),p}},918:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},7541:(e,t,n)=>{"use strict";n.d(t,{C:()=>l,T:()=>c,a:()=>h,w:()=>A});var r=n(5043),i=n(3803),o=n(8168),s=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}},a=(n(6598),n(9436),r.createContext("undefined"!==typeof HTMLElement?(0,i.A)({key:"css"}):null)),l=a.Provider,A=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(a);return e(t,i,n)}))},c=r.createContext({}),u=s((function(e){return s((function(t){return function(e,t){return"function"===typeof t?t(e):(0,o.A)({},e,t)}(e,t)}))})),h=function(e){var t=r.useContext(c);return e.theme!==t&&(t=u(t)(e.theme)),r.createElement(c.Provider,{value:t},e.children)}},3290:(e,t,n)=>{"use strict";n.d(t,{AH:()=>A,i7:()=>c,mL:()=>l});var r=n(7541),i=n(5043),o=n(1722),s=n(9436),a=n(6598),l=(n(3803),n(219),(0,r.w)((function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,i.useContext(r.T)),A=i.useRef();return(0,s.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),A.current=[n,r],function(){n.flush()}}),[t]),(0,s.i)((function(){var e=A.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,o.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null})));function A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}var c=function(){var e=A.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},6598:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=n(918),o=!1,s=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},A=function(e){return null!=e&&"boolean"!==typeof e},c=(0,i.A)((function(e){return l(e)?e:e.replace(s,"-$&").toLowerCase()})),u=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,(function(e,t,n){return p={name:t,styles:n,next:p},t}))}return 1===r[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},h="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function d(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return p={name:i.name,styles:i.styles,next:p},i.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)p={name:a.name,styles:a.styles,next:p},a=a.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=d(e,t,n[i])+";";else for(var s in n){var a=n[s];if("object"!==typeof a){var l=a;null!=t&&void 0!==t[l]?r+=s+"{"+t[l]+"}":A(l)&&(r+=c(s)+":"+u(s,l)+";")}else{if("NO_COMPONENT_SELECTOR"===s&&o)throw new Error(h);if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var p=d(e,t,a);switch(s){case"animation":case"animationName":r+=c(s)+":"+p+";";break;default:r+=s+"{"+p+"}"}}else for(var f=0;f<a.length;f++)A(a[f])&&(r+=c(s)+":"+u(s,a[f])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var l=p,f=n(e);return p=l,d(e,t,f)}}var g=n;if(null==t)return g;var m=t[g];return void 0!==m?m:g}var p,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g;function g(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";p=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=d(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++){if(i+=d(n,t,e[s]),r)i+=o[s]}f.lastIndex=0;for(var a,l="";null!==(a=f.exec(i));)l+="-"+a[1];var A=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:A,styles:i,next:p}}},9436:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a,s:()=>s});var i=n(5043),o=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,s=o||function(e){return e()},a=o||i.useLayoutEffect},1722:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>i,sk:()=>o});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},o=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}},3761:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M10 2c-1.82 0-3.53.5-5 1.35C7.99 5.08 10 8.3 10 12s-2.01 6.92-5 8.65C6.47 21.5 8.18 22 10 22c5.52 0 10-4.48 10-10S15.52 2 10 2"}),"Brightness2")},4914:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")},6520:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite")},7030:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined")},9704:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"}),"Pause")},4469:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow")},9280:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M6 6h12v12H6z"}),"Stop")},7260:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},3702:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var i=r(n(39)),o=n(579);t.A=(0,i.default)((0,o.jsx)("path",{d:"m6.76 4.84-1.8-1.79-1.41 1.41 1.79 1.79zM4 10.5H1v2h3zm9-9.95h-2V3.5h2zm7.45 3.91-1.41-1.41-1.79 1.79 1.41 1.41zm-3.21 13.7 1.79 1.8 1.41-1.41-1.8-1.79zM20 10.5v2h3v-2zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6m-1 16.95h2V19.5h-2zm-7.45-3.91 1.41 1.41 1.79-1.8-1.41-1.41z"}),"WbSunny")},39:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(4421)},8206:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});n(5043);var r=n(3654);n(579);function i(e){return(0,r.b)(e)}},5881:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),A=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case h:case d:return e;default:switch(e=e&&e.$$typeof){case c:case A:case u:case f:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},805:(e,t,n)=>{"use strict";n(5881)},8279:(e,t,n)=>{"use strict";n.d(t,{A:()=>O});var r=n(8168),i=n(8587),o=n(7868),s=n(9172),a=n(7758),l=n(8812),A=n(8280);var c=n(7266);const u={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},d={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},f={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},m={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},v={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},y=["mode","contrastThreshold","tonalOffset"],b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:u.white,default:u.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:u.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:u.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function x(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,c.a)(e.main,i):"dark"===t&&(e.dark=(0,c.e$)(e.main,o)))}function _(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:a=.2}=e,l=(0,i.A)(e,y),A=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(t),_=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:d[200],light:d[50],dark:d[400]}:{main:d[500],light:d[300],dark:d[700]}}(t),S=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(t),C=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:m[700],light:m[500],dark:m[900]}}(t),B=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[800],light:v[500],dark:v[900]}}(t),E=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[400],light:f[300],dark:f[700]}:{main:"#ed6c02",light:f[500],dark:f[900]}}(t);function M(e){return(0,c.eM)(e,w.text.primary)>=n?w.text.primary:b.text.primary}const T=e=>{let{color:t,name:n,mainShade:i=500,lightShade:s=300,darkShade:l=700}=e;if(t=(0,r.A)({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error((0,o.A)(11,n?` (${n})`:"",i));if("string"!==typeof t.main)throw new Error((0,o.A)(12,n?` (${n})`:"",JSON.stringify(t.main)));return x(t,"light",s,a),x(t,"dark",l,a),t.contrastText||(t.contrastText=M(t.main)),t},F={dark:w,light:b};return(0,s.A)((0,r.A)({common:(0,r.A)({},u),mode:t,primary:T({color:A,name:"primary"}),secondary:T({color:_,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:T({color:S,name:"error"}),warning:T({color:E,name:"warning"}),info:T({color:C,name:"info"}),success:T({color:B,name:"success"}),grey:h,contrastThreshold:n,getContrastText:M,augmentColor:T,tonalOffset:a},F[t]),l)}const S=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const C={textTransform:"uppercase"},B='"Roboto", "Helvetica", "Arial", sans-serif';function E(e,t){const n="function"===typeof t?t(e):t,{fontFamily:o=B,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:A=400,fontWeightMedium:c=500,fontWeightBold:u=700,htmlFontSize:h=16,allVariants:d,pxToRem:p}=n,f=(0,i.A)(n,S);const g=a/14,m=p||(e=>e/h*g+"rem"),v=(e,t,n,i,s)=>{return(0,r.A)({fontFamily:o,fontWeight:e,fontSize:m(t),lineHeight:n},o===B?{letterSpacing:(a=i/t,Math.round(1e5*a)/1e5)+"em"}:{},s,d);var a},y={h1:v(l,96,1.167,-1.5),h2:v(l,60,1.2,-.5),h3:v(A,48,1.167,0),h4:v(A,34,1.235,.25),h5:v(A,24,1.334,0),h6:v(c,20,1.6,.15),subtitle1:v(A,16,1.75,.15),subtitle2:v(c,14,1.57,.1),body1:v(A,16,1.5,.15),body2:v(A,14,1.43,.15),button:v(c,14,1.75,.4,C),caption:v(A,12,1.66,.4),overline:v(A,12,2.66,1,C),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,s.A)((0,r.A)({htmlFontSize:h,pxToRem:m,fontFamily:o,fontSize:a,fontWeightLight:l,fontWeightRegular:A,fontWeightMedium:c,fontWeightBold:u},y),f,{clone:!1})}function M(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const T=["none",M(0,2,1,-1,0,1,1,0,0,1,3,0),M(0,3,1,-2,0,2,2,0,0,1,5,0),M(0,3,3,-2,0,3,4,0,0,1,8,0),M(0,2,4,-1,0,4,5,0,0,1,10,0),M(0,3,5,-1,0,5,8,0,0,1,14,0),M(0,3,5,-1,0,6,10,0,0,1,18,0),M(0,4,5,-2,0,7,10,1,0,2,16,1),M(0,5,5,-3,0,8,10,1,0,3,14,2),M(0,5,6,-3,0,9,12,1,0,3,16,2),M(0,6,6,-3,0,10,14,1,0,4,18,3),M(0,6,7,-4,0,11,15,1,0,4,20,3),M(0,7,8,-4,0,12,17,2,0,5,22,4),M(0,7,8,-4,0,13,19,2,0,5,24,4),M(0,7,9,-4,0,14,21,2,0,5,26,4),M(0,8,9,-5,0,15,22,2,0,6,28,5),M(0,8,10,-5,0,16,24,2,0,6,30,5),M(0,8,11,-5,0,17,26,2,0,6,32,5),M(0,9,11,-5,0,18,28,2,0,7,34,6),M(0,9,12,-6,0,19,29,2,0,7,36,6),M(0,10,13,-6,0,20,31,3,0,8,38,7),M(0,10,13,-6,0,21,33,3,0,8,40,7),M(0,10,14,-6,0,22,35,3,0,8,42,7),M(0,11,14,-7,0,23,36,3,0,9,44,8),M(0,11,15,-7,0,24,38,3,0,9,46,8)],F=["duration","easing","delay"],I={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},L={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function P(e){return`${Math.round(e)}ms`}function U(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function R(e){const t=(0,r.A)({},I,e.easing),n=(0,r.A)({},L,e.duration);return(0,r.A)({getAutoHeightDuration:U,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:o=n.standard,easing:s=t.easeInOut,delay:a=0}=r;(0,i.A)(r,F);return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof o?o:P(o)} ${s} ${"string"===typeof a?a:P(a)}`)).join(",")}},e,{easing:t,duration:n})}const k={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},N=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:c={},typography:u={}}=e,h=(0,i.A)(e,N);if(e.vars)throw new Error((0,o.A)(18));const d=_(n),p=(0,A.A)(e);let f=(0,s.A)(p,{mixins:(g=p.breakpoints,m=t,(0,r.A)({toolbar:{minHeight:56,[g.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[g.up("sm")]:{minHeight:64}}},m)),palette:d,shadows:T.slice(),typography:E(d,u),transitions:R(c),zIndex:(0,r.A)({},k)});var g,m;f=(0,s.A)(f,h);for(var v=arguments.length,y=new Array(v>1?v-1:0),b=1;b<v;b++)y[b-1]=arguments[b];return f=y.reduce(((e,t)=>(0,s.A)(e,t)),f),f.unstable_sxConfig=(0,r.A)({},a.A,null==h?void 0:h.unstable_sxConfig),f.unstable_sx=function(e){return(0,l.A)({sx:e,theme:this})},f}const O=D},5170:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(8279).A)()},3375:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r="$$material"},1475:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7123);const i=e=>(0,r.A)(e)&&"classes"!==e},7123:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}},4535:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a});var r=n(8052),i=n(5170),o=n(3375),s=n(1475);const a=(0,r.Ay)({themeId:o.A,defaultTheme:i.A,rootShouldForwardProp:s.A})},6803:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(7598).A},9662:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(8168),i=n(5043),o=n(8587),s=n(8387),a=n(8610),l=n(6803),A=n(8206),c=n(4535),u=n(2532),h=n(2372);function d(e){return(0,h.Ay)("MuiSvgIcon",e)}(0,u.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(579);const f=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,c.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${(0,l.A)(n.color)}`],t[`fontSize${(0,l.A)(n.fontSize)}`]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i,o,s,a,l,A,c,u,h,d,p,f;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(A=l.pxToRem)?void 0:A.call(l,24))||"1.5rem",large:(null==(c=t.typography)||null==(u=c.pxToRem)?void 0:u.call(c,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(d=(t.vars||t).palette)||null==(d=d[n.color])?void 0:d.main)?h:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.disabled,inherit:void 0}[n.color]}})),m=i.forwardRef((function(e,t){const n=(0,A.b)({props:e,name:"MuiSvgIcon"}),{children:c,className:u,color:h="inherit",component:m="svg",fontSize:v="medium",htmlColor:y,inheritViewBox:b=!1,titleAccess:w,viewBox:x="0 0 24 24"}=n,_=(0,o.A)(n,f),S=i.isValidElement(c)&&"svg"===c.type,C=(0,r.A)({},n,{color:h,component:m,fontSize:v,instanceFontSize:e.fontSize,inheritViewBox:b,viewBox:x,hasSvgAsChild:S}),B={};b||(B.viewBox=x);const E=(e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root","inherit"!==t&&`color${(0,l.A)(t)}`,`fontSize${(0,l.A)(n)}`]};return(0,a.A)(i,d,r)})(C);return(0,p.jsxs)(g,(0,r.A)({as:m,className:(0,s.A)(E.root,u),focusable:"false",color:y,"aria-hidden":!w||void 0,role:w?"img":void 0,ref:t},B,_,S&&c.props,{ownerState:C,children:[S?c.props.children:c,w?(0,p.jsx)("title",{children:w}):null]}))}));m.muiName="SvgIcon";const v=m;function y(e,t){function n(n,i){return(0,p.jsx)(v,(0,r.A)({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return n.muiName=v.muiName,i.memo(i.forwardRef(n))}},950:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3468).A},4421:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>i.A,createChainedFunction:()=>o,createSvgIcon:()=>s.A,debounce:()=>a.A,deprecatedPropType:()=>l,isMuiElement:()=>A.A,ownerDocument:()=>c.A,ownerWindow:()=>u.A,requirePropFactory:()=>h,setRef:()=>d,unstable_ClassNameGenerator:()=>w,unstable_useEnhancedEffect:()=>p.A,unstable_useId:()=>f.A,unsupportedProp:()=>g,useControlled:()=>m.A,useEventCallback:()=>v.A,useForkRef:()=>y.A,useIsFocusVisible:()=>b.A});var r=n(9386),i=n(6803);const o=n(2456).A;var s=n(9662),a=n(950);const l=function(e,t){return()=>null};var A=n(7328),c=n(2427),u=n(6078);n(8168);const h=function(e,t){return()=>null};const d=n(6564).A;var p=n(5013),f=n(5879);const g=function(e,t,n,r,i){return null};var m=n(5420),v=n(3319),y=n(5849),b=n(3574);const w={configure:e=>{r.A.configure(e)}}},7328:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5043);const i=function(e,t){var n,i;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)}},2427:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1668).A},6078:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3940).A},5420:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5043);const i=function(e){let{controlled:t,default:n,name:i,state:o="value"}=e;const{current:s}=r.useRef(void 0!==t),[a,l]=r.useState(n);return[s?t:a,r.useCallback((e=>{s||l(e)}),[])]}},5013:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(4440).A},3319:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1782).A},5849:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3462).A},5879:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(5844).A},3574:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(5043),i=n(9303);let o=!0,s=!1;const a=new i.E,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function A(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function c(){o=!1}function u(){"hidden"===this.visibilityState&&s&&(o=!0)}function h(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const d=function(){const e=r.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",A,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",u,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!h(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(s=!0,a.start(100,(()=>{s=!1})),t.current=!1,!0)},ref:e}}},869:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(5043);var r=n(3290),i=n(579);function o(e){const{styles:t,defaultTheme:n={}}=e,o="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,i.jsx)(r.mL,{styles:o})}},3174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>_.A,StyledEngineProvider:()=>x,ThemeContext:()=>l.T,css:()=>v.AH,default:()=>S,internal_processStyles:()=>C,keyframes:()=>v.i7});var r=n(8168),i=n(5043),o=n(918),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,o.A)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(7541),A=n(1722),c=n(6598),u=n(9436),h=a,d=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:d},f=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,A.SF)(t,n,r),(0,u.s)((function(){return(0,A.sk)(t,n,r)})),null},m=function e(t,n){var o,s,a=t.__emotion_real===t,u=a&&t.__emotion_base||t;void 0!==n&&(o=n.label,s=n.target);var h=f(t,n,a),d=h||p(u),m=!d("as");return function(){var v=arguments,y=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&y.push("label:"+o+";"),null==v[0]||void 0===v[0].raw)y.push.apply(y,v);else{y.push(v[0][0]);for(var b=v.length,w=1;w<b;w++)y.push(v[w],v[0][w])}var x=(0,l.w)((function(e,t,n){var r=m&&e.as||u,o="",a=[],f=e;if(null==e.theme){for(var v in f={},e)f[v]=e[v];f.theme=i.useContext(l.T)}"string"===typeof e.className?o=(0,A.Rk)(t.registered,a,e.className):null!=e.className&&(o=e.className+" ");var b=(0,c.J)(y.concat(a),t.registered,f);o+=t.key+"-"+b.name,void 0!==s&&(o+=" "+s);var w=m&&void 0===h?p(r):d,x={};for(var _ in e)m&&"as"===_||w(_)&&(x[_]=e[_]);return x.className=o,n&&(x.ref=n),i.createElement(i.Fragment,null,i.createElement(g,{cache:t,serialized:b,isStringTag:"string"===typeof r}),i.createElement(r,x))}));return x.displayName=void 0!==o?o:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=u,x.__emotion_styles=y,x.__emotion_forwardProp=h,Object.defineProperty(x,"toString",{value:function(){return"."+s}}),x.withComponent=function(t,i){return e(t,(0,r.A)({},n,i,{shouldForwardProp:f(x,i,!0)})).apply(void 0,y)},x}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){m[e]=m(e)}));var v=n(3290),y=n(3803),b=n(579);let w;function x(e){const{injectFirst:t,children:n}=e;return t&&w?(0,b.jsx)(l.C,{value:w,children:n}):n}"object"===typeof document&&(w=(0,y.A)({key:"css",prepend:!0}));var _=n(869);function S(e,t){return m(e,t)}const C=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},7266:(e,t,n)=>{"use strict";var r=n(4994);t.X4=d,t.e$=p,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=f;var i=r(n(457)),o=r(n(9214));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,o.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,i.default)(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,i.default)(10,r))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:r}}const A=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?`${e}%`:e)).join(" ")};function c(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function u(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const A=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",A.push(t[3])),c({type:a,values:A})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(u(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function d(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,c(e)}function p(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return c(e)}function f(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return c(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?p(e,t):f(e,t)}},8052:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=f,rootShouldForwardProp:r=p,slotShouldForwardProp:l=p}=e,c=e=>(0,A.default)((0,i.default)({},e,{theme:m((0,i.default)({},e,{defaultTheme:n,themeId:t}))}));return c.__mui_systemSx=!0,function(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:u,slot:d,skipVariantsResolver:f,skipSx:b,overridesResolver:w=v(g(d))}=A,x=(0,o.default)(A,h),_=void 0!==f?f:d&&"Root"!==d&&"root"!==d||!1,S=b||!1;let C=p;"Root"===d||"root"===d?C=r:d?C=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(C=void 0);const B=(0,s.default)(e,(0,i.default)({shouldForwardProp:C,label:undefined},x)),E=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>y(e,(0,i.default)({},r,{theme:m({theme:r.theme,defaultTheme:n,themeId:t})})):e,M=function(r){let o=E(r);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const A=a?a.map(E):[];u&&w&&A.push((e=>{const r=m((0,i.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[u]||!r.components[u].styleOverrides)return null;const o=r.components[u].styleOverrides,s={};return Object.entries(o).forEach((t=>{let[n,o]=t;s[n]=y(o,(0,i.default)({},e,{theme:r}))})),w(e,s)})),u&&!_&&A.push((e=>{var r;const o=m((0,i.default)({},e,{defaultTheme:n,themeId:t}));return y({variants:null==o||null==(r=o.components)||null==(r=r[u])?void 0:r.variants},(0,i.default)({},e,{theme:o}))})),S||A.push(c);const h=A.length-a.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");o=[...r,...e],o.raw=[...r.raw,...e]}const d=B(o,...A);return e.muiName&&(d.muiName=e.muiName),d};return B.withConfig&&(M.withConfig=B.withConfig),M}};var i=r(n(4634)),o=r(n(4893)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(3174)),a=n(9482),l=(r(n(7918)),r(n(3382)),r(n(4989))),A=r(n(3234));const c=["ownerState"],u=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const f=(0,l.default)(),g=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function m(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function v(e){return e?(t,n)=>n[e]:null}function y(e,t){let{ownerState:n}=t,r=(0,o.default)(t,c);const s="function"===typeof e?e((0,i.default)({ownerState:n},r)):e;if(Array.isArray(s))return s.flatMap((e=>y(e,(0,i.default)({ownerState:n},r))));if(s&&"object"===typeof s&&Array.isArray(s.variants)){const{variants:e=[]}=s;let t=(0,o.default)(s,u);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,i.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,i.default)({ownerState:n},r,n)):e.style))})),t}return s}},3654:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,b:()=>a});var r=n(5043),i=n(3030),o=n(579);const s=r.createContext(void 0);function a(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?(0,i.A)(o.defaultProps,r):o.styleOverrides||o.variants?r:(0,i.A)(o,r)}({props:t,name:n,theme:{components:r.useContext(s)}})}const l=function(e){let{value:t,children:n}=e;return(0,o.jsx)(s.Provider,{value:t,children:n})}},9751:(e,t,n)=>{"use strict";n.d(t,{EU:()=>s,NI:()=>o,kW:()=>l,vf:()=>a,zu:()=>r});const r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${r[e]}px)`};function o(e,t,n){const o=e.theme||{};if(Array.isArray(t)){const e=o.breakpoints||i;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=o.breakpoints||i;return Object.keys(t).reduce(((i,o)=>{if(-1!==Object.keys(e.values||r).indexOf(o)){i[e.up(o)]=n(t[o],o)}else{const e=o;i[e]=t[e]}return i}),{})}return n(t)}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function a(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function l(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),o=Object.keys(i);if(0===o.length)return t;let s;return o.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e)),{})}},9703:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},4853:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8587),i=n(8168);const o=["values","unit","step"],s=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,i.A)({},e,{[t.key]:t.val})),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,r.A)(e,o),A=s(t),c=Object.keys(A);function u(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function h(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-a/100}${n})`}function d(e,r){const i=c.indexOf(r);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==i&&"number"===typeof t[c[i]]?t[c[i]]:r)-a/100}${n})`}return(0,i.A)({keys:c,values:A,up:u,down:h,between:d,only:function(e){return c.indexOf(e)+1<c.length?d(e,c[c.indexOf(e)+1]):u(e)},not:function(e){const t=c.indexOf(e);return 0===t?u(c[1]):t===c.length-1?h(c[t]):d(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},8280:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(8168),i=n(8587),o=n(9172),s=n(4853);const a={borderRadius:4};var l=n(8604);var A=n(8812),c=n(7758),u=n(9703);const h=["breakpoints","palette","spacing","shape"];const d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:d,shape:p={}}=e,f=(0,i.A)(e,h),g=(0,s.A)(t),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}(d);let v=(0,o.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:m,shape:(0,r.A)({},a,p)},f);v.applyStyles=u.A;for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];return v=b.reduce(((e,t)=>(0,o.A)(e,t)),v),v.unstable_sxConfig=(0,r.A)({},c.A,null==f?void 0:f.unstable_sxConfig),v.unstable_sx=function(e){return(0,A.A)({sx:e,theme:this})},v}},4989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>i.A,unstable_applyStyles:()=>o.A});var r=n(8280),i=n(4853),o=n(9703)},3815:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9172);const i=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},8604:(e,t,n)=>{"use strict";n.d(t,{LX:()=>p,MA:()=>d,_W:()=>f,Lc:()=>v,Ms:()=>y});var r=n(9751),i=n(7162),o=n(3815);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},A=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],i=a[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),c=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],u=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...c,...u];function d(e,t,n,r){var o;const s=null!=(o=(0,i.Yn)(e,t,!1))?o:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function p(e){return d(e,"spacing",8)}function f(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:`-${n}`}function g(e,t,n,i){if(-1===t.indexOf(n))return null;const o=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=f(t,n),e)),{})}(A(n),i),s=e[n];return(0,r.NI)(e,s,o)}function m(e,t){const n=p(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(o.A,{})}function v(e){return m(e,c)}function y(e){return m(e,u)}function b(e){return m(e,h)}v.propTypes={},v.filterProps=c,y.propTypes={},y.filterProps=u,b.propTypes={},b.filterProps=h},7162:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>o});var r=n(7598),i=n(9751);function o(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,A=e=>{if(null==e[t])return null;const A=e[t],c=o(e.theme,a)||{};return(0,i.NI)(e,A,(e=>{let i=s(c,l,e);return e===i&&"string"===typeof e&&(i=s(c,l,`${t}${"default"===e?"":(0,r.A)(e)}`,e)),!1===n?i:{[n]:i}}))};return A.propTypes={},A.filterProps=[t],A}},7758:(e,t,n)=>{"use strict";n.d(t,{A:()=>U});var r=n(8604),i=n(7162),o=n(3815);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,o.A)(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};var a=n(9751);function l(e){return"number"!==typeof e?e:`${e}px solid`}function A(e,t){return(0,i.Ay)({prop:e,themeKey:"borders",transform:t})}const c=A("border",l),u=A("borderTop",l),h=A("borderRight",l),d=A("borderBottom",l),p=A("borderLeft",l),f=A("borderColor"),g=A("borderTopColor"),m=A("borderRightColor"),v=A("borderBottomColor"),y=A("borderLeftColor"),b=A("outline",l),w=A("outlineColor"),x=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};x.propTypes={},x.filterProps=["borderRadius"];s(c,u,h,d,p,f,g,m,v,y,x,b,w);const _=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};_.propTypes={},_.filterProps=["gap"];const S=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};S.propTypes={},S.filterProps=["columnGap"];const C=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};C.propTypes={},C.filterProps=["rowGap"];s(_,S,C,(0,i.Ay)({prop:"gridColumn"}),(0,i.Ay)({prop:"gridRow"}),(0,i.Ay)({prop:"gridAutoFlow"}),(0,i.Ay)({prop:"gridAutoColumns"}),(0,i.Ay)({prop:"gridAutoRows"}),(0,i.Ay)({prop:"gridTemplateColumns"}),(0,i.Ay)({prop:"gridTemplateRows"}),(0,i.Ay)({prop:"gridTemplateAreas"}),(0,i.Ay)({prop:"gridArea"}));function B(e,t){return"grey"===t?t:e}s((0,i.Ay)({prop:"color",themeKey:"palette",transform:B}),(0,i.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:B}),(0,i.Ay)({prop:"backgroundColor",themeKey:"palette",transform:B}));function E(e){return e<=1&&0!==e?100*e+"%":e}const M=(0,i.Ay)({prop:"width",transform:E}),T=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:`${i}${e.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:E(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};T.filterProps=["maxWidth"];const F=(0,i.Ay)({prop:"minWidth",transform:E}),I=(0,i.Ay)({prop:"height",transform:E}),L=(0,i.Ay)({prop:"maxHeight",transform:E}),P=(0,i.Ay)({prop:"minHeight",transform:E}),U=((0,i.Ay)({prop:"size",cssProperty:"width",transform:E}),(0,i.Ay)({prop:"size",cssProperty:"height",transform:E}),s(M,T,F,I,L,P,(0,i.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:x},color:{themeKey:"palette",transform:B},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:B},backgroundColor:{themeKey:"palette",transform:B},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:_},rowGap:{style:C},columnGap:{style:S},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:E},maxWidth:{style:T},minWidth:{transform:E},height:{transform:E},maxHeight:{transform:E},minHeight:{transform:E},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},8698:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var r=n(8168),i=n(8587),o=n(9172),s=n(7758);const a=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function A(e){const{sx:t}=e,n=(0,i.A)(e,a),{systemProps:s,otherProps:A}=l(n);let c;return c=Array.isArray(t)?[s,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,o.Q)(e)?(0,r.A)({},s,e):s}:(0,r.A)({},s,t),(0,r.A)({},A,{sx:c})}},3234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>i.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>o.A});var r=n(8812),i=n(8698),o=n(7758)},8812:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,k:()=>l});var r=n(7598),i=n(3815),o=n(7162),s=n(9751),a=n(7758);function l(){function e(e,t,n,i){const a={[e]:t,theme:n},l=i[e];if(!l)return{[e]:t};const{cssProperty:A=e,themeKey:c,transform:u,style:h}=l;if(null==t)return null;if("typography"===c&&"inherit"===t)return{[e]:t};const d=(0,o.Yn)(n,c)||{};if(h)return h(a);return(0,s.NI)(a,t,(t=>{let n=(0,o.BO)(d,u,t);return t===n&&"string"===typeof t&&(n=(0,o.BO)(d,u,`${e}${"default"===t?"":(0,r.A)(t)}`,t)),!1===A?n:{[A]:n}}))}return function t(n){var r;const{sx:o,theme:l={}}=n||{};if(!o)return null;const A=null!=(r=l.unstable_sxConfig)?r:a.A;function c(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const o=(0,s.EU)(l.breakpoints),a=Object.keys(o);let c=o;return Object.keys(r).forEach((n=>{const o=(a=r[n],u=l,"function"===typeof a?a(u):a);var a,u;if(null!==o&&void 0!==o)if("object"===typeof o)if(A[n])c=(0,i.A)(c,e(n,o,l,A));else{const e=(0,s.NI)({theme:l},o,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,o)?c=(0,i.A)(c,e):c[n]=t({sx:o,theme:l})}else c=(0,i.A)(c,e(n,o,l,A))})),(0,s.vf)(a,c)}return Array.isArray(o)?o.map(c):c(o)}}const A=l();A.filterProps=["sx"];const c=A},2374:(e,t,n)=>{"use strict";t.A=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}(n(5043)),i=n(3174);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(i.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},9386:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r=e=>e,i=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})()},7598:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7868);function i(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7918:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7598)},9214:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},8610:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{A:()=>r})},2456:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}n.d(t,{A:()=>r})},3468:(e,t,n)=>{"use strict";function r(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r}n.d(t,{A:()=>r})},9172:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,Q:()=>i});var r=n(8168);function i(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function o(e){if(!i(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=o(e[n])})),t}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=n.clone?(0,r.A)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{i(t[r])&&Object.prototype.hasOwnProperty.call(e,r)&&i(e[r])?a[r]=s(e[r],t[r],n):n.clone?a[r]=i(t[r])?o(t[r]):t[r]:a[r]=t[r]})),a}},9482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(9172)},7868:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7868)},2372:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>o});var r=n(9386);const i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const o=i[t];return o?`${n}-${o}`:`${r.A.generate(e)}-${t}`}},2532:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2372);function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i={};return t.forEach((t=>{i[t]=(0,r.Ay)(e,t,n)})),i}},3382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>o});var r=n(9565);const i=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function o(e){const t=`${e}`.match(i);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||o(e)||t}function a(e,t,n){const r=s(t);return e.displayName||(""!==r?`${n}(${r})`:n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.ForwardRef:return a(e,e.render,"ForwardRef");case r.Memo:return a(e,e.type,"memo");default:return}}}},1668:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{A:()=>r})},3940:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(1668);function i(e){return(0,r.A)(e).defaultView||window}},3030:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(8168);function i(e,t){const n=(0,r.A)({},t);return Object.keys(e).forEach((o=>{if(o.toString().match(/^(components|slots)$/))n[o]=(0,r.A)({},e[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const s=e[o]||{},a=t[o];n[o]={},a&&Object.keys(a)?s&&Object.keys(s)?(n[o]=(0,r.A)({},a),Object.keys(s).forEach((e=>{n[o][e]=i(s[e],a[e])}))):n[o]=a:n[o]=s}else void 0===n[o]&&(n[o]=e[o])})),n}},6564:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{A:()=>r})},4440:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5043);const i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},1782:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5043),i=n(4440);const o=function(e){const t=r.useRef(e);return(0,i.A)((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current}},3462:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5043),i=n(6564);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,i.A)(t,e)}))}),t)}},5844:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>a});var i=n(5043);let o=0;const s=(r||(r=n.t(i,2)))["useId".toString()];function a(e){if(void 0!==s){const t=s();return null!=e?e:t}return function(e){const[t,n]=i.useState(e),r=e||t;return i.useEffect((()=>{null==t&&(o+=1,n(`mui-${o}`))}),[t]),r}(e)}},9303:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,A:()=>a});var r=n(5043);const i={};const o=[];class s{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new s}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function a(){const e=function(e,t){const n=r.useRef(i);return n.current===i&&(n.current=e(t)),n}(s.create).current;var t;return t=e.disposeEffect,r.useEffect(t,o),e}},8609:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),A=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case h:case d:return e;default:switch(e=e&&e.$$typeof){case c:case A:case u:case f:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=u,t.Memo=p},9565:(e,t,n)=>{"use strict";e.exports=n(8609)},4695:e=>{function t(e,t,n){var r,i,o,s,a;function l(){var A=Date.now()-s;A<t&&A>=0?r=setTimeout(l,t-A):(r=null,n||(a=e.apply(o,i),o=i=null))}null==t&&(t=100);var A=function(){o=this,i=arguments,s=Date.now();var A=n&&!r;return r||(r=setTimeout(l,t)),A&&(a=e.apply(o,i),o=i=null),a};return A.clear=function(){r&&(clearTimeout(r),r=null)},A.flush=function(){r&&(a=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},A}t.debounce=t,e.exports=t},219:(e,t,n)=>{"use strict";var r=n(2086),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var A=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var s=c(n);u&&(s=s.concat(u(n)));for(var a=l(t),f=l(n),g=0;g<s.length;++g){var m=s[g];if(!o[m]&&(!r||!r[m])&&(!f||!f[m])&&(!a||!a[m])){var v=h(n,m);try{A(t,m,v)}catch(y){}}}}return t}},5239:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function r(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{l(r.next(e))}catch(Nt){o(Nt)}}function a(e){try{l(r.throw(e))}catch(Nt){o(Nt)}}function l(e){e.done?n(e.value):i(e.value).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(Nt){o=[6,Nt],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function o(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}for(var s=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find((function(e){return 0!==e.width}));return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),a=function(e,t){return s.fromClientRect(e,t.getBoundingClientRect())},l=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new s(0,0,r,i)},A=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320===(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var s=e[i];s<=65535?r.push(s):(s-=65536,r.push(55296+(s>>10),s%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="undefined"===typeof Uint8Array?[]:new Uint8Array(256),d=0;d<u.length;d++)h[u.charCodeAt(d)]=d;for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"===typeof Uint8Array?[]:new Uint8Array(256),g=0;g<p.length;g++)f[p.charCodeAt(g)]=g;for(var m=function(e){var t,n,r,i,o,s=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var A="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),c=Array.isArray(A)?A:new Uint8Array(A);for(t=0;t<a;t+=4)n=f[e.charCodeAt(t)],r=f[e.charCodeAt(t+1)],i=f[e.charCodeAt(t+2)],o=f[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|i>>2,c[l++]=(3&i)<<6|63&o;return A},v=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},b=5,w=11,x=2,_=65536>>b,S=(1<<b)-1,C=_+(1024>>b)+32,B=65536>>w,E=(1<<w-b)-1,M=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},T=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},F=function(e,t){var n=m(e),r=Array.isArray(n)?y(n):new Uint32Array(n),i=Array.isArray(n)?v(n):new Uint16Array(n),o=24,s=M(i,o/2,r[4]/2),a=2===r[5]?M(i,(o+r[4])/2):T(r,Math.ceil((o+r[4])/4));return new I(r[0],r[1],r[2],r[3],s,a)},I=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>b])<<x)+(e&S),this.data[t];if(e<=65535)return t=((t=this.index[_+(e-55296>>b)])<<x)+(e&S),this.data[t];if(e<this.highStart)return t=C-B+(e>>w),t=this.index[t],t+=e>>b&E,t=((t=this.index[t])<<x)+(e&S),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P="undefined"===typeof Uint8Array?[]:new Uint8Array(256),U=0;U<L.length;U++)P[L.charCodeAt(U)]=U;var R=50,k=1,N=2,D=3,O=4,Q=5,H=7,z=8,j=9,V=10,W=11,G=12,K=13,q=14,X=15,Y=16,$=17,J=18,Z=19,ee=20,te=21,ne=22,re=23,ie=24,oe=25,se=26,ae=27,le=28,Ae=29,ce=30,ue=31,he=32,de=33,pe=34,fe=35,ge=36,me=37,ve=38,ye=39,be=40,we=41,xe=42,_e=43,Se=[9001,65288],Ce="!",Be="\xd7",Ee="\xf7",Me=F("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Te=[ce,ge],Fe=[k,N,D,Q],Ie=[V,z],Le=[ae,se],Pe=Fe.concat(Ie),Ue=[ve,ye,be,pe,fe],Re=[X,K],ke=function(e,t){void 0===t&&(t="strict");var n=[],r=[],i=[];return e.forEach((function(e,o){var s=Me.get(e);if(s>R?(i.push(!0),s-=R):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(o),n.push(Y);if(s===O||s===W){if(0===o)return r.push(o),n.push(ce);var a=n[o-1];return-1===Pe.indexOf(a)?(r.push(r[o-1]),n.push(a)):(r.push(o),n.push(ce))}return r.push(o),s===ue?n.push("strict"===t?te:me):s===xe||s===Ae?n.push(ce):s===_e?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(me):n.push(ce):void n.push(s)})),[r,n,i]},Ne=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=n;o<=r.length;){if((l=r[++o])===t)return!0;if(l!==V)break}if(i===V)for(o=n;o>0;){var s=r[--o];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var a=n;a<=r.length;){var l;if((l=r[++a])===t)return!0;if(l!==V)break}if(s!==V)break}return!1},De=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==V)return r;n--}return 0},Oe=function(e,t,n,r,i){if(0===n[r])return Be;var o=r-1;if(Array.isArray(i)&&!0===i[o])return Be;var s=o-1,a=o+1,l=t[o],A=s>=0?t[s]:0,c=t[a];if(l===N&&c===D)return Be;if(-1!==Fe.indexOf(l))return Ce;if(-1!==Fe.indexOf(c))return Be;if(-1!==Ie.indexOf(c))return Be;if(De(o,t)===z)return Ee;if(Me.get(e[o])===W)return Be;if((l===he||l===de)&&Me.get(e[a])===W)return Be;if(l===H||c===H)return Be;if(l===j)return Be;if(-1===[V,K,X].indexOf(l)&&c===j)return Be;if(-1!==[$,J,Z,ie,le].indexOf(c))return Be;if(De(o,t)===ne)return Be;if(Ne(re,ne,o,t))return Be;if(Ne([$,J],te,o,t))return Be;if(Ne(G,G,o,t))return Be;if(l===V)return Ee;if(l===re||c===re)return Be;if(c===Y||l===Y)return Ee;if(-1!==[K,X,te].indexOf(c)||l===q)return Be;if(A===ge&&-1!==Re.indexOf(l))return Be;if(l===le&&c===ge)return Be;if(c===ee)return Be;if(-1!==Te.indexOf(c)&&l===oe||-1!==Te.indexOf(l)&&c===oe)return Be;if(l===ae&&-1!==[me,he,de].indexOf(c)||-1!==[me,he,de].indexOf(l)&&c===se)return Be;if(-1!==Te.indexOf(l)&&-1!==Le.indexOf(c)||-1!==Le.indexOf(l)&&-1!==Te.indexOf(c))return Be;if(-1!==[ae,se].indexOf(l)&&(c===oe||-1!==[ne,X].indexOf(c)&&t[a+1]===oe)||-1!==[ne,X].indexOf(l)&&c===oe||l===oe&&-1!==[oe,le,ie].indexOf(c))return Be;if(-1!==[oe,le,ie,$,J].indexOf(c))for(var u=o;u>=0;){if((h=t[u])===oe)return Be;if(-1===[le,ie].indexOf(h))break;u--}if(-1!==[ae,se].indexOf(c))for(u=-1!==[$,J].indexOf(l)?s:o;u>=0;){var h;if((h=t[u])===oe)return Be;if(-1===[le,ie].indexOf(h))break;u--}if(ve===l&&-1!==[ve,ye,pe,fe].indexOf(c)||-1!==[ye,pe].indexOf(l)&&-1!==[ye,be].indexOf(c)||-1!==[be,fe].indexOf(l)&&c===be)return Be;if(-1!==Ue.indexOf(l)&&-1!==[ee,se].indexOf(c)||-1!==Ue.indexOf(c)&&l===ae)return Be;if(-1!==Te.indexOf(l)&&-1!==Te.indexOf(c))return Be;if(l===ie&&-1!==Te.indexOf(c))return Be;if(-1!==Te.concat(oe).indexOf(l)&&c===ne&&-1===Se.indexOf(e[a])||-1!==Te.concat(oe).indexOf(c)&&l===J)return Be;if(l===we&&c===we){for(var d=n[o],p=1;d>0&&t[--d]===we;)p++;if(p%2!==0)return Be}return l===he&&c===de?Be:Ee},Qe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=ke(e,t.lineBreak),r=n[0],i=n[1],o=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map((function(e){return-1!==[oe,ce,xe].indexOf(e)?me:e})));var s="keep-all"===t.wordBreak?o.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0;return[r,i,s]},He=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===Ce,this.start=n,this.end=r}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),ze=function(e,t){var n=A(e),r=Qe(n,t),i=r[0],o=r[1],s=r[2],a=n.length,l=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var e=Be;c<a&&(e=Oe(n,o,i,++c,s))===Be;);if(e!==Be||c===a){var t=new He(n,e,l,c);return l=c,{value:t,done:!1}}return{done:!0,value:null}}}},je=1,Ve=2,We=4,Ge=8,Ke=10,qe=47,Xe=92,Ye=9,$e=32,Je=34,Ze=61,et=35,tt=36,nt=37,rt=39,it=40,ot=41,st=95,at=45,lt=33,At=60,ct=62,ut=64,ht=91,dt=93,pt=61,ft=123,gt=63,mt=125,vt=124,yt=126,bt=128,wt=65533,xt=42,_t=43,St=44,Ct=58,Bt=59,Et=46,Mt=0,Tt=8,Ft=11,It=14,Lt=31,Pt=127,Ut=-1,Rt=48,kt=97,Nt=101,Dt=102,Ot=117,Qt=122,Ht=65,zt=69,jt=70,Vt=85,Wt=90,Gt=function(e){return e>=Rt&&e<=57},Kt=function(e){return e>=55296&&e<=57343},qt=function(e){return Gt(e)||e>=Ht&&e<=jt||e>=kt&&e<=Dt},Xt=function(e){return e>=kt&&e<=Qt},Yt=function(e){return e>=Ht&&e<=Wt},$t=function(e){return Xt(e)||Yt(e)},Jt=function(e){return e>=bt},Zt=function(e){return e===Ke||e===Ye||e===$e},en=function(e){return $t(e)||Jt(e)||e===st},tn=function(e){return en(e)||Gt(e)||e===at},nn=function(e){return e>=Mt&&e<=Tt||e===Ft||e>=It&&e<=Lt||e===Pt},rn=function(e,t){return e===Xe&&t!==Ke},on=function(e,t,n){return e===at?en(t)||rn(t,n):!!en(e)||!(e!==Xe||!rn(e,t))},sn=function(e,t,n){return e===_t||e===at?!!Gt(t)||t===Et&&Gt(n):Gt(e===Et?t:e)},an=function(e){var t=0,n=1;e[t]!==_t&&e[t]!==at||(e[t]===at&&(n=-1),t++);for(var r=[];Gt(e[t]);)r.push(e[t++]);var i=r.length?parseInt(c.apply(void 0,r),10):0;e[t]===Et&&t++;for(var o=[];Gt(e[t]);)o.push(e[t++]);var s=o.length,a=s?parseInt(c.apply(void 0,o),10):0;e[t]!==zt&&e[t]!==Nt||t++;var l=1;e[t]!==_t&&e[t]!==at||(e[t]===at&&(l=-1),t++);for(var A=[];Gt(e[t]);)A.push(e[t++]);var u=A.length?parseInt(c.apply(void 0,A),10):0;return n*(i+a*Math.pow(10,-s))*Math.pow(10,l*u)},ln={type:2},An={type:3},cn={type:4},un={type:13},hn={type:8},dn={type:21},pn={type:9},fn={type:10},gn={type:11},mn={type:12},vn={type:14},yn={type:23},bn={type:1},wn={type:25},xn={type:24},_n={type:26},Sn={type:27},Cn={type:28},Bn={type:29},En={type:31},Mn={type:32},Tn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(A(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Mn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Je:return this.consumeStringToken(Je);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var i=on(t,n,r)?Ve:je;return{type:5,value:this.consumeName(),flags:i}}break;case tt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),un;break;case rt:return this.consumeStringToken(rt);case it:return ln;case ot:return An;case xt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),vn;break;case _t:if(sn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case St:return cn;case at:var o=e,s=this.peekCodePoint(0),a=this.peekCodePoint(1);if(sn(o,s,a))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(on(o,s,a))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(s===at&&a===ct)return this.consumeCodePoint(),this.consumeCodePoint(),xn;break;case Et:if(sn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case qe:if(this.peekCodePoint(0)===xt)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===xt&&(l=this.consumeCodePoint())===qe)return this.consumeToken();if(l===Ut)return this.consumeToken()}break;case Ct:return _n;case Bt:return Sn;case At:if(this.peekCodePoint(0)===lt&&this.peekCodePoint(1)===at&&this.peekCodePoint(2)===at)return this.consumeCodePoint(),this.consumeCodePoint(),wn;break;case ut:var A=this.peekCodePoint(0),u=this.peekCodePoint(1),h=this.peekCodePoint(2);if(on(A,u,h))return{type:7,value:this.consumeName()};break;case ht:return Cn;case Xe:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case dt:return Bn;case pt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),hn;break;case ft:return gn;case mt:return mn;case Ot:case Vt:var d=this.peekCodePoint(0),p=this.peekCodePoint(1);return d!==_t||!qt(p)&&p!==gt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case vt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),pn;if(this.peekCodePoint(0)===vt)return this.consumeCodePoint(),dn;break;case yt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),fn;break;case Ut:return Mn}return Zt(e)?(this.consumeWhiteSpace(),En):Gt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();qt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===gt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,e.map((function(e){return e===gt?Rt:e}))),16),end:parseInt(c.apply(void 0,e.map((function(e){return e===gt?jt:e}))),16)};var r=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===at&&qt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];qt(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(c.apply(void 0,i),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===it?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Je){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut||this.peekCodePoint(0)===ot)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),yn)}for(;;){var r=this.consumeCodePoint();if(r===Ut||r===ot)return{type:22,value:c.apply(void 0,e)};if(Zt(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut||this.peekCodePoint(0)===ot?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),yn);if(r===Je||r===rt||r===it||nn(r))return this.consumeBadUrlRemnants(),yn;if(r===Xe){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),yn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;Zt(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===ot||e===Ut)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=c.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Ut||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===Ke)return this._value.splice(0,n),bn;if(r===Xe){var i=this._value[n+1];i!==Ut&&void 0!==i&&(i===Ke?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,i)&&(t+=this.consumeStringSlice(n),t+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=We,n=this.peekCodePoint(0);for(n!==_t&&n!==at||e.push(this.consumeCodePoint());Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===Et&&Gt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ge;Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===zt||n===Nt)&&((r===_t||r===at)&&Gt(i)||Gt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ge;Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[an(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);return on(r,i,o)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(qt(e)){for(var t=c(e);qt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());Zt(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Kt(n)||n>1114111?wt:n}return e===Ut?wt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=c(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),Fn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Tn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||On(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?Mn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),In=function(e){return 15===e.type},Ln=function(e){return 17===e.type},Pn=function(e){return 20===e.type},Un=function(e){return 0===e.type},Rn=function(e,t){return Pn(e)&&e.value===t},kn=function(e){return 31!==e.type},Nn=function(e){return 31!==e.type&&4!==e.type},Dn=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},On=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Qn=function(e){return 17===e.type||15===e.type},Hn=function(e){return 16===e.type||Qn(e)},zn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},jn={type:17,number:0,flags:We},Vn={type:16,number:50,flags:We},Wn={type:16,number:100,flags:We},Gn=function(e,t,n){var r=e[0],i=e[1];return[Kn(r,t),Kn("undefined"!==typeof i?i:r,n)]},Kn=function(e,t){if(16===e.type)return e.number/100*t;if(In(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},qn="deg",Xn="grad",Yn="rad",$n="turn",Jn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case qn:return Math.PI*t.number/180;case Xn:return Math.PI/200*t.number;case Yn:return t.number;case $n:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},Zn=function(e){return 15===e.type&&(e.unit===qn||e.unit===Xn||e.unit===Yn||e.unit===$n)},er=function(e){switch(e.filter(Pn).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[jn,jn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[jn,Wn];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Wn,Wn];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Wn,jn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=cr[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3);return or(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(4===t.value.length){r=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3);var s=t.value.substring(3,4);return or(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),parseInt(s+s,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),o=t.value.substring(4,6),or(parseInt(r,16),parseInt(i,16),parseInt(o,16),1);if(8===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),o=t.value.substring(4,6),s=t.value.substring(6,8),or(parseInt(r,16),parseInt(i,16),parseInt(o,16),parseInt(s,16)/255)}if(20===t.type){var a=hr[t.value.toUpperCase()];if("undefined"!==typeof a)return a}return hr.TRANSPARENT}},rr=function(e){return 0===(255&e)},ir=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},or=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},sr=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},ar=function(e,t){var n=t.filter(Nn);if(3===n.length){var r=n.map(sr),i=r[0],o=r[1],s=r[2];return or(i,o,s,1)}if(4===n.length){var a=n.map(sr),l=(i=a[0],o=a[1],s=a[2],a[3]);return or(i,o,s,l)}return 0};function lr(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var Ar=function(e,t){var n=t.filter(Nn),r=n[0],i=n[1],o=n[2],s=n[3],a=(17===r.type?tr(r.number):Jn.parse(e,r))/(2*Math.PI),l=Hn(i)?i.number/100:0,A=Hn(o)?o.number/100:0,c="undefined"!==typeof s&&Hn(s)?Kn(s,1):1;if(0===l)return or(255*A,255*A,255*A,1);var u=A<=.5?A*(l+1):A+l-A*l,h=2*A-u,d=lr(h,u,a+1/3),p=lr(h,u,a),f=lr(h,u,a-1/3);return or(255*d,255*p,255*f,c)},cr={hsl:Ar,hsla:Ar,rgb:ar,rgba:ar},ur=function(e,t){return nr.parse(e,Fn.create(t).parseComponentValue())},hr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},dr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Pn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},pr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Hn(r)?{color:n,stop:r}:{color:n,stop:null}},gr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=jn),null===r.stop&&(r.stop=Wn);for(var i=[],o=0,s=0;s<e.length;s++){var a=e[s].stop;if(null!==a){var l=Kn(a,t);l>o?i.push(l):i.push(o),o=l}else i.push(null)}var A=null;for(s=0;s<i.length;s++){var c=i[s];if(null===c)null===A&&(A=s);else if(null!==A){for(var u=s-A,h=(c-i[A-1])/(u+1),d=1;d<=u;d++)i[A+d-1]=h*d;A=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}}))},mr=function(e,t,n){var r=t/2,i=n/2,o=Kn(e[0],t)-r,s=i-Kn(e[1],n);return(Math.atan2(s,o)+2*Math.PI)%(2*Math.PI)},vr=function(e,t,n){var r="number"===typeof e?e:mr(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),o=t/2,s=n/2,a=i/2,l=Math.sin(r-Math.PI/2)*a,A=Math.cos(r-Math.PI/2)*a;return[i,o-A,o+A,s-l,s+l]},yr=function(e,t){return Math.sqrt(e*e+t*t)},br=function(e,t,n,r,i){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var o=t[0],s=t[1],a=yr(n-o,r-s);return(i?a<e.optimumDistance:a>e.optimumDistance)?{optimumCorner:t,optimumDistance:a}:e}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},wr=function(e,t,n,r,i){var o=0,s=0;switch(e.size){case 0:0===e.shape?o=s=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(o=Math.min(Math.abs(t),Math.abs(t-r)),s=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(0===e.shape)o=s=Math.min(yr(t,n),yr(t,n-i),yr(t-r,n),yr(t-r,n-i));else if(1===e.shape){var a=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),l=br(r,i,t,n,!0),A=l[0],c=l[1];s=a*(o=yr(A-t,(c-n)/a))}break;case 1:0===e.shape?o=s=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(o=Math.max(Math.abs(t),Math.abs(t-r)),s=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(0===e.shape)o=s=Math.max(yr(t,n),yr(t,n-i),yr(t-r,n),yr(t-r,n-i));else if(1===e.shape){a=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r));var u=br(r,i,t,n,!1);A=u[0],c=u[1],s=a*(o=yr(A-t,(c-n)/a))}}return Array.isArray(e.size)&&(o=Kn(e.size[0],r),s=2===e.size.length?Kn(e.size[1],i):o),[o,s]},xr=function(e,t){var n=tr(180),r=[];return Dn(t).forEach((function(t,i){if(0===i){var o=t[0];if(20===o.type&&-1!==["top","left","right","bottom"].indexOf(o.value))return void(n=er(t));if(Zn(o))return void(n=(Jn.parse(e,o)+tr(270))%tr(360))}var s=fr(e,t);r.push(s)})),{angle:n,stops:r,type:1}},_r="closest-side",Sr="farthest-side",Cr="closest-corner",Br="farthest-corner",Er="circle",Mr="ellipse",Tr="cover",Fr="contain",Ir=function(e,t){var n=0,r=3,i=[],o=[];return Dn(t).forEach((function(t,s){var a=!0;if(0===s?a=t.reduce((function(e,t){if(Pn(t))switch(t.value){case"center":return o.push(Vn),!1;case"top":case"left":return o.push(jn),!1;case"right":case"bottom":return o.push(Wn),!1}else if(Hn(t)||Qn(t))return o.push(t),!1;return e}),a):1===s&&(a=t.reduce((function(e,t){if(Pn(t))switch(t.value){case Er:return n=0,!1;case Mr:return n=1,!1;case Fr:case _r:return r=0,!1;case Sr:return r=1,!1;case Cr:return r=2,!1;case Tr:case Br:return r=3,!1}else if(Qn(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),a)),a){var l=fr(e,t);i.push(l)}})),{size:r,shape:n,stops:i,position:o,type:2}},Lr=function(e){return 1===e.type},Pr=function(e){return 2===e.type},Ur={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Nr[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Rr(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Nr[e.name])}var kr,Nr={"linear-gradient":function(e,t){var n=tr(180),r=[];return Dn(t).forEach((function(t,i){if(0===i){var o=t[0];if(20===o.type&&"to"===o.value)return void(n=er(t));if(Zn(o))return void(n=Jn.parse(e,o))}var s=fr(e,t);r.push(s)})),{angle:n,stops:r,type:1}},"-moz-linear-gradient":xr,"-ms-linear-gradient":xr,"-o-linear-gradient":xr,"-webkit-linear-gradient":xr,"radial-gradient":function(e,t){var n=0,r=3,i=[],o=[];return Dn(t).forEach((function(t,s){var a=!0;if(0===s){var l=!1;a=t.reduce((function(e,t){if(l)if(Pn(t))switch(t.value){case"center":return o.push(Vn),e;case"top":case"left":return o.push(jn),e;case"right":case"bottom":return o.push(Wn),e}else(Hn(t)||Qn(t))&&o.push(t);else if(Pn(t))switch(t.value){case Er:return n=0,!1;case Mr:return n=1,!1;case"at":return l=!0,!1;case _r:return r=0,!1;case Tr:case Sr:return r=1,!1;case Fr:case Cr:return r=2,!1;case Br:return r=3,!1}else if(Qn(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),a)}if(a){var A=fr(e,t);i.push(A)}})),{size:r,shape:n,stops:i,position:o,type:2}},"-moz-radial-gradient":Ir,"-ms-radial-gradient":Ir,"-o-radial-gradient":Ir,"-webkit-radial-gradient":Ir,"-webkit-gradient":function(e,t){var n=tr(180),r=[],i=1,o=0,s=3,a=[];return Dn(t).forEach((function(t,n){var o=t[0];if(0===n){if(Pn(o)&&"linear"===o.value)return void(i=1);if(Pn(o)&&"radial"===o.value)return void(i=2)}if(18===o.type)if("from"===o.name){var s=nr.parse(e,o.values[0]);r.push({stop:jn,color:s})}else if("to"===o.name)s=nr.parse(e,o.values[0]),r.push({stop:Wn,color:s});else if("color-stop"===o.name){var a=o.values.filter(Nn);if(2===a.length){s=nr.parse(e,a[1]);var l=a[0];Ln(l)&&r.push({stop:{type:16,number:100*l.number,flags:l.flags},color:s})}}})),1===i?{angle:(n+tr(180))%tr(360),stops:r,type:i}:{size:s,shape:o,stops:r,position:a,type:i}}},Dr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return Nn(e)&&Rr(e)})).map((function(t){return Ur.parse(e,t)}))}},Or={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Pn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Qr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Dn(t).map((function(e){return e.filter(Hn)})).map(zn)}},Hr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Dn(t).map((function(e){return e.filter(Pn).map((function(e){return e.value})).join(" ")})).map(zr)}},zr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(kr||(kr={}));var jr,Vr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Dn(t).map((function(e){return e.filter(Wr)}))}},Wr=function(e){return Pn(e)||Hn(e)},Gr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Kr=Gr("top"),qr=Gr("right"),Xr=Gr("bottom"),Yr=Gr("left"),$r=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return zn(t.filter(Hn))}}},Jr=$r("top-left"),Zr=$r("top-right"),ei=$r("bottom-right"),ti=$r("bottom-left"),ni=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ri=ni("top"),ii=ni("right"),oi=ni("bottom"),si=ni("left"),ai=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return In(t)?t.number:0}}},li=ai("top"),Ai=ai("right"),ci=ai("bottom"),ui=ai("left"),hi={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},di={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},pi={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Pn).reduce((function(e,t){return e|fi(t.value)}),0)}},fi=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},gi={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mi={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(jr||(jr={}));var vi,yi={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?jr.STRICT:jr.NORMAL}},bi={name:"line-height",initialValue:"normal",prefix:!1,type:4},wi=function(e,t){return Pn(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Hn(e)?Kn(e,t):t},xi={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Ur.parse(e,t)}},_i={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Si={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Ci=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Bi=Ci("top"),Ei=Ci("right"),Mi=Ci("bottom"),Ti=Ci("left"),Fi={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Pn).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Ii={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Li=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Pi=Li("top"),Ui=Li("right"),Ri=Li("bottom"),ki=Li("left"),Ni={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Di={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Oi={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Rn(t[0],"none")?[]:Dn(t).map((function(t){for(var n={color:hr.TRANSPARENT,offsetX:jn,offsetY:jn,blur:jn},r=0,i=0;i<t.length;i++){var o=t[i];Qn(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:n.blur=o,r++):n.color=nr.parse(e,o)}return n}))}},Qi={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Hi={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=zi[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},zi={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],r=t[1];t[2],t[3];var i=t[4],o=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var s=t[12],a=t[13];return t[14],t[15],16===t.length?[n,r,i,o,s,a]:null}},ji={type:16,number:50,flags:We},Vi=[ji,ji],Wi={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Hn);return 2!==n.length?Vi:[n[0],n[1]]}},Gi={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(vi||(vi={}));for(var Ki={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return vi.BREAK_ALL;case"keep-all":return vi.KEEP_ALL;default:return vi.NORMAL}}},qi={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Ln(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Xi={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Yi={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Ln(t)?t.number:1}},$i={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ji={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Pn).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},Zi={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}})),n.length&&r.push(n.join(" ")),r.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},eo={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},to={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Ln(t)?t.number:Pn(t)&&"bold"===t.value?700:400}},no={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Pn).map((function(e){return e.value}))}},ro={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},io=function(e,t){return 0!==(e&t)},oo={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},so={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],i=t.filter(kn),o=0;o<i.length;o++){var s=i[o],a=i[o+1];if(20===s.type){var l=a&&Ln(a)?a.number:1;r.push({counter:s.value,increment:l})}}return r}},ao={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(kn),i=0;i<r.length;i++){var o=r[i],s=r[i+1];if(Pn(o)&&"none"!==o.value){var a=s&&Ln(s)?s.number:0;n.push({counter:o.value,reset:a})}}return n}},lo={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(In).map((function(t){return Xi.parse(e,t)}))}},Ao={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],i=t.filter(Un);if(i.length%2!==0)return null;for(var o=0;o<i.length;o+=2){var s=i[o].value,a=i[o+1].value;r.push({open:s,close:a})}return r}},co=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},uo={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Rn(t[0],"none")?[]:Dn(t).map((function(t){for(var n={color:255,offsetX:jn,offsetY:jn,blur:jn,spread:jn,inset:!1},r=0,i=0;i<t.length;i++){var o=t[i];Rn(o,"inset")?n.inset=!0:Qn(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:2===r?n.blur=o:n.spread=o,r++):n.color=nr.parse(e,o)}return n}))}},ho={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Pn).forEach((function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}})),n.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r}},po={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fo={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return In(t)?t.number:0}},go=function(){function e(e,t){var n,r;this.animationDuration=yo(e,lo,t.animationDuration),this.backgroundClip=yo(e,dr,t.backgroundClip),this.backgroundColor=yo(e,pr,t.backgroundColor),this.backgroundImage=yo(e,Dr,t.backgroundImage),this.backgroundOrigin=yo(e,Or,t.backgroundOrigin),this.backgroundPosition=yo(e,Qr,t.backgroundPosition),this.backgroundRepeat=yo(e,Hr,t.backgroundRepeat),this.backgroundSize=yo(e,Vr,t.backgroundSize),this.borderTopColor=yo(e,Kr,t.borderTopColor),this.borderRightColor=yo(e,qr,t.borderRightColor),this.borderBottomColor=yo(e,Xr,t.borderBottomColor),this.borderLeftColor=yo(e,Yr,t.borderLeftColor),this.borderTopLeftRadius=yo(e,Jr,t.borderTopLeftRadius),this.borderTopRightRadius=yo(e,Zr,t.borderTopRightRadius),this.borderBottomRightRadius=yo(e,ei,t.borderBottomRightRadius),this.borderBottomLeftRadius=yo(e,ti,t.borderBottomLeftRadius),this.borderTopStyle=yo(e,ri,t.borderTopStyle),this.borderRightStyle=yo(e,ii,t.borderRightStyle),this.borderBottomStyle=yo(e,oi,t.borderBottomStyle),this.borderLeftStyle=yo(e,si,t.borderLeftStyle),this.borderTopWidth=yo(e,li,t.borderTopWidth),this.borderRightWidth=yo(e,Ai,t.borderRightWidth),this.borderBottomWidth=yo(e,ci,t.borderBottomWidth),this.borderLeftWidth=yo(e,ui,t.borderLeftWidth),this.boxShadow=yo(e,uo,t.boxShadow),this.color=yo(e,hi,t.color),this.direction=yo(e,di,t.direction),this.display=yo(e,pi,t.display),this.float=yo(e,gi,t.cssFloat),this.fontFamily=yo(e,Zi,t.fontFamily),this.fontSize=yo(e,eo,t.fontSize),this.fontStyle=yo(e,ro,t.fontStyle),this.fontVariant=yo(e,no,t.fontVariant),this.fontWeight=yo(e,to,t.fontWeight),this.letterSpacing=yo(e,mi,t.letterSpacing),this.lineBreak=yo(e,yi,t.lineBreak),this.lineHeight=yo(e,bi,t.lineHeight),this.listStyleImage=yo(e,xi,t.listStyleImage),this.listStylePosition=yo(e,_i,t.listStylePosition),this.listStyleType=yo(e,Si,t.listStyleType),this.marginTop=yo(e,Bi,t.marginTop),this.marginRight=yo(e,Ei,t.marginRight),this.marginBottom=yo(e,Mi,t.marginBottom),this.marginLeft=yo(e,Ti,t.marginLeft),this.opacity=yo(e,Yi,t.opacity);var i=yo(e,Fi,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=yo(e,Ii,t.overflowWrap),this.paddingTop=yo(e,Pi,t.paddingTop),this.paddingRight=yo(e,Ui,t.paddingRight),this.paddingBottom=yo(e,Ri,t.paddingBottom),this.paddingLeft=yo(e,ki,t.paddingLeft),this.paintOrder=yo(e,ho,t.paintOrder),this.position=yo(e,Di,t.position),this.textAlign=yo(e,Ni,t.textAlign),this.textDecorationColor=yo(e,$i,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=yo(e,Ji,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=yo(e,Oi,t.textShadow),this.textTransform=yo(e,Qi,t.textTransform),this.transform=yo(e,Hi,t.transform),this.transformOrigin=yo(e,Wi,t.transformOrigin),this.visibility=yo(e,Gi,t.visibility),this.webkitTextStrokeColor=yo(e,po,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=yo(e,fo,t.webkitTextStrokeWidth),this.wordBreak=yo(e,Ki,t.wordBreak),this.zIndex=yo(e,qi,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return io(this.display,4)||io(this.display,33554432)||io(this.display,268435456)||io(this.display,536870912)||io(this.display,67108864)||io(this.display,134217728)},e}(),mo=function(){function e(e,t){this.content=yo(e,oo,t.content),this.quotes=yo(e,Ao,t.quotes)}return e}(),vo=function(){function e(e,t){this.counterIncrement=yo(e,so,t.counterIncrement),this.counterReset=yo(e,ao,t.counterReset)}return e}(),yo=function(e,t,n){var r=new Tn,i=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(i);var o=new Fn(r.read());switch(t.type){case 2:var s=o.parseComponentValue();return t.parse(e,Pn(s)?s.value:t.initialValue);case 0:return t.parse(e,o.parseComponentValue());case 1:return t.parse(e,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(t.format){case"angle":return Jn.parse(e,o.parseComponentValue());case"color":return nr.parse(e,o.parseComponentValue());case"image":return Ur.parse(e,o.parseComponentValue());case"length":var a=o.parseComponentValue();return Qn(a)?a:jn;case"length-percentage":var l=o.parseComponentValue();return Hn(l)?l:jn;case"time":return Xi.parse(e,o.parseComponentValue())}}},bo="data-html2canvas-debug",wo=function(e){switch(e.getAttribute(bo)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},xo=function(e,t){var n=wo(e);return 1===n||t===n},_o=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,xo(t,3),this.styles=new go(e,window.getComputedStyle(t,null)),ca(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=a(this.context,t),xo(t,4)&&(this.flags|=16)}return e}(),So="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Co="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bo="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Eo=0;Eo<Co.length;Eo++)Bo[Co.charCodeAt(Eo)]=Eo;for(var Mo=function(e){var t,n,r,i,o,s=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var A="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),c=Array.isArray(A)?A:new Uint8Array(A);for(t=0;t<a;t+=4)n=Bo[e.charCodeAt(t)],r=Bo[e.charCodeAt(t+1)],i=Bo[e.charCodeAt(t+2)],o=Bo[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|i>>2,c[l++]=(3&i)<<6|63&o;return A},To=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Fo=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Io=5,Lo=11,Po=2,Uo=65536>>Io,Ro=(1<<Io)-1,ko=Uo+(1024>>Io)+32,No=65536>>Lo,Do=(1<<Lo-Io)-1,Oo=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Qo=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Ho=function(e,t){var n=Mo(e),r=Array.isArray(n)?Fo(n):new Uint32Array(n),i=Array.isArray(n)?To(n):new Uint16Array(n),o=24,s=Oo(i,o/2,r[4]/2),a=2===r[5]?Oo(i,(o+r[4])/2):Qo(r,Math.ceil((o+r[4])/4));return new zo(r[0],r[1],r[2],r[3],s,a)},zo=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Io])<<Po)+(e&Ro),this.data[t];if(e<=65535)return t=((t=this.index[Uo+(e-55296>>Io)])<<Po)+(e&Ro),this.data[t];if(e<this.highStart)return t=ko-No+(e>>Lo),t=this.index[t],t+=e>>Io&Do,t=((t=this.index[t])<<Po)+(e&Ro),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),jo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vo="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Wo=0;Wo<jo.length;Wo++)Vo[jo.charCodeAt(Wo)]=Wo;var Go,Ko=1,qo=2,Xo=3,Yo=4,$o=5,Jo=7,Zo=8,es=9,ts=10,ns=11,rs=12,is=13,os=14,ss=15,as=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320===(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},ls=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var s=e[i];s<=65535?r.push(s):(s-=65536,r.push(55296+(s>>10),s%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},As=Ho(So),cs="\xd7",us="\xf7",hs=function(e){return As.get(e)},ds=function(e,t,n){var r=n-2,i=t[r],o=t[n-1],s=t[n];if(o===qo&&s===Xo)return cs;if(o===qo||o===Xo||o===Yo)return us;if(s===qo||s===Xo||s===Yo)return us;if(o===Zo&&-1!==[Zo,es,ns,rs].indexOf(s))return cs;if((o===ns||o===es)&&(s===es||s===ts))return cs;if((o===rs||o===ts)&&s===ts)return cs;if(s===is||s===$o)return cs;if(s===Jo)return cs;if(o===Ko)return cs;if(o===is&&s===os){for(;i===$o;)i=t[--r];if(i===os)return cs}if(o===ss&&s===ss){for(var a=0;i===ss;)a++,i=t[--r];if(a%2===0)return cs}return us},ps=function(e){var t=as(e),n=t.length,r=0,i=0,o=t.map(hs);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=cs;r<n&&(e=ds(t,o,++r))===cs;);if(e!==cs||r===n){var s=ls.apply(null,t.slice(i,r));return i=r,{value:s,done:!1}}return{done:!0,value:null}}}},fs=function(e){for(var t,n=ps(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},gs=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),o=Math.round(i.height);if(e.body.removeChild(r),o===t)return!0}}return!1},ms=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,i=A(r.data).map((function(e){return c(e)})),o=0,s={},a=i.every((function(e,t){n.setStart(r,o),n.setEnd(r,o+e.length);var i=n.getBoundingClientRect();o+=e.length;var a=i.x>s.x||i.y>s.y;return s=i,0===t||a}));return e.body.removeChild(t),a},vs=function(){return"undefined"!==typeof(new Image).crossOrigin},ys=function(){return"string"===typeof(new XMLHttpRequest).responseType},bs=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Nt){return!1}return!0},ws=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},xs=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,o=t.toDataURL();i.src=o;var s=_s(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),Ss(s).then((function(t){r.drawImage(t,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var s=e.createElement("div");return s.style.backgroundImage="url("+o+")",s.style.height=n+"px",ws(i)?Ss(_s(n,n,0,0,s)):Promise.reject(!1)})).then((function(e){return r.drawImage(e,0,0),ws(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},_s=function(e,t,n,r,i){var o="http://www.w3.org/2000/svg",s=document.createElementNS(o,"svg"),a=document.createElementNS(o,"foreignObject");return s.setAttributeNS(null,"width",e.toString()),s.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(i),s},Ss=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Cs={get SUPPORT_RANGE_BOUNDS(){var e=gs(document);return Object.defineProperty(Cs,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Cs.SUPPORT_RANGE_BOUNDS&&ms(document);return Object.defineProperty(Cs,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=bs(document);return Object.defineProperty(Cs,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?xs(document):Promise.resolve(!1);return Object.defineProperty(Cs,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=vs();return Object.defineProperty(Cs,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=ys();return Object.defineProperty(Cs,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Cs,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(Cs,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Bs=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Es=function(e,t,n,r){var i=Ls(t,n),o=[],a=0;return i.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Cs.SUPPORT_RANGE_BOUNDS){var i=Ts(r,a,t.length).getClientRects();if(i.length>1){var l=Fs(t),A=0;l.forEach((function(t){o.push(new Bs(t,s.fromDOMRectList(e,Ts(r,A+a,t.length).getClientRects()))),A+=t.length}))}else o.push(new Bs(t,s.fromDOMRectList(e,i)))}else{var c=r.splitText(t.length);o.push(new Bs(t,Ms(e,r))),r=c}else Cs.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));a+=t.length})),o},Ms=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var o=a(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),o}}return s.EMPTY},Ts=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},Fs=function(e){if(Cs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return fs(e)},Is=function(e,t){if(Cs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map((function(e){return e.segment}))}return Us(e,t)},Ls=function(e,t){return 0!==t.letterSpacing?Fs(e):Is(e,t)},Ps=[32,160,4961,65792,65793,4153,4241],Us=function(e,t){for(var n,r=ze(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],o=function(){if(n.value){var e=n.value.slice(),t=A(e),r="";t.forEach((function(e){-1===Ps.indexOf(e)?r+=c(e):(r.length&&i.push(r),i.push(c(e)),r="")})),r.length&&i.push(r)}};!(n=r.next()).done;)o();return i},Rs=function(){function e(e,t,n){this.text=ks(t.data,n.textTransform),this.textBounds=Es(e,this.text,n,t)}return e}(),ks=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Ns,Ds);case 2:return e.toUpperCase();default:return e}},Ns=/(^|\s|:|-|\(|\))([a-z])/g,Ds=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Os=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(_o),Qs=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(_o),Hs=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=new XMLSerializer,o=a(t,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(_o),zs=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(_o),js=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(_o),Vs=[{type:15,flags:0,unit:"px",number:3}],Ws=[{type:16,flags:0,number:50}],Gs=function(e){return e.width>e.height?new s(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new s(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Ks=function(e){var t=e.type===Ys?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},qs="checkbox",Xs="radio",Ys="password",$s=707406591,Js=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=Ks(n),r.type!==qs&&r.type!==Xs||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=Gs(r.bounds)),r.type){case qs:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Vs;break;case Xs:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Ws}return r}return t(n,e),n}(_o),Zs=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return r.value=i&&i.text||"",r}return t(n,e),n}(_o),ea=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(_o),ta=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=oa(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?ur(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):hr.TRANSPARENT,o=n.contentWindow.document.body?ur(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):hr.TRANSPARENT;r.backgroundColor=rr(i)?rr(o)?r.styles.backgroundColor:o:i}}catch(Nt){}return r}return t(n,e),n}(_o),na=["OL","UL","MENU"],ra=function(e,t,n,r){for(var i=t.firstChild,o=void 0;i;i=o)if(o=i.nextSibling,la(i)&&i.data.trim().length>0)n.textNodes.push(new Rs(e,i,n.styles));else if(Aa(i))if(Ba(i)&&i.assignedNodes)i.assignedNodes().forEach((function(t){return ra(e,t,n,r)}));else{var s=ia(e,i);s.styles.isVisible()&&(sa(i,s,r)?s.flags|=4:aa(s.styles)&&(s.flags|=2),-1!==na.indexOf(i.tagName)&&(s.flags|=8),n.elements.push(s),i.slot,i.shadowRoot?ra(e,i.shadowRoot,s,r):Sa(i)||ga(i)||Ca(i)||ra(e,i,s,r))}},ia=function(e,t){return ba(t)?new Os(e,t):va(t)?new Qs(e,t):ga(t)?new Hs(e,t):ha(t)?new zs(e,t):da(t)?new js(e,t):pa(t)?new Js(e,t):Ca(t)?new Zs(e,t):Sa(t)?new ea(e,t):wa(t)?new ta(e,t):new _o(e,t)},oa=function(e,t){var n=ia(e,t);return n.flags|=4,ra(e,t,n,n),n},sa=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||ma(e)&&n.styles.isTransparent()},aa=function(e){return e.isPositioned()||e.isFloating()},la=function(e){return e.nodeType===Node.TEXT_NODE},Aa=function(e){return e.nodeType===Node.ELEMENT_NODE},ca=function(e){return Aa(e)&&"undefined"!==typeof e.style&&!ua(e)},ua=function(e){return"object"===typeof e.className},ha=function(e){return"LI"===e.tagName},da=function(e){return"OL"===e.tagName},pa=function(e){return"INPUT"===e.tagName},fa=function(e){return"HTML"===e.tagName},ga=function(e){return"svg"===e.tagName},ma=function(e){return"BODY"===e.tagName},va=function(e){return"CANVAS"===e.tagName},ya=function(e){return"VIDEO"===e.tagName},ba=function(e){return"IMG"===e.tagName},wa=function(e){return"IFRAME"===e.tagName},xa=function(e){return"STYLE"===e.tagName},_a=function(e){return"SCRIPT"===e.tagName},Sa=function(e){return"TEXTAREA"===e.tagName},Ca=function(e){return"SELECT"===e.tagName},Ba=function(e){return"SLOT"===e.tagName},Ea=function(e){return e.tagName.indexOf("-")>0},Ma=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,i=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var o=[];return i&&r.forEach((function(e){var n=t.counters[e.counter];o.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),o},e}(),Ta={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Fa={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Ia={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},La={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Pa=function(e,t,n,r,i,o){return e<t||e>n?Ga(e,i,o.length>0):r.integers.reduce((function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t}),"")+o},Ua=function(e,t,n,r){var i="";do{n||e--,i=r(e)+i,e/=t}while(e*t>=t);return i},Ra=function(e,t,n,r,i){var o=n-t+1;return(e<0?"-":"")+(Ua(Math.abs(e),o,r,(function(e){return c(Math.floor(e%o)+t)}))+i)},ka=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Ua(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},Na=1,Da=2,Oa=4,Qa=8,Ha=function(e,t,n,r,i,o){if(e<-9999||e>9999)return Ga(e,4,i.length>0);var s=Math.abs(e),a=i;if(0===s)return t[0]+a;for(var l=0;s>0&&l<=4;l++){var A=s%10;0===A&&io(o,Na)&&""!==a?a=t[A]+a:A>1||1===A&&0===l||1===A&&1===l&&io(o,Da)||1===A&&1===l&&io(o,Oa)&&e>100||1===A&&l>1&&io(o,Qa)?a=t[A]+(l>0?n[l-1]:"")+a:1===A&&l>0&&(a=n[l-1]+a),s=Math.floor(s/10)}return(e<0?r:"")+a},za="\u5341\u767e\u5343\u842c",ja="\u62fe\u4f70\u4edf\u842c",Va="\u30de\u30a4\u30ca\u30b9",Wa="\ub9c8\uc774\ub108\uc2a4",Ga=function(e,t,n){var r=n?". ":"",i=n?"\u3001":"",o=n?", ":"",s=n?" ":"";switch(t){case 0:return"\u2022"+s;case 1:return"\u25e6"+s;case 2:return"\u25fe"+s;case 5:var a=Ra(e,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return ka(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",i);case 6:return Pa(e,1,3999,Ta,3,r).toLowerCase();case 7:return Pa(e,1,3999,Ta,3,r);case 8:return Ra(e,945,969,!1,r);case 9:return Ra(e,97,122,!1,r);case 10:return Ra(e,65,90,!1,r);case 11:return Ra(e,1632,1641,!0,r);case 12:case 49:return Pa(e,1,9999,Fa,3,r);case 35:return Pa(e,1,9999,Fa,3,r).toLowerCase();case 13:return Ra(e,2534,2543,!0,r);case 14:case 30:return Ra(e,6112,6121,!0,r);case 15:return ka(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",i);case 16:return ka(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",i);case 17:case 48:return Ha(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",za,"\u8ca0",i,Da|Oa|Qa);case 47:return Ha(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",ja,"\u8ca0",i,Na|Da|Oa|Qa);case 42:return Ha(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",za,"\u8d1f",i,Da|Oa|Qa);case 41:return Ha(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",ja,"\u8d1f",i,Na|Da|Oa|Qa);case 26:return Ha(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Va,i,0);case 25:return Ha(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Va,i,Na|Da|Oa);case 31:return Ha(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Wa,o,Na|Da|Oa);case 33:return Ha(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Wa,o,0);case 32:return Ha(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Wa,o,Na|Da|Oa);case 18:return Ra(e,2406,2415,!0,r);case 20:return Pa(e,1,19999,La,3,r);case 21:return Ra(e,2790,2799,!0,r);case 22:return Ra(e,2662,2671,!0,r);case 22:return Pa(e,1,10999,Ia,3,r);case 23:return ka(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return ka(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Ra(e,3302,3311,!0,r);case 28:return ka(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",i);case 29:return ka(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",i);case 34:return Ra(e,3792,3801,!0,r);case 37:return Ra(e,6160,6169,!0,r);case 38:return Ra(e,4160,4169,!0,r);case 39:return Ra(e,2918,2927,!0,r);case 40:return Ra(e,1776,1785,!0,r);case 43:return Ra(e,3046,3055,!0,r);case 44:return Ra(e,3174,3183,!0,r);case 45:return Ra(e,3664,3673,!0,r);case 46:return Ra(e,3872,3881,!0,r);default:return Ra(e,48,57,!0,r)}},Ka="data-html2canvas-ignore",qa=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Ma,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,o=Ya(e,t);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,l=o.contentWindow,A=l.document,c=Za(o).then((function(){return r(n,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(il),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Ja(A)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then((function(){return e(A,n)})).then((function(){return o}))]:[2,o]}}))}))}));return A.open(),A.write(nl(document.doctype)+"<html></html>"),rl(this.referenceElement.ownerDocument,s,a),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),c},e.prototype.createElementClone=function(e){if(xo(e,2),va(e))return this.createCanvasClone(e);if(ya(e))return this.createVideoClone(e);if(xa(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return ba(t)&&(ba(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Ea(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return tl(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e}),""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Nt){if(this.context.logger.error("Unable to access cssRules property",Nt),"SecurityError"!==Nt.name)throw Nt}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Nt){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var i=e.getContext("2d"),o=r.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var s=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(s){var a=s.getContextAttributes();!1===(null===a||void 0===a?void 0:a.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return r}catch(Nt){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Nt){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){Aa(t)&&(_a(t)||t.hasAttribute(Ka)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&Aa(t)&&xa(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(Aa(i)&&Ba(i)&&"function"===typeof i.assignedNodes){var o=i.assignedNodes();o.length&&o.forEach((function(e){return r.appendChildNode(t,e,n)}))}else this.appendChildNode(t,i,n)},e.prototype.cloneNode=function(e,t){if(la(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Aa(e)&&(ca(e)||ua(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var i=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),s=n.getComputedStyle(e,":after");this.referenceElement===e&&ca(r)&&(this.clonedReferenceElement=r),ma(r)&&cl(r);var a=this.counters.parse(new vo(this.context,i)),l=this.resolvePseudoContent(e,r,o,Go.BEFORE);Ea(e)&&(t=!0),ya(e)||this.cloneChildNodes(e,r,t),l&&r.insertBefore(l,r.firstChild);var A=this.resolvePseudoContent(e,r,s,Go.AFTER);return A&&r.appendChild(A),this.counters.pop(a),(i&&(this.options.copyStyles||ua(e))&&!wa(e)||t)&&tl(i,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Sa(e)||Ca(e))&&(Sa(r)||Ca(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var i=this;if(n){var o=n.content,s=t.ownerDocument;if(s&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==n.display){this.counters.parse(new vo(this.context,n));var a=new mo(this.context,n),l=s.createElement("html2canvaspseudoelement");tl(n,l),a.content.forEach((function(t){if(0===t.type)l.appendChild(s.createTextNode(t.value));else if(22===t.type){var n=s.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Pn);r.length&&l.appendChild(s.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var o=t.values.filter(Nn),A=o[0],c=o[1];if(A&&Pn(A)){var u=i.counters.getCounterValue(A.value),h=c&&Pn(c)?Si.parse(i.context,c.value):3;l.appendChild(s.createTextNode(Ga(u,h,!1)))}}else if("counters"===t.name){var d=t.values.filter(Nn),p=(A=d[0],d[1]);if(c=d[2],A&&Pn(A)){var f=i.counters.getCounterValues(A.value),g=c&&Pn(c)?Si.parse(i.context,c.value):3,m=p&&0===p.type?p.value:"",v=f.map((function(e){return Ga(e,g,!1)})).join(m);l.appendChild(s.createTextNode(v))}}}else if(20===t.type)switch(t.value){case"open-quote":l.appendChild(s.createTextNode(co(a.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(s.createTextNode(co(a.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(s.createTextNode(t.value))}})),l.className=al+" "+ll;var A=r===Go.BEFORE?" "+al:" "+ll;return ua(t)?t.className.baseValue+=A:t.className+=A,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Go||(Go={}));var Xa,Ya=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Ka,"true"),e.body.appendChild(n),n},$a=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},Ja=function(e){return Promise.all([].slice.call(e.images,0).map($a))},Za=function(e){return new Promise((function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),t(e))}),50)}}))},el=["all","d","content"],tl=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===el.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},nl=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},rl=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},il=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},ol=":before",sl=":after",al="___html2canvas___pseudoelement_before",ll="___html2canvas___pseudoelement_after",Al='{\n    content: "" !important;\n    display: none !important;\n}',cl=function(e){ul(e,"."+al+ol+Al+"\n         ."+ll+sl+Al)},ul=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},hl=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),dl=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:bl(e)||ml(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,s=this;return i(this,(function(i){switch(i.label){case 0:return t=hl.isSameOrigin(e),n=!vl(e)&&!0===this._options.useCORS&&Cs.SUPPORT_CORS_IMAGES&&!t,r=!vl(e)&&!t&&!bl(e)&&"string"===typeof this._options.proxy&&Cs.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||vl(e)||bl(e)||r||n?(o=e,r?[4,this.proxy(o)]:[3,2]):[2];case 1:o=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(yl(o)||n)&&(r.crossOrigin="anonymous"),r.src=o,!0===r.complete&&setTimeout((function(){return e(r)}),500),s._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+s._options.imageTimeout+"ms) loading image")}),s._options.imageTimeout)}))];case 3:return[2,i.sent()]}}))}))},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise((function(i,o){var s=Cs.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(200===a.status)if("text"===s)i(a.response);else{var e=new FileReader;e.addEventListener("load",(function(){return i(e.result)}),!1),e.addEventListener("error",(function(e){return o(e)}),!1),e.readAsDataURL(a.response)}else o("Failed to proxy resource "+r+" with status code "+a.status)},a.onerror=o;var l=n.indexOf("?")>-1?"&":"?";if(a.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+s),"text"!==s&&a instanceof XMLHttpRequest&&(a.responseType=s),t._options.imageTimeout){var A=t._options.imageTimeout;a.timeout=A,a.ontimeout=function(){return o("Timed out ("+A+"ms) proxying "+r)}}a.send()}))},e}(),pl=/^data:image\/svg\+xml/i,fl=/^data:image\/.*;base64,/i,gl=/^data:image\/.*/i,ml=function(e){return Cs.SUPPORT_SVG_DRAWING||!wl(e)},vl=function(e){return gl.test(e)},yl=function(e){return fl.test(e)},bl=function(e){return"blob"===e.substr(0,4)},wl=function(e){return"svg"===e.substr(-3).toLowerCase()||pl.test(e)},xl=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),_l=function(e,t,n){return new xl(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Sl=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=_l(this.start,this.startControl,t),i=_l(this.startControl,this.endControl,t),o=_l(this.endControl,this.end,t),s=_l(r,i,t),a=_l(i,o,t),l=_l(s,a,t);return n?new e(this.start,r,s,l):new e(l,a,o,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Cl=function(e){return 1===e.type},Bl=function(){function e(e){var t=e.styles,n=e.bounds,r=Gn(t.borderTopLeftRadius,n.width,n.height),i=r[0],o=r[1],s=Gn(t.borderTopRightRadius,n.width,n.height),a=s[0],l=s[1],A=Gn(t.borderBottomRightRadius,n.width,n.height),c=A[0],u=A[1],h=Gn(t.borderBottomLeftRadius,n.width,n.height),d=h[0],p=h[1],f=[];f.push((i+a)/n.width),f.push((d+c)/n.width),f.push((o+p)/n.height),f.push((l+u)/n.height);var g=Math.max.apply(Math,f);g>1&&(i/=g,o/=g,a/=g,l/=g,c/=g,u/=g,d/=g,p/=g);var m=n.width-a,v=n.height-u,y=n.width-c,b=n.height-p,w=t.borderTopWidth,x=t.borderRightWidth,_=t.borderBottomWidth,S=t.borderLeftWidth,C=Kn(t.paddingTop,e.bounds.width),B=Kn(t.paddingRight,e.bounds.width),E=Kn(t.paddingBottom,e.bounds.width),M=Kn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?El(n.left+S/3,n.top+w/3,i-S/3,o-w/3,Xa.TOP_LEFT):new xl(n.left+S/3,n.top+w/3),this.topRightBorderDoubleOuterBox=i>0||o>0?El(n.left+m,n.top+w/3,a-x/3,l-w/3,Xa.TOP_RIGHT):new xl(n.left+n.width-x/3,n.top+w/3),this.bottomRightBorderDoubleOuterBox=c>0||u>0?El(n.left+y,n.top+v,c-x/3,u-_/3,Xa.BOTTOM_RIGHT):new xl(n.left+n.width-x/3,n.top+n.height-_/3),this.bottomLeftBorderDoubleOuterBox=d>0||p>0?El(n.left+S/3,n.top+b,d-S/3,p-_/3,Xa.BOTTOM_LEFT):new xl(n.left+S/3,n.top+n.height-_/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?El(n.left+2*S/3,n.top+2*w/3,i-2*S/3,o-2*w/3,Xa.TOP_LEFT):new xl(n.left+2*S/3,n.top+2*w/3),this.topRightBorderDoubleInnerBox=i>0||o>0?El(n.left+m,n.top+2*w/3,a-2*x/3,l-2*w/3,Xa.TOP_RIGHT):new xl(n.left+n.width-2*x/3,n.top+2*w/3),this.bottomRightBorderDoubleInnerBox=c>0||u>0?El(n.left+y,n.top+v,c-2*x/3,u-2*_/3,Xa.BOTTOM_RIGHT):new xl(n.left+n.width-2*x/3,n.top+n.height-2*_/3),this.bottomLeftBorderDoubleInnerBox=d>0||p>0?El(n.left+2*S/3,n.top+b,d-2*S/3,p-2*_/3,Xa.BOTTOM_LEFT):new xl(n.left+2*S/3,n.top+n.height-2*_/3),this.topLeftBorderStroke=i>0||o>0?El(n.left+S/2,n.top+w/2,i-S/2,o-w/2,Xa.TOP_LEFT):new xl(n.left+S/2,n.top+w/2),this.topRightBorderStroke=i>0||o>0?El(n.left+m,n.top+w/2,a-x/2,l-w/2,Xa.TOP_RIGHT):new xl(n.left+n.width-x/2,n.top+w/2),this.bottomRightBorderStroke=c>0||u>0?El(n.left+y,n.top+v,c-x/2,u-_/2,Xa.BOTTOM_RIGHT):new xl(n.left+n.width-x/2,n.top+n.height-_/2),this.bottomLeftBorderStroke=d>0||p>0?El(n.left+S/2,n.top+b,d-S/2,p-_/2,Xa.BOTTOM_LEFT):new xl(n.left+S/2,n.top+n.height-_/2),this.topLeftBorderBox=i>0||o>0?El(n.left,n.top,i,o,Xa.TOP_LEFT):new xl(n.left,n.top),this.topRightBorderBox=a>0||l>0?El(n.left+m,n.top,a,l,Xa.TOP_RIGHT):new xl(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||u>0?El(n.left+y,n.top+v,c,u,Xa.BOTTOM_RIGHT):new xl(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=d>0||p>0?El(n.left,n.top+b,d,p,Xa.BOTTOM_LEFT):new xl(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?El(n.left+S,n.top+w,Math.max(0,i-S),Math.max(0,o-w),Xa.TOP_LEFT):new xl(n.left+S,n.top+w),this.topRightPaddingBox=a>0||l>0?El(n.left+Math.min(m,n.width-x),n.top+w,m>n.width+x?0:Math.max(0,a-x),Math.max(0,l-w),Xa.TOP_RIGHT):new xl(n.left+n.width-x,n.top+w),this.bottomRightPaddingBox=c>0||u>0?El(n.left+Math.min(y,n.width-S),n.top+Math.min(v,n.height-_),Math.max(0,c-x),Math.max(0,u-_),Xa.BOTTOM_RIGHT):new xl(n.left+n.width-x,n.top+n.height-_),this.bottomLeftPaddingBox=d>0||p>0?El(n.left+S,n.top+Math.min(b,n.height-_),Math.max(0,d-S),Math.max(0,p-_),Xa.BOTTOM_LEFT):new xl(n.left+S,n.top+n.height-_),this.topLeftContentBox=i>0||o>0?El(n.left+S+M,n.top+w+C,Math.max(0,i-(S+M)),Math.max(0,o-(w+C)),Xa.TOP_LEFT):new xl(n.left+S+M,n.top+w+C),this.topRightContentBox=a>0||l>0?El(n.left+Math.min(m,n.width+S+M),n.top+w+C,m>n.width+S+M?0:a-S+M,l-(w+C),Xa.TOP_RIGHT):new xl(n.left+n.width-(x+B),n.top+w+C),this.bottomRightContentBox=c>0||u>0?El(n.left+Math.min(y,n.width-(S+M)),n.top+Math.min(v,n.height+w+C),Math.max(0,c-(x+B)),u-(_+E),Xa.BOTTOM_RIGHT):new xl(n.left+n.width-(x+B),n.top+n.height-(_+E)),this.bottomLeftContentBox=d>0||p>0?El(n.left+S+M,n.top+b,Math.max(0,d-(S+M)),p-(_+E),Xa.BOTTOM_LEFT):new xl(n.left+S+M,n.top+n.height-(_+E))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Xa||(Xa={}));var El=function(e,t,n,r,i){var o=(Math.sqrt(2)-1)/3*4,s=n*o,a=r*o,l=e+n,A=t+r;switch(i){case Xa.TOP_LEFT:return new Sl(new xl(e,A),new xl(e,A-a),new xl(l-s,t),new xl(l,t));case Xa.TOP_RIGHT:return new Sl(new xl(e,t),new xl(e+s,t),new xl(l,A-a),new xl(l,A));case Xa.BOTTOM_RIGHT:return new Sl(new xl(l,t),new xl(l,t+a),new xl(e+s,A),new xl(e,A));case Xa.BOTTOM_LEFT:default:return new Sl(new xl(l,A),new xl(l-s,A),new xl(e,t+a),new xl(e,t))}},Ml=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Tl=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Fl=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Il=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Ll=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Pl=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Ul=function(e){return 0===e.type},Rl=function(e){return 1===e.type},kl=function(e){return 2===e.type},Nl=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},Dl=function(e,t,n,r,i){return e.map((function(e,o){switch(o){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+i);case 3:return e.add(t,n+i)}return e}))},Ol=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Ql=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Bl(this.container),this.container.styles.opacity<1&&this.effects.push(new Pl(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Il(n,r,i))}if(0!==this.container.styles.overflowX){var o=Ml(this.curves),s=Fl(this.curves);Nl(o,s)?this.effects.push(new Ll(o,6)):(this.effects.push(new Ll(o,2)),this.effects.push(new Ll(s,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter((function(e){return!Rl(e)}));if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,i),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var o=Ml(n.curves),s=Fl(n.curves);Nl(o,s)||r.unshift(new Ll(s,6))}}else r.unshift.apply(r,i);n=n.parent}return r.filter((function(t){return io(t.target,e)}))},e}(),Hl=function(e,t,n,r){e.container.elements.forEach((function(i){var o=io(i.flags,4),s=io(i.flags,2),a=new Ql(i,e);io(i.styles.display,2048)&&r.push(a);var l=io(i.flags,8)?[]:r;if(o||s){var A=o||i.styles.isPositioned()?n:t,c=new Ol(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var h=0;A.negativeZIndex.some((function(e,t){return u>e.element.container.styles.zIndex.order?(h=t,!1):h>0})),A.negativeZIndex.splice(h,0,c)}else if(u>0){var d=0;A.positiveZIndex.some((function(e,t){return u>=e.element.container.styles.zIndex.order?(d=t+1,!1):d>0})),A.positiveZIndex.splice(d,0,c)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?A.nonPositionedFloats.push(c):A.nonPositionedInlineLevel.push(c);Hl(a,c,o?c:n,l)}else i.styles.isInlineLevel()?t.inlineLevel.push(a):t.nonInlineLevel.push(a),Hl(a,t,n,l);io(i.flags,8)&&zl(i,l)}))},zl=function(e,t){for(var n=e instanceof js?e.start:1,r=e instanceof js&&e.reversed,i=0;i<t.length;i++){var o=t[i];o.container instanceof zs&&"number"===typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=Ga(n,o.container.styles.listStyleType,!0),n+=r?-1:1}},jl=function(e){var t=new Ql(e,null),n=new Ol(t),r=[];return Hl(t,n,n,r),zl(t.container,r),n},Vl=function(e,t){switch(t){case 0:return Xl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Xl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Xl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Xl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Wl=function(e,t){switch(t){case 0:return Xl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Xl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Xl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Xl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Gl=function(e,t){switch(t){case 0:return Xl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Xl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Xl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Xl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Kl=function(e,t){switch(t){case 0:return ql(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return ql(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return ql(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return ql(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},ql=function(e,t){var n=[];return Cl(e)?n.push(e.subdivide(.5,!1)):n.push(e),Cl(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Xl=function(e,t,n,r){var i=[];return Cl(e)?i.push(e.subdivide(.5,!1)):i.push(e),Cl(n)?i.push(n.subdivide(.5,!0)):i.push(n),Cl(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Cl(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},Yl=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},$l=function(e){var t=e.styles,n=e.bounds,r=Kn(t.paddingLeft,n.width),i=Kn(t.paddingRight,n.width),o=Kn(t.paddingTop,n.width),s=Kn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,o+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+o+s))},Jl=function(e,t){return 0===e?t.bounds:2===e?$l(t):Yl(t)},Zl=function(e,t){return 0===e?t.bounds:2===e?$l(t):Yl(t)},eA=function(e,t,n){var r=Jl(iA(e.styles.backgroundOrigin,t),e),i=Zl(iA(e.styles.backgroundClip,t),e),o=rA(iA(e.styles.backgroundSize,t),n,r),s=o[0],a=o[1],l=Gn(iA(e.styles.backgroundPosition,t),r.width-s,r.height-a);return[oA(iA(e.styles.backgroundRepeat,t),l,o,r,i),Math.round(r.left+l[0]),Math.round(r.top+l[1]),s,a]},tA=function(e){return Pn(e)&&e.value===kr.AUTO},nA=function(e){return"number"===typeof e},rA=function(e,t,n){var r=t[0],i=t[1],o=t[2],s=e[0],a=e[1];if(!s)return[0,0];if(Hn(s)&&a&&Hn(a))return[Kn(s,n.width),Kn(a,n.height)];var l=nA(o);if(Pn(s)&&(s.value===kr.CONTAIN||s.value===kr.COVER))return nA(o)?n.width/n.height<o!==(s.value===kr.COVER)?[n.width,n.width/o]:[n.height*o,n.height]:[n.width,n.height];var A=nA(r),c=nA(i),u=A||c;if(tA(s)&&(!a||tA(a)))return A&&c?[r,i]:l||u?u&&l?[A?r:i*o,c?i:r/o]:[A?r:n.width,c?i:n.height]:[n.width,n.height];if(l){var h=0,d=0;return Hn(s)?h=Kn(s,n.width):Hn(a)&&(d=Kn(a,n.height)),tA(s)?h=d*o:a&&!tA(a)||(d=h/o),[h,d]}var p=null,f=null;if(Hn(s)?p=Kn(s,n.width):a&&Hn(a)&&(f=Kn(a,n.height)),null===p||a&&!tA(a)||(f=A&&c?p/r*i:n.height),null!==f&&tA(s)&&(p=A&&c?f/i*r:n.width),null!==p&&null!==f)return[p,f];throw new Error("Unable to calculate background-size for element")},iA=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},oA=function(e,t,n,r,i){var o=t[0],s=t[1],a=n[0],l=n[1];switch(e){case 2:return[new xl(Math.round(r.left),Math.round(r.top+s)),new xl(Math.round(r.left+r.width),Math.round(r.top+s)),new xl(Math.round(r.left+r.width),Math.round(l+r.top+s)),new xl(Math.round(r.left),Math.round(l+r.top+s))];case 3:return[new xl(Math.round(r.left+o),Math.round(r.top)),new xl(Math.round(r.left+o+a),Math.round(r.top)),new xl(Math.round(r.left+o+a),Math.round(r.height+r.top)),new xl(Math.round(r.left+o),Math.round(r.height+r.top))];case 1:return[new xl(Math.round(r.left+o),Math.round(r.top+s)),new xl(Math.round(r.left+o+a),Math.round(r.top+s)),new xl(Math.round(r.left+o+a),Math.round(r.top+s+l)),new xl(Math.round(r.left+o),Math.round(r.top+s+l))];default:return[new xl(Math.round(i.left),Math.round(i.top)),new xl(Math.round(i.left+i.width),Math.round(i.top)),new xl(Math.round(i.left+i.width),Math.round(i.height+i.top)),new xl(Math.round(i.left),Math.round(i.height+i.top))]}},sA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",aA="Hidden Text",lA=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),r.src=sA,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(aA)),n.appendChild(i),n.appendChild(r);var s=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(aA)),n.style.lineHeight="normal",r.style.verticalAlign="super";var a=r.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:s,middle:a}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),AA=function(){function e(e,t){this.context=e,this.options=t}return e}(),cA=1e4,uA=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new lA(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),kl(e)&&(this.ctx.globalAlpha=e.opacity),Ul(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Rl(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return io(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Fs(e.text).reduce((function(t,i){return r.ctx.fillText(i,t,e.bounds.top+n),t+r.ctx.measureText(i).width}),e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=gA(e.fontFamily).join(", "),r=In(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,(function(){var n,r,o,s,a,l,A,c,u=this;return i(this,(function(i){return n=this.createFontStyle(t),r=n[0],o=n[1],s=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(o,s),l=a.baseline,A=a.middle,c=t.paintOrder,e.textBounds.forEach((function(e){c.forEach((function(n){switch(n){case 0:u.ctx.fillStyle=ir(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,l);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach((function(n){u.ctx.shadowColor=ir(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,l)})),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=ir(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+l),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+A),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=ir(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+l)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=$l(e),i=Fl(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,(function(){var t,r,o,a,l,A,c,u,h,d,p,f,g,m,v,y,b,w;return i(this,(function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,o=t.styles,a=0,l=t.textNodes,i.label=1;case 1:return a<l.length?(A=l[a],[4,this.renderTextNode(A,o)]):[3,4];case 2:i.sent(),i.label=3;case 3:return a++,[3,1];case 4:if(!(t instanceof Os))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return v=i.sent(),this.renderReplacedElement(t,r,v),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Qs&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Hs))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return v=i.sent(),this.renderReplacedElement(t,r,v),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ta&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=i.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof Js&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===qs?t.checked&&(this.ctx.save(),this.path([new xl(t.bounds.left+.39363*u,t.bounds.top+.79*u),new xl(t.bounds.left+.16*u,t.bounds.top+.5549*u),new xl(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new xl(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new xl(t.bounds.left+.72983*u,t.bounds.top+.23*u),new xl(t.bounds.left+.84*u,t.bounds.top+.34085*u),new xl(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=ir($s),this.ctx.fill(),this.ctx.restore()):t.type===Xs&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=ir($s),this.ctx.fill(),this.ctx.restore())),hA(t)&&t.value.length){switch(h=this.createFontStyle(o),b=h[0],d=h[1],p=this.fontMetrics.getMetrics(b,d).baseline,this.ctx.font=b,this.ctx.fillStyle=ir(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=pA(t.styles.textAlign),w=$l(t),f=0,t.styles.textAlign){case 1:f+=w.width/2;break;case 2:f+=w.width}g=w.add(f,0,0,-w.height/2+1),this.ctx.save(),this.path([new xl(w.left,w.top),new xl(w.left+w.width,w.top),new xl(w.left+w.width,w.top+w.height),new xl(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Bs(t.value,g),o.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!io(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];v=void 0,y=m.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return v=i.sent(),this.ctx.drawImage(v,t.bounds.left-(v.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(b=this.createFontStyle(o)[0],this.ctx.font=b,this.ctx.fillStyle=ir(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new s(t.bounds.left,t.bounds.top+Kn(t.styles.paddingTop,t.bounds.width),t.bounds.width,wi(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Bs(e.listValue,w),o.letterSpacing,wi(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,s,a,l,A,c,u,h,d,p,f,g;return i(this,(function(i){switch(i.label){case 0:return io(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,n=e.negativeZIndex,i.label=2;case 2:return t<n.length?(g=n[t],[4,this.renderStack(g)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),r=0,o=e.nonInlineLevel,i.label=7;case 7:return r<o.length?(g=o[r],[4,this.renderNode(g)]):[3,10];case 8:i.sent(),i.label=9;case 9:return r++,[3,7];case 10:s=0,a=e.nonPositionedFloats,i.label=11;case 11:return s<a.length?(g=a[s],[4,this.renderStack(g)]):[3,14];case 12:i.sent(),i.label=13;case 13:return s++,[3,11];case 14:l=0,A=e.nonPositionedInlineLevel,i.label=15;case 15:return l<A.length?(g=A[l],[4,this.renderStack(g)]):[3,18];case 16:i.sent(),i.label=17;case 17:return l++,[3,15];case 18:c=0,u=e.inlineLevel,i.label=19;case 19:return c<u.length?(g=u[c],[4,this.renderNode(g)]):[3,22];case 20:i.sent(),i.label=21;case 21:return c++,[3,19];case 22:h=0,d=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return h<d.length?(g=d[h],[4,this.renderStack(g)]):[3,26];case 24:i.sent(),i.label=25;case 25:return h++,[3,23];case 26:p=0,f=e.positiveZIndex,i.label=27;case 27:return p<f.length?(g=f[p],[4,this.renderStack(g)]):[3,30];case 28:i.sent(),i.label=29;case 29:return p++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var r=Cl(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),Cl(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var i=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,s,a;return i(this,(function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var o,s,a,l,A,c,u,h,d,p,f,g,m,v,y,b,w,x,_,S,C,B,E,M,T,F,I,L,P,U,R;return i(this,(function(i){switch(i.label){case 0:if(0!==n.type)return[3,5];o=void 0,s=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.context.cache.match(s)];case 2:return o=i.sent(),[3,4];case 3:return i.sent(),r.context.logger.error("Error loading background-image "+s),[3,4];case 4:return o&&(a=eA(e,t,[o.width,o.height,o.width/o.height]),b=a[0],B=a[1],E=a[2],_=a[3],S=a[4],v=r.ctx.createPattern(r.resizeImage(o,_,S),"repeat"),r.renderRepeat(b,v,B,E)),[3,6];case 5:Lr(n)?(l=eA(e,t,[null,null,null]),b=l[0],B=l[1],E=l[2],_=l[3],S=l[4],A=vr(n.angle,_,S),c=A[0],u=A[1],h=A[2],d=A[3],p=A[4],(f=document.createElement("canvas")).width=_,f.height=S,g=f.getContext("2d"),m=g.createLinearGradient(u,d,h,p),gr(n.stops,c).forEach((function(e){return m.addColorStop(e.stop,ir(e.color))})),g.fillStyle=m,g.fillRect(0,0,_,S),_>0&&S>0&&(v=r.ctx.createPattern(f,"repeat"),r.renderRepeat(b,v,B,E))):Pr(n)&&(y=eA(e,t,[null,null,null]),b=y[0],w=y[1],x=y[2],_=y[3],S=y[4],C=0===n.position.length?[Vn]:n.position,B=Kn(C[0],_),E=Kn(C[C.length-1],S),M=wr(n,B,E,_,S),T=M[0],F=M[1],T>0&&F>0&&(I=r.ctx.createRadialGradient(w+B,x+E,0,w+B,x+E,T),gr(n.stops,2*T).forEach((function(e){return I.addColorStop(e.stop,ir(e.color))})),r.path(b),r.ctx.fillStyle=I,T!==F?(L=e.bounds.left+.5*e.bounds.width,P=e.bounds.top+.5*e.bounds.height,R=1/(U=F/T),r.ctx.save(),r.ctx.translate(L,P),r.ctx.transform(1,0,0,U,0,0),r.ctx.translate(-L,-P),r.ctx.fillRect(w,R*(x-P)+P,_,S*R),r.ctx.restore()):r.ctx.fill())),i.label=6;case 6:return t--,[2]}}))},r=this,o=0,s=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return o<s.length?(a=s[o],[5,n(a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){return this.path(Vl(n,t)),this.ctx.fillStyle=ir(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,o){return r(this,void 0,void 0,(function(){var r,s;return i(this,(function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,o)]:[3,2];case 1:return i.sent(),[2];case 2:return r=Wl(o,n),this.path(r),this.ctx.fillStyle=ir(e),this.ctx.fill(),s=Gl(o,n),this.path(s),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,s,a,l,A,c=this;return i(this,(function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],o=dA(iA(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=ir(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){c.ctx.save();var n=Ml(e.curves),r=t.inset?0:cA,i=Dl(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(i)):(c.mask(n),c.ctx.clip(),c.path(i)),c.ctx.shadowOffsetX=t.offsetX.number+r,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=ir(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?ir(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()})),i.label=2;case 2:s=0,a=0,l=r,i.label=3;case 3:return a<l.length?0!==(A=l[a]).style&&!rr(A.color)&&A.width>0?2!==A.style?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,s,e.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==A.style?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,s,e.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==A.style?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,s,e.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,s,e.curves)];case 10:i.sent(),i.label=11;case 11:s++,i.label=12;case 12:return a++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,o,s){return r(this,void 0,void 0,(function(){var r,a,l,A,c,u,h,d,p,f,g,m,v,y,b,w;return i(this,(function(i){return this.ctx.save(),r=Kl(o,n),a=Vl(o,n),2===s&&(this.path(a),this.ctx.clip()),Cl(a[0])?(l=a[0].start.x,A=a[0].start.y):(l=a[0].x,A=a[0].y),Cl(a[1])?(c=a[1].end.x,u=a[1].end.y):(c=a[1].x,u=a[1].y),h=0===n||2===n?Math.abs(l-c):Math.abs(A-u),this.ctx.beginPath(),3===s?this.formatPath(r):this.formatPath(a.slice(0,2)),d=t<3?3*t:2*t,p=t<3?2*t:t,3===s&&(d=t,p=t),f=!0,h<=2*d?f=!1:h<=2*d+p?(d*=g=h/(2*d+p),p*=g):(m=Math.floor((h+p)/(d+p)),v=(h-m*d)/(m-1),p=(y=(h-(m+1)*d)/m)<=0||Math.abs(p-v)<Math.abs(p-y)?v:y),f&&(3===s?this.ctx.setLineDash([0,d+p]):this.ctx.setLineDash([d,p])),3===s?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=ir(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===s&&(Cl(a[0])&&(b=a[3],w=a[0],this.ctx.beginPath(),this.formatPath([new xl(b.end.x,b.end.y),new xl(w.start.x,w.start.y)]),this.ctx.stroke()),Cl(a[1])&&(b=a[1],w=a[2],this.ctx.beginPath(),this.formatPath([new xl(b.end.x,b.end.y),new xl(w.start.x,w.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=jl(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(AA),hA=function(e){return e instanceof ea||e instanceof Zs||e instanceof Js&&e.type!==Xs&&e.type!==qs},dA=function(e,t){switch(e){case 0:return Ml(t);case 2:return Tl(t);default:return Fl(t)}},pA=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},fA=["-apple-system","system-ui"],gA=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===fA.indexOf(e)})):e},mA=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t=_s(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,vA(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(AA),vA=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},yA=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,o([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),bA=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new yA({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new dl(this,t)}return e.instanceCount=1,e}(),wA=function(e,t){return void 0===t&&(t={}),xA(e,t)};"undefined"!==typeof window&&hl.setContext(window);var xA=function(e,t){return r(void 0,void 0,void 0,(function(){var r,o,A,c,u,h,d,p,f,g,m,v,y,b,w,x,_,S,C,B,E,M,T,F,I,L,P,U,R,k,N,D,O,Q,H,z,j,V;return i(this,(function(i){switch(i.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(o=r.defaultView))throw new Error("Document is not attached to a Window");return A={allowTaint:null!==(M=t.allowTaint)&&void 0!==M&&M,imageTimeout:null!==(T=t.imageTimeout)&&void 0!==T?T:15e3,proxy:t.proxy,useCORS:null!==(F=t.useCORS)&&void 0!==F&&F},c=n({logging:null===(I=t.logging)||void 0===I||I,cache:t.cache},A),u={windowWidth:null!==(L=t.windowWidth)&&void 0!==L?L:o.innerWidth,windowHeight:null!==(P=t.windowHeight)&&void 0!==P?P:o.innerHeight,scrollX:null!==(U=t.scrollX)&&void 0!==U?U:o.pageXOffset,scrollY:null!==(R=t.scrollY)&&void 0!==R?R:o.pageYOffset},h=new s(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),d=new bA(c,h),p=null!==(k=t.foreignObjectRendering)&&void 0!==k&&k,f={allowTaint:null!==(N=t.allowTaint)&&void 0!==N&&N,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:p,copyStyles:p},d.logger.debug("Starting document clone with size "+h.width+"x"+h.height+" scrolled to "+-h.left+","+-h.top),g=new qa(d,e,f),(m=g.clonedReferenceElement)?[4,g.toIFrame(r,h)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=i.sent(),y=ma(m)||fa(m)?l(m.ownerDocument):a(d,m),b=y.width,w=y.height,x=y.left,_=y.top,S=_A(d,m,t.backgroundColor),C={canvas:t.canvas,backgroundColor:S,scale:null!==(O=null!==(D=t.scale)&&void 0!==D?D:o.devicePixelRatio)&&void 0!==O?O:1,x:(null!==(Q=t.x)&&void 0!==Q?Q:0)+x,y:(null!==(H=t.y)&&void 0!==H?H:0)+_,width:null!==(z=t.width)&&void 0!==z?z:Math.ceil(b),height:null!==(j=t.height)&&void 0!==j?j:Math.ceil(w)},p?(d.logger.debug("Document cloned, using foreign object rendering"),[4,new mA(d,C).render(m)]):[3,3];case 2:return B=i.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+x+","+_+" with size "+b+"x"+w+" using computed rendering"),d.logger.debug("Starting DOM parsing"),E=oa(d,m),S===E.styles.backgroundColor&&(E.styles.backgroundColor=hr.TRANSPARENT),d.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),[4,new uA(d,C).render(E)];case 4:B=i.sent(),i.label=5;case 5:return(null===(V=t.removeContainer)||void 0===V||V)&&(qa.destroy(v)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,B]}}))}))},_A=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?ur(e,getComputedStyle(r.documentElement).backgroundColor):hr.TRANSPARENT,o=r.body?ur(e,getComputedStyle(r.body).backgroundColor):hr.TRANSPARENT,s="string"===typeof n?ur(e,n):null===n?hr.TRANSPARENT:4294967295;return t===r.documentElement?rr(i)?rr(o)?s:o:i:s};return wA}()},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(7067);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){A(e,t),A(e+"Capture",t)}function A(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function f(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!u.call(p,e)||!u.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,v);g[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,v);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,v);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),E=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var U=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}var k,N=Object.assign;function D(e){if(void 0===k)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return"\n"+k+e}var O=!1;function Q(e,t){if(!e||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var r=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){r=A}e.call(t.prototype)}else{try{throw Error()}catch(A){r=A}e()}}catch(A){if(A&&r&&"string"===typeof A.stack){for(var i=A.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{O=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function H(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=Q(e.type,!1);case 11:return e=Q(e.type.render,!1);case 1:return e=Q(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case C:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case F:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case B:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function j(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function J(e,t){$(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function oe(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ae,ce,ue=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Ae=Ae||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ae.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ce(e){if(e=yi(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Be(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ee(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Me(e,t){return e(t)}function Te(){}var Fe=!1;function Ie(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return Me(e,t,n)}finally{Fe=!1,(null!==_e||null!==Se)&&(Te(),Ee())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(c)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch(ce){Pe=!1}function Re(e,t,n,r,i,o,s,a,l){var A=Array.prototype.slice.call(arguments,3);try{t.apply(n,A)}catch(c){this.onError(c)}}var ke=!1,Ne=null,De=!1,Oe=null,Qe={onError:function(e){ke=!0,Ne=e}};function He(e,t,n,r,i,o,s,a,l){ke=!1,Ne=null,Re.apply(Qe,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(ze(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ve(i),e;if(s===r)return Ve(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var At=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ut(a):0!==(o&=s)&&(r=ut(o))}else 0!==(s=n&~i)?r=ut(s):0!==o&&(r=ut(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=At;return 0===(4194240&(At<<=1))&&(At=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,Ct,Bt=!1,Et=[],Mt=null,Tt=null,Ft=null,It=new Map,Lt=new Map,Pt=[],Ut="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function kt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=je(n)))return e.blockedOn=t,void Ct(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ot(e,t,n){Dt(e)&&n.delete(t)}function Qt(){Bt=!1,null!==Mt&&Dt(Mt)&&(Mt=null),null!==Tt&&Dt(Tt)&&(Tt=null),null!==Ft&&Dt(Ft)&&(Ft=null),It.forEach(Ot),Lt.forEach(Ot)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,Bt||(Bt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Qt)))}function zt(e){function t(t){return Ht(t,e)}if(0<Et.length){Ht(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Ht(Mt,e),null!==Tt&&Ht(Tt,e),null!==Ft&&Ht(Ft,e),It.forEach(t),Lt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Nt(n),null===n.blockedOn&&Pt.shift()}var jt=b.ReactCurrentBatchConfig,Vt=!0;function Wt(e,t,n,r){var i=yt,o=jt.transition;jt.transition=null;try{yt=1,Kt(e,t,n,r)}finally{yt=i,jt.transition=o}}function Gt(e,t,n,r){var i=yt,o=jt.transition;jt.transition=null;try{yt=4,Kt(e,t,n,r)}finally{yt=i,jt.transition=o}}function Kt(e,t,n,r){if(Vt){var i=Xt(e,t,n,r);if(null===i)Vr(e,t,r,qt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Mt=kt(Mt,e,t,n,r,i),!0;case"dragenter":return Tt=kt(Tt,e,t,n,r,i),!0;case"mouseover":return Ft=kt(Ft,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return It.set(o,kt(It.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Lt.set(o,kt(Lt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Ut.indexOf(e)){for(;null!==i;){var o=yi(i);if(null!==o&&wt(o),null===(o=Xt(e,t,n,r))&&Vr(e,t,r,qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var qt=null;function Xt(e,t,n,r){if(qt=null,null!==(e=vi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=je(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(An),un=N({},An,{view:0,detail:0}),hn=on(un),dn=N({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(dn),fn=on(N({},dn,{dataTransfer:0})),gn=on(N({},un,{relatedTarget:0})),mn=on(N({},An,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=N({},An,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=on(vn),bn=on(N({},An,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Cn(){return Sn}var Bn=N({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=on(Bn),Mn=on(N({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(N({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Fn=on(N({},An,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=N({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=on(In),Pn=[9,13,27,32],Un=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var kn=c&&"TextEvent"in window&&!Rn,Nn=c&&(!Un||Rn&&8<Rn&&11>=Rn),Dn=String.fromCharCode(32),On=!1;function Qn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function Wn(e,t,n,r){Be(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function qn(e){Dr(e,0)}function Xn(e){if(K(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];Wn(t,Kn,e,we(e)),Ie(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function or(e,t){if("click"===e)return Xn(t)}function sr(e,t){if("input"===e||"change"===e)return Xn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function Ar(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=Ar(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ar(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var s=cr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,vr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==q(r)||("selectionStart"in(r=gr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Cr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Br=Cr("animationend"),Er=Cr("animationiteration"),Mr=Cr("animationstart"),Tr=Cr("transitionend"),Fr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Fr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Ir.length;Pr++){var Ur=Ir[Pr];Lr(Ur.toLowerCase(),"on"+(Ur[0].toUpperCase()+Ur.slice(1)))}Lr(Br,"onAnimationEnd"),Lr(Er,"onAnimationIteration"),Lr(Mr,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Tr,"onTransitionEnd"),A("onMouseEnter",["mouseout","mouseover"]),A("onMouseLeave",["mouseout","mouseover"]),A("onPointerEnter",["pointerout","pointerover"]),A("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,A){if(He.apply(this,arguments),ke){if(!ke)throw Error(o(198));var c=Ne;ke=!1,Ne=null,De||(De=!0,Oe=c)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,A=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Nr(i,a,A),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,A=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Nr(i,a,A),o=l}}}if(De)throw e=Oe,De=!1,Oe=null,e}function Or(e,t){var n=t[fi];void 0===n&&(n=t[fi]=new Set);var r=e+"__bubble";n.has(r)||(jr(t,e,2,!1),n.add(r))}function Qr(e,t,n){var r=0;t&&(r|=4),jr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Hr]){e[Hr]=!0,s.forEach((function(t){"selectionchange"!==t&&(kr.has(t)||Qr(t,!1,e),Qr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,Qr("selectionchange",!1,t))}}function jr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Ie((function(){var r=o,i=we(n),s=[];e:{var a=Fr.get(e);if(void 0!==a){var l=cn,A=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":A="focus",l=gn;break;case"focusout":A="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Br:case Er:case Mr:l=mn;break;case Tr:l=Fn;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var c=0!==(4&t),u=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var d,p=r;null!==p;){var f=(d=p).stateNode;if(5===d.tag&&null!==f&&(d=f,null!==h&&(null!=(f=Le(p,h))&&c.push(Wr(p,f,d)))),u)break;p=p.return}0<c.length&&(a=new l(a,A,null,n,i),s.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(A=n.relatedTarget||n.fromElement)||!vi(A)&&!A[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(A=(A=n.relatedTarget||n.toElement)?vi(A):null)&&(A!==(u=ze(A))||5!==A.tag&&6!==A.tag)&&(A=null)):(l=null,A=r),l!==A)){if(c=pn,f="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Mn,f="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==l?a:bi(l),d=null==A?a:bi(A),(a=new c(f,p+"leave",l,n,i)).target=u,a.relatedTarget=d,f=null,vi(i)===r&&((c=new c(h,p+"enter",A,n,i)).target=d,c.relatedTarget=u,f=c),u=f,l&&A)e:{for(h=A,p=0,d=c=l;d;d=Kr(d))p++;for(d=0,f=h;f;f=Kr(f))d++;for(;0<p-d;)c=Kr(c),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Kr(c),h=Kr(h)}c=null}else c=null;null!==l&&qr(s,a,l,c,!1),null!==A&&null!==u&&qr(s,u,A,c,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(Vn(a))if($n)g=sr;else{g=ir;var m=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Wn(s,g,n,i):(m&&m(e,a,r),"focusout"===e&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&ee(a,"number",a.value)),m=r?bi(r):window,e){case"focusin":(Vn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,vr=null);break;case"focusout":vr=mr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(s,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":br(s,n,i)}var v;if(Un)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else zn?Qn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Nn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==y?"onCompositionEnd"===y&&zn&&(v=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(m=Gr(r,y)).length&&(y=new bn(y,e,null,n,i),s.push({event:y,listeners:m}),v?y.data=v:null!==(v=Hn(n))&&(y.data=v))),(v=kn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(On=!0,Dn);case"textInput":return(e=t.data)===Dn&&On?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Un&&Qn(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Dr(s,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Le(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Le(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,A=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==A&&(a=A,i?null!=(l=Le(n,o))&&s.unshift(Wr(n,l,a)):i||null!=(l=Le(n,o))&&s.push(Wr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function Ai(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),hi="__reactFiber$"+ui,di="__reactProps$"+ui,pi="__reactContainer$"+ui,fi="__reactEvents$"+ui,gi="__reactListeners$"+ui,mi="__reactHandles$"+ui;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ci(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Bi(e,t){_i++,xi[_i]=e.current,e.current=t}var Ei={},Mi=Si(Ei),Ti=Si(!1),Fi=Ei;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Li(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ci(Ti),Ci(Mi)}function Ui(e,t,n){if(Mi.current!==Ei)throw Error(o(168));Bi(Mi,t),Bi(Ti,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,j(e)||"Unknown",i));return N({},n,r)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Fi=Mi.current,Bi(Mi,e),Bi(Ti,Ti.current),!0}function Ni(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ri(e,t,Fi),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ti),Ci(Mi),Bi(Mi,e)):Ci(Ti),Bi(Ti,n)}var Di=null,Oi=!1,Qi=!1;function Hi(e){null===Di?Di=[e]:Di.push(e)}function zi(){if(!Qi&&null!==Di){Qi=!0;var e=0,t=yt;try{var n=Di;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Di=null,Oi=!1}catch(i){throw null!==Di&&(Di=Di.slice(e+1)),Ke(Ze,zi),i}finally{yt=t,Qi=!1}}return null}var ji=[],Vi=0,Wi=null,Gi=0,Ki=[],qi=0,Xi=null,Yi=1,$i="";function Ji(e,t){ji[Vi++]=Gi,ji[Vi++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Ki[qi++]=Yi,Ki[qi++]=$i,Ki[qi++]=Xi,Xi=e;var r=Yi;e=$i;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yi=1<<32-st(t)+i|n<<i|r,$i=o+e}else Yi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Wi;)Wi=ji[--Vi],ji[Vi]=null,Gi=ji[--Vi],ji[Vi]=null;for(;e===Xi;)Xi=Ki[--qi],Ki[qi]=null,$i=Ki[--qi],Ki[qi]=null,Yi=Ki[--qi],Ki[qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=IA(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=Ai(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=IA(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Ao(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=Ai(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function uo(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw ho(),Error(o(418));for(;t;)so(e,t),t=Ai(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=Ai(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?Ai(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=Ai(e.nextSibling)}function po(){ro=no=null,io=!1}function fo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function mo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yo(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=PA(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=NA(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function A(e,t,n,r){var o=n.type;return o===_?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===L&&yo(o)===t.type)?((r=i(t,n.props)).ref=mo(e,t,n),r.return=e,r):((r=UA(n.type,n.key,n.props,null,e.mode,r)).ref=mo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=DA(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=RA(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=NA(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=UA(t.type,t.key,t.props,null,e.mode,n)).ref=mo(e,null,t),n.return=e,n;case x:return(t=DA(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=RA(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?A(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case L:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:u(e,t,n,r,null);vo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return A(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return u(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function f(i,o,a,l){for(var A=null,c=null,u=o,f=o=0,g=null;null!==u&&f<a.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var m=d(i,u,a[f],l);if(null===m){null===u&&(u=g);break}e&&u&&null===m.alternate&&t(i,u),o=s(m,o,f),null===c?A=m:c.sibling=m,c=m,u=g}if(f===a.length)return n(i,u),io&&Ji(i,f),A;if(null===u){for(;f<a.length;f++)null!==(u=h(i,a[f],l))&&(o=s(u,o,f),null===c?A=u:c.sibling=u,c=u);return io&&Ji(i,f),A}for(u=r(i,u);f<a.length;f++)null!==(g=p(u,i,f,a[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),o=s(g,o,f),null===c?A=g:c.sibling=g,c=g);return e&&u.forEach((function(e){return t(i,e)})),io&&Ji(i,f),A}function g(i,a,l,A){var c=R(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var u=c=null,f=a,g=a=0,m=null,v=l.next();null!==f&&!v.done;g++,v=l.next()){f.index>g?(m=f,f=null):m=f.sibling;var y=d(i,f,v.value,A);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=s(y,a,g),null===u?c=y:u.sibling=y,u=y,f=m}if(v.done)return n(i,f),io&&Ji(i,g),c;if(null===f){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,A))&&(a=s(v,a,g),null===u?c=v:u.sibling=v,u=v);return io&&Ji(i,g),c}for(f=r(i,f);!v.done;g++,v=l.next())null!==(v=p(f,i,g,v.value,A))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),a=s(v,a,g),null===u?c=v:u.sibling=v,u=v);return e&&f.forEach((function(e){return t(i,e)})),io&&Ji(i,g),c}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===_&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var A=s.key,c=o;null!==c;){if(c.key===A){if((A=s.type)===_){if(7===c.tag){n(r,c.sibling),(o=i(c,s.props.children)).return=r,r=o;break e}}else if(c.elementType===A||"object"===typeof A&&null!==A&&A.$$typeof===L&&yo(A)===c.type){n(r,c.sibling),(o=i(c,s.props)).ref=mo(r,c,s),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===_?((o=RA(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=UA(s.type,s.key,s.props,null,r.mode,l)).ref=mo(r,o,s),l.return=r,r=l)}return a(r);case x:e:{for(c=s.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=DA(s,r.mode,l)).return=r,r=o}return a(r);case L:return e(r,o,(c=s._init)(s._payload),l)}if(te(s))return f(r,o,s,l);if(R(s))return g(r,o,s,l);vo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=NA(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var wo=bo(!0),xo=bo(!1),_o=Si(null),So=null,Co=null,Bo=null;function Eo(){Bo=Co=So=null}function Mo(e){var t=_o.current;Ci(_o),e._currentValue=t}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fo(e,t){So=e,Bo=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ya=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(Bo!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===So)throw Error(o(308));Co=e,So.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Lo=null;function Po(e){null===Lo?Lo=[e]:Lo.push(e)}function Uo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Po(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var ko=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ml)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ro(e,n)}return null===(i=r.interleaved)?(t.next=t,Po(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ro(e,n)}function Ho(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;ko=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,A=l.next;l.next=null,null===s?o=A:s.next=A,s=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=A:a.next=A,c.lastBaseUpdate=l))}if(null!==o){var u=i.baseState;for(s=0,c=A=l=null,a=o;;){var h=a.lane,d=a.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,f=a;switch(h=t,d=n,f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(d,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=f.payload)?p.call(d,u,h):p)||void 0===h)break e;u=N({},u,h);break e;case 2:ko=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else d={eventTime:d,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(A=c=d,l=u):c=c.next=d,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=u),i.baseState=l,i.firstBaseUpdate=A,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);kl|=s,e.lanes=s,e.memoizedState=u}}function Vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Wo={},Go=Si(Wo),Ko=Si(Wo),qo=Si(Wo);function Xo(e){if(e===Wo)throw Error(o(174));return e}function Yo(e,t){switch(Bi(qo,t),Bi(Ko,e),Bi(Go,Wo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(Go),Bi(Go,t)}function $o(){Ci(Go),Ci(Ko),Ci(qo)}function Jo(e){Xo(qo.current);var t=Xo(Go.current),n=le(t,e.type);t!==n&&(Bi(Ko,e),Bi(Go,n))}function Zo(e){Ko.current===e&&(Ci(Go),Ci(Ko))}var es=Si(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=b.ReactCurrentDispatcher,os=b.ReactCurrentBatchConfig,ss=0,as=null,ls=null,As=null,cs=!1,us=!1,hs=0,ds=0;function ps(){throw Error(o(321))}function fs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,i),us){s=0;do{if(us=!1,hs=0,25<=s)throw Error(o(301));s+=1,As=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(us)}if(is.current=Js,t=null!==ls&&null!==ls.next,ss=0,As=ls=as=null,cs=!1,t)throw Error(o(300));return e}function ms(){var e=0!==hs;return hs=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===As?as.memoizedState=As=e:As=As.next=e,As}function ys(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===As?as.memoizedState:As.next;if(null!==t)As=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===As?as.memoizedState=As=e:As=As.next=e}return As}function bs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=ys(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,A=null,c=s;do{var u=c.lane;if((ss&u)===u)null!==A&&(A=A.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===A?(l=A=h,a=r):A=A.next=h,as.lanes|=u,kl|=u}c=c.next}while(null!==c&&c!==s);null===A?a=r:A.next=l,ar(r,t.memoizedState)||(ya=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=A,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,kl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=ys(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ya=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function _s(){}function Ss(e,t){var n=as,r=ys(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ya=!0),r=r.queue,ks(Es.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==As&&1&As.memoizedState.tag){if(n.flags|=2048,Is(9,Bs.bind(null,n,r,i,t),void 0,null),null===Tl)throw Error(o(349));0!==(30&ss)||Cs(n,t,i)}return i}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Bs(e,t,n,r){t.value=n,t.getSnapshot=r,Ms(t)&&Ts(e)}function Es(e,t,n){return n((function(){Ms(t)&&Ts(e)}))}function Ms(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ts(e){var t=Ro(e,1);null!==t&&nA(t,e,1,-1)}function Fs(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=qs.bind(null,as,e),[t.memoizedState,e]}function Is(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ls(){return ys().memoizedState}function Ps(e,t,n,r){var i=vs();as.flags|=e,i.memoizedState=Is(1|t,n,void 0,void 0===r?null:r)}function Us(e,t,n,r){var i=ys();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&fs(r,s.deps))return void(i.memoizedState=Is(t,n,o,r))}as.flags|=e,i.memoizedState=Is(1|t,n,o,r)}function Rs(e,t){return Ps(8390656,8,e,t)}function ks(e,t){return Us(2048,8,e,t)}function Ns(e,t){return Us(4,2,e,t)}function Ds(e,t){return Us(4,4,e,t)}function Os(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Us(4,4,Os.bind(null,t,e),n)}function Hs(){}function zs(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function js(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ya=!0),e.memoizedState=n):(ar(n,t)||(n=ft(),as.lanes|=n,kl|=n,e.baseState=!0),t)}function Ws(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{yt=n,os.transition=r}}function Gs(){return ys().memoizedState}function Ks(e,t,n){var r=tA(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(e))Ys(t,n);else if(null!==(n=Uo(e,t,n,r))){nA(n,e,r,eA()),$s(n,t,r)}}function qs(e,t,n){var r=tA(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))Ys(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Po(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(A){}null!==(n=Uo(e,t,i,r))&&(nA(n,e,r,i=eA()),$s(n,t,r))}}function Xs(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ys(e,t){us=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $s(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Js={readContext:Io,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Zs={readContext:Io,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:Rs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ps(4194308,4,Os.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ks.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Fs,useDebugValue:Hs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Fs(!1),t=e[0];return e=Ws.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=vs();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Tl)throw Error(o(349));0!==(30&ss)||Cs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Rs(Es.bind(null,r,s,e),[e]),r.flags|=2048,Is(9,Bs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Tl.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ds++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Io,useCallback:zs,useContext:Io,useEffect:ks,useImperativeHandle:Qs,useInsertionEffect:Ns,useLayoutEffect:Ds,useMemo:js,useReducer:ws,useRef:Ls,useState:function(){return ws(bs)},useDebugValue:Hs,useDeferredValue:function(e){return Vs(ys(),ls.memoizedState,e)},useTransition:function(){return[ws(bs)[0],ys().memoizedState]},useMutableSource:_s,useSyncExternalStore:Ss,useId:Gs,unstable_isNewReconciler:!1},ta={readContext:Io,useCallback:zs,useContext:Io,useEffect:ks,useImperativeHandle:Qs,useInsertionEffect:Ns,useLayoutEffect:Ds,useMemo:js,useReducer:xs,useRef:Ls,useState:function(){return xs(bs)},useDebugValue:Hs,useDeferredValue:function(e){var t=ys();return null===ls?t.memoizedState=e:Vs(t,ls.memoizedState,e)},useTransition:function(){return[xs(bs)[0],ys().memoizedState]},useMutableSource:_s,useSyncExternalStore:Ss,useId:Gs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eA(),i=tA(e),o=Oo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Qo(e,o,i))&&(nA(t,e,i,r),Ho(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eA(),i=tA(e),o=Oo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Qo(e,o,i))&&(nA(t,e,i,r),Ho(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eA(),r=tA(e),i=Oo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Qo(e,i,r))&&(nA(t,e,r,n),Ho(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(e,t,n){var r=!1,i=Ei,o=t.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=Li(t)?Fi:Mi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Ei),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},No(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=Li(t)?Fi:Mi.current,i.context=Ii(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Aa(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function da(e,t,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Wl=r),ua(0,t)},n}function pa(e,t,n){(n=Oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ua(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ua(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fa(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=CA.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ma(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oo(-1,1)).tag=2,Qo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=b.ReactCurrentOwner,ya=!1;function ba(e,t,n,r){t.child=null===e?xo(t,null,n,r):wo(t,e.child,n,r)}function wa(e,t,n,r,i){n=n.render;var o=t.ref;return Fo(t,i),r=gs(e,t,n,r,o,i),n=ms(),null===e||ya?(io&&n&&eo(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function xa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||LA(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=UA(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_a(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Va(e,t,i)}return t.flags|=1,(e=PA(o,r)).ref=t.ref,e.return=t,t.child=e}function _a(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ya=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Va(e,t,i);0!==(131072&e.flags)&&(ya=!0)}}return Ba(e,t,n,r,i)}function Sa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bi(Pl,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Bi(Pl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Bi(Pl,Ll),Ll|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Bi(Pl,Ll),Ll|=r;return ba(e,t,i,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ba(e,t,n,r,i){var o=Li(n)?Fi:Mi.current;return o=Ii(t,o),Fo(t,i),n=gs(e,t,n,r,o,i),r=ms(),null===e||ya?(io&&r&&eo(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function Ea(e,t,n,r,i){if(Li(n)){var o=!0;ki(t)}else o=!1;if(Fo(t,i),null===t.stateNode)ja(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,A=n.contextType;"object"===typeof A&&null!==A?A=Io(A):A=Ii(t,A=Li(n)?Fi:Mi.current);var c=n.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==A)&&aa(t,s,r,A),ko=!1;var h=t.memoizedState;s.state=h,jo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ti.current||ko?("function"===typeof c&&(ra(t,n,c,r),l=t.memoizedState),(a=ko||oa(t,n,a,r,h,l,A))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=A,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Do(e,t),a=t.memoizedProps,A=t.type===t.elementType?a:na(t.type,a),s.props=A,u=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Io(l):l=Ii(t,l=Li(n)?Fi:Mi.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==u||h!==l)&&aa(t,s,r,l),ko=!1,h=t.memoizedState,s.state=h,jo(t,r,s,i);var p=t.memoizedState;a!==u||h!==p||Ti.current||ko?("function"===typeof d&&(ra(t,n,d,r),p=t.memoizedState),(A=ko||oa(t,n,A,r,h,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=A):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ma(e,t,n,r,o,i)}function Ma(e,t,n,r,i,o){Ca(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Ni(t,n,!1),Va(e,t,o);r=t.stateNode,va.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,a,o)):ba(e,t,a,o),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function Ta(e){var t=e.stateNode;t.pendingContext?Ui(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ui(0,t.context,!1),Yo(e,t.containerInfo)}function Fa(e,t,n,r,i){return po(),fo(i),t.flags|=256,ba(e,t,n,r),t.child}var Ia,La,Pa,Ua,Ra={dehydrated:null,treeContext:null,retryLane:0};function ka(e){return{baseLanes:e,cachePool:null,transitions:null}}function Na(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Bi(es,1&s),null===e)return Ao(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=kA(l,i,0,null),e=RA(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ka(n),t.memoizedState=Ra,e):Da(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Oa(e,t,a,r=ca(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=kA({mode:"visible",children:r.children},i,0,null),(s=RA(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&wo(t,e.child,null,a),t.child.memoizedState=ka(a),t.memoizedState=Ra,s);if(0===(1&t.mode))return Oa(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Oa(e,t,a,r=ca(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ya||l){if(null!==(r=Tl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ro(e,i),nA(r,e,i,-1))}return fA(),Oa(e,t,a,r=ca(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=EA.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=Ai(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[qi++]=Yi,Ki[qi++]=$i,Ki[qi++]=Xi,Yi=e.id,$i=e.overflow,Xi=t),t=Da(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var A={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=A,t.deletions=null):(i=PA(s,A)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=PA(r,a):(a=RA(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?ka(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ra,i}return e=(a=e.child).sibling,i=PA(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Da(e,t){return(t=kA({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Oa(e,t,n,r){return null!==r&&fo(r),wo(t,e.child,null,n),(e=Da(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function Ha(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function za(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qa(e,n,t);else if(19===e.tag)Qa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Bi(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ha(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ha(t,!0,n,null,o);break;case"together":Ha(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ja(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Va(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),kl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=PA(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=PA(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Li(t.type)&&Pi(),Ga(t),null;case 3:return r=t.stateNode,$o(),Ci(Ti),Ci(Mi),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(uo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sA(oo),oo=null))),La(e,t),Ga(t),null;case 5:Zo(t);var i=Xo(qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Pa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=Xo(Go.current),uo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[di]=s,e=0!==(1&t.mode),n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Or(Rr[i],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":Y(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":ie(r,s),Or("invalid",r)}for(var l in ve(n,s),i=null,s)if(s.hasOwnProperty(l)){var A=s[l];"children"===l?"string"===typeof A?r.textContent!==A&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,A,e),i=["children",A]):"number"===typeof A&&r.textContent!==""+A&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,A,e),i=["children",""+A]):a.hasOwnProperty(l)&&null!=A&&"onScroll"===l&&Or("scroll",r)}switch(n){case"input":G(r),Z(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[di]=r,Ia(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Or("cancel",e),Or("close",e),i=r;break;case"iframe":case"object":case"embed":Or("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Or(Rr[i],e);i=r;break;case"source":Or("error",e),i=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),i=r;break;case"details":Or("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Or("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=N({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Or("invalid",e)}for(s in ve(n,i),A=i)if(A.hasOwnProperty(s)){var c=A[s];"style"===s?ge(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&ue(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Or("scroll",e):null!=c&&y(e,s,c,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Ua(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Xo(qo.current),Xo(Go.current),uo(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ga(t),null;case 13:if(Ci(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,s=!1;else if(s=uo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==oo&&(sA(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ul&&(Ul=3):fA())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return $o(),La(e,t),null===e&&zr(t.stateNode.containerInfo),Ga(t),null;case 10:return Mo(t.type._context),Ga(t),null;case 19:if(Ci(es),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Wa(s,!1);else{if(0!==Ul||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Wa(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Bi(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>zl&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ga(t),null}else 2*$e()-s.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Wa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=es.current,Bi(es,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return uA(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function qa(e,t){switch(to(t),t.tag){case 1:return Li(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $o(),Ci(Ti),Ci(Mi),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ci(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(es),null;case 4:return $o(),null;case 10:return Mo(t.type._context),null;case 22:case 23:return uA(),null;default:return null}}Ia=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},La=function(){},Pa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xo(Go.current);var o,s=null;switch(n){case"input":i=X(e,i),r=X(e,r),s=[];break;case"select":i=N({},i,{value:void 0}),r=N({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var A=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&A!==l&&(null!=A||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||A&&A.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in A)A.hasOwnProperty(o)&&l[o]!==A[o]&&(n||(n={}),n[o]=A[o])}else n||(s||(s=[]),s.push(c,n)),n=A;else"dangerouslySetInnerHTML"===c?(A=A?A.__html:void 0,l=l?l.__html:void 0,null!=A&&l!==A&&(s=s||[]).push(c,A)):"children"===c?"string"!==typeof A&&"number"!==typeof A||(s=s||[]).push(c,""+A):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=A&&"onScroll"===c&&Or("scroll",e),s||l===A||(s=[])):(s=s||[]).push(c,A))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Ua=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,Ya=!1,$a="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){SA(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){SA(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[fi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function Al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Al(e,t,n),e=e.sibling;null!==e;)Al(e,t,n),e=e.sibling}var cl=null,ul=!1;function hl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=cl,i=ul;cl=null,hl(e,t,n),ul=i,null!==(cl=r)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=ul,cl=n.stateNode.containerInfo,ul=!0,hl(e,t,n),cl=r,ul=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){SA(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,hl(e,t,n),Ya=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach((function(t){var r=MA.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(o(160));dl(s,a,i),cl=null,ul=!1;var A=i.alternate;null!==A&&(A.return=null),i.return=null}catch(c){SA(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),ml(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){SA(e,e.return,g)}try{nl(5,e,e.return)}catch(g){SA(e,e.return,g)}}break;case 1:fl(t,e),ml(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(fl(t,e),ml(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){SA(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,A=e.updateQueue;if(e.updateQueue=null,null!==A)try{"input"===l&&"radio"===s.type&&null!=s.name&&$(i,s),ye(l,a);var c=ye(l,s);for(a=0;a<A.length;a+=2){var u=A[a],h=A[a+1];"style"===u?ge(i,h):"dangerouslySetInnerHTML"===u?ue(i,h):"children"===u?he(i,h):y(i,u,h,c)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):d!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[di]=s}catch(g){SA(e,e.return,g)}}break;case 6:if(fl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){SA(e,e.return,g)}}break;case 3:if(fl(t,e),ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){SA(e,e.return,g)}break;case 4:default:fl(t,e),ml(e);break;case 13:fl(t,e),ml(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Hl=$e())),4&r&&pl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(c=Ya)||u,fl(t,e),Ya=c):fl(t,e),ml(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&0!==(1&e.mode))for(Ja=e,u=e.child;null!==u;){for(h=Ja=u;null!==Ja;){switch(p=(d=Ja).child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:Za(d,d.return);var f=d.stateNode;if("function"===typeof f.componentWillUnmount){r=d,n=d.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){SA(r,n,g)}}break;case 5:Za(d,d.return);break;case 22:if(null!==d.memoizedState){wl(h);continue}}null!==p?(p.return=d,Ja=p):wl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{i=h.stateNode,c?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(A=h.memoizedProps.style)&&null!==A&&A.hasOwnProperty("display")?A.display:null,l.style.display=fe("display",a))}catch(g){SA(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){SA(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),ml(e),4&r&&pl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),Al(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){SA(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Ja=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Xa;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Xa;var A=Ya;if(Xa=s,(Ya=l)&&!A)for(Ja=i;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?xl(i):null!==l?(l.return=s,Ja=l):xl(i);for(;null!==o;)Ja=o,yl(o,t,n),o=o.sibling;Ja=i,Xa=a,Ya=A}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ja=o):bl(e)}}function bl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Vo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var A=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&n.focus();break;case"img":A.src&&(n.src=A.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(o(163))}Ya||512&t.flags&&il(t)}catch(d){SA(t,t.return,d)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function wl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function xl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){SA(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){SA(t,i,l)}}var o=t.return;try{il(t)}catch(l){SA(t,o,l)}break;case 5:var s=t.return;try{il(t)}catch(l){SA(t,s,l)}}}catch(l){SA(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var _l,Sl=Math.ceil,Cl=b.ReactCurrentDispatcher,Bl=b.ReactCurrentOwner,El=b.ReactCurrentBatchConfig,Ml=0,Tl=null,Fl=null,Il=0,Ll=0,Pl=Si(0),Ul=0,Rl=null,kl=0,Nl=0,Dl=0,Ol=null,Ql=null,Hl=0,zl=1/0,jl=null,Vl=!1,Wl=null,Gl=null,Kl=!1,ql=null,Xl=0,Yl=0,$l=null,Jl=-1,Zl=0;function eA(){return 0!==(6&Ml)?$e():-1!==Jl?Jl:Jl=$e()}function tA(e){return 0===(1&e.mode)?1:0!==(2&Ml)&&0!==Il?Il&-Il:null!==go.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nA(e,t,n,r){if(50<Yl)throw Yl=0,$l=null,Error(o(185));mt(e,n,r),0!==(2&Ml)&&e===Tl||(e===Tl&&(0===(2&Ml)&&(Nl|=n),4===Ul&&aA(e,Il)),rA(e,r),1===n&&0===Ml&&0===(1&t.mode)&&(zl=$e()+500,Oi&&zi()))}function rA(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=dt(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Tl?Il:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Oi=!0,Hi(e)}(lA.bind(null,e)):Hi(lA.bind(null,e)),si((function(){0===(6&Ml)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=TA(n,iA.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iA(e,t){if(Jl=-1,Zl=0,0!==(6&Ml))throw Error(o(327));var n=e.callbackNode;if(xA()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gA(e,r);else{t=r;var i=Ml;Ml|=2;var s=pA();for(Tl===e&&Il===t||(jl=null,zl=$e()+500,hA(e,t));;)try{vA();break}catch(l){dA(e,l)}Eo(),Cl.current=s,Ml=i,null!==Fl?t=0:(Tl=null,Il=0,t=Ul)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oA(e,i))),1===t)throw n=Rl,hA(e,0),aA(e,r),rA(e,$e()),n;if(6===t)aA(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gA(e,r))&&(0!==(s=pt(e))&&(r=s,t=oA(e,s))),1===t))throw n=Rl,hA(e,0),aA(e,r),rA(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wA(e,Ql,jl);break;case 3:if(aA(e,r),(130023424&r)===r&&10<(t=Hl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eA(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wA.bind(null,e,Ql,jl),t);break}wA(e,Ql,jl);break;case 4:if(aA(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(wA.bind(null,e,Ql,jl),r);break}wA(e,Ql,jl);break;default:throw Error(o(329))}}}return rA(e,$e()),e.callbackNode===n?iA.bind(null,e):null}function oA(e,t){var n=Ol;return e.current.memoizedState.isDehydrated&&(hA(e,t).flags|=256),2!==(e=gA(e,t))&&(t=Ql,Ql=n,null!==t&&sA(t)),e}function sA(e){null===Ql?Ql=e:Ql.push.apply(Ql,e)}function aA(e,t){for(t&=~Dl,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lA(e){if(0!==(6&Ml))throw Error(o(327));xA();var t=ht(e,0);if(0===(1&t))return rA(e,$e()),null;var n=gA(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oA(e,r))}if(1===n)throw n=Rl,hA(e,0),aA(e,t),rA(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wA(e,Ql,jl),rA(e,$e()),null}function AA(e,t){var n=Ml;Ml|=1;try{return e(t)}finally{0===(Ml=n)&&(zl=$e()+500,Oi&&zi())}}function cA(e){null!==ql&&0===ql.tag&&0===(6&Ml)&&xA();var t=Ml;Ml|=1;var n=El.transition,r=yt;try{if(El.transition=null,yt=1,e)return e()}finally{yt=r,El.transition=n,0===(6&(Ml=t))&&zi()}}function uA(){Ll=Pl.current,Ci(Pl)}function hA(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Fl)for(n=Fl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:$o(),Ci(Ti),Ci(Mi),rs();break;case 5:Zo(r);break;case 4:$o();break;case 13:case 19:Ci(es);break;case 10:Mo(r.type._context);break;case 22:case 23:uA()}n=n.return}if(Tl=e,Fl=e=PA(e.current,null),Il=Ll=t,Ul=0,Rl=null,Dl=Nl=kl=0,Ql=Ol=null,null!==Lo){for(t=0;t<Lo.length;t++)if(null!==(r=(n=Lo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Lo=null}return e}function dA(e,t){for(;;){var n=Fl;try{if(Eo(),is.current=Js,cs){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}cs=!1}if(ss=0,As=ls=as=null,us=!1,hs=0,Bl.current=null,null===n||null===n.return){Ul=1,Rl=t,Fl=null;break}e:{var s=e,a=n.return,l=n,A=t;if(t=Il,l.flags|=32768,null!==A&&"object"===typeof A&&"function"===typeof A.then){var c=A,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ma(p,a,l,0,t),1&p.mode&&fa(s,c,t),A=c;var f=(t=p).updateQueue;if(null===f){var g=new Set;g.add(A),t.updateQueue=g}else f.add(A);break e}if(0===(1&t)){fa(s,c,t),fA();break e}A=Error(o(426))}else if(io&&1&l.mode){var m=ga(a);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ma(m,a,l,0,t),fo(Aa(A,l));break e}}s=A=Aa(A,l),4!==Ul&&(Ul=2),null===Ol?Ol=[s]:Ol.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,zo(s,da(0,A,t));break e;case 1:l=A;var v=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Gl||!Gl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,zo(s,pa(s,l,t));break e}}s=s.return}while(null!==s)}bA(n)}catch(b){t=b,Fl===n&&null!==n&&(Fl=n=n.return);continue}break}}function pA(){var e=Cl.current;return Cl.current=Js,null===e?Js:e}function fA(){0!==Ul&&3!==Ul&&2!==Ul||(Ul=4),null===Tl||0===(268435455&kl)&&0===(268435455&Nl)||aA(Tl,Il)}function gA(e,t){var n=Ml;Ml|=2;var r=pA();for(Tl===e&&Il===t||(jl=null,hA(e,t));;)try{mA();break}catch(i){dA(e,i)}if(Eo(),Ml=n,Cl.current=r,null!==Fl)throw Error(o(261));return Tl=null,Il=0,Ul}function mA(){for(;null!==Fl;)yA(Fl)}function vA(){for(;null!==Fl&&!Xe();)yA(Fl)}function yA(e){var t=_l(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?bA(e):Fl=t,Bl.current=null}function bA(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Ll)))return void(Fl=n)}else{if(null!==(n=qa(n,t)))return n.flags&=32767,void(Fl=n);if(null===e)return Ul=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===Ul&&(Ul=5)}function wA(e,t,n){var r=yt,i=El.transition;try{El.transition=null,yt=1,function(e,t,n,r){do{xA()}while(null!==ql);if(0!==(6&Ml))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Tl&&(Fl=Tl=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,TA(tt,(function(){return xA(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=El.transition,El.transition=null;var a=yt;yt=1;var l=Ml;Ml|=4,Bl.current=null,function(e,t){if(ei=Vt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,A=-1,c=0,u=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(A=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(l=a),d===s&&++u===r&&(A=a),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===l||-1===A?null:{start:l,end:A}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,m=f.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),m);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){SA(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}f=tl,tl=!1}(e,n),gl(n,e),pr(ti),Vt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ye(),Ml=l,yt=a,El.transition=s}else e.current=n;if(Kl&&(Kl=!1,ql=e,Xl=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rA(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Wl,Wl=null,e;0!==(1&Xl)&&0!==e.tag&&xA(),s=e.pendingLanes,0!==(1&s)?e===$l?Yl++:(Yl=0,$l=e):Yl=0,zi()}(e,t,n,r)}finally{El.transition=i,yt=r}return null}function xA(){if(null!==ql){var e=bt(Xl),t=El.transition,n=yt;try{if(El.transition=null,yt=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,Xl=0,0!==(6&Ml))throw Error(o(331));var i=Ml;for(Ml|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var A=0;A<l.length;A++){var c=l[A];for(Ja=c;null!==Ja;){var u=Ja;switch(u.tag){case 0:case 11:case 15:nl(8,u,s)}var h=u.child;if(null!==h)h.return=u,Ja=h;else for(;null!==Ja;){var d=(u=Ja).sibling,p=u.return;if(ol(u),u===c){Ja=null;break}if(null!==d){d.return=p,Ja=d;break}Ja=p}}}var f=s.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Ja=v;break e}Ja=s.return}}var y=e.current;for(Ja=y;null!==Ja;){var b=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ja=b;else e:for(a=y;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){SA(l,l.return,x)}if(l===a){Ja=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ja=w;break e}Ja=l.return}}if(Ml=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{yt=n,El.transition=t}}return!1}function _A(e,t,n){e=Qo(e,t=da(0,t=Aa(n,t),1),1),t=eA(),null!==e&&(mt(e,1,t),rA(e,t))}function SA(e,t,n){if(3===e.tag)_A(e,e,n);else for(;null!==t;){if(3===t.tag){_A(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Qo(t,e=pa(t,e=Aa(n,e),1),1),e=eA(),null!==t&&(mt(t,1,e),rA(t,e));break}}t=t.return}}function CA(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eA(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Il&n)===n&&(4===Ul||3===Ul&&(130023424&Il)===Il&&500>$e()-Hl?hA(e,0):Dl|=n),rA(e,t)}function BA(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eA();null!==(e=Ro(e,t))&&(mt(e,t,n),rA(e,n))}function EA(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),BA(e,n)}function MA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),BA(e,n)}function TA(e,t){return Ke(e,t)}function FA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function IA(e,t,n,r){return new FA(e,t,n,r)}function LA(e){return!(!(e=e.prototype)||!e.isReactComponent)}function PA(e,t){var n=e.alternate;return null===n?((n=IA(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function UA(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)LA(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case _:return RA(n.children,i,s,t);case S:a=8,i|=8;break;case C:return(e=IA(12,n,t,2|i)).elementType=C,e.lanes=s,e;case T:return(e=IA(13,n,t,i)).elementType=T,e.lanes=s,e;case F:return(e=IA(19,n,t,i)).elementType=F,e.lanes=s,e;case P:return kA(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case B:a=10;break e;case E:a=9;break e;case M:a=11;break e;case I:a=14;break e;case L:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=IA(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function RA(e,t,n,r){return(e=IA(7,e,r,t)).lanes=n,e}function kA(e,t,n,r){return(e=IA(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function NA(e,t,n){return(e=IA(6,e,null,t)).lanes=n,e}function DA(e,t,n){return(t=IA(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function OA(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function QA(e,t,n,r,i,o,s,a,l){return e=new OA(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=IA(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function HA(e){if(!e)return Ei;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Li(n))return Ri(e,n,t)}return t}function zA(e,t,n,r,i,o,s,a,l){return(e=QA(n,r,!0,e,0,o,0,a,l)).context=HA(null),n=e.current,(o=Oo(r=eA(),i=tA(n))).callback=void 0!==t&&null!==t?t:null,Qo(n,o,i),e.current.lanes=i,mt(e,i,r),rA(e,r),e}function jA(e,t,n,r){var i=t.current,o=eA(),s=tA(i);return n=HA(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Qo(i,t,s))&&(nA(e,i,s,o),Ho(e,i,s)),s}function VA(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function WA(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function GA(e,t){WA(e,t),(e=e.alternate)&&WA(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)ya=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ya=!1,function(e,t,n){switch(t.tag){case 3:Ta(t),po();break;case 5:Jo(t);break;case 1:Li(t.type)&&ki(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Bi(_o,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Bi(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Na(e,t,n):(Bi(es,1&es.current),null!==(e=Va(e,t,n))?e.sibling:null);Bi(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Bi(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return Va(e,t,n)}(e,t,n);ya=0!==(131072&e.flags)}else ya=!1,io&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ja(e,t),e=t.pendingProps;var i=Ii(t,Mi.current);Fo(t,n),i=gs(null,t,r,e,i,n);var s=ms();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(s=!0,ki(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ma(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ja(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return LA(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===M)return 11;if(e===I)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ba(null,t,r,e,n);break e;case 1:t=Ea(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=xa(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ba(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Ta(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Do(e,t),jo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Fa(e,t,r,n,i=Aa(Error(o(423)),t));break e}if(r!==i){t=Fa(e,t,r,n,i=Aa(Error(o(424)),t));break e}for(ro=Ai(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Va(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&Ao(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ca(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&Ao(t),null;case 13:return Na(e,t,n);case 4:return Yo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Bi(_o,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ti.current){t=Va(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var A=l.firstContext;null!==A;){if(A.context===r){if(1===s.tag){(A=Oo(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?A.next=A:(A.next=u.next,u.next=A),c.pending=A}}s.lanes|=n,null!==(A=s.alternate)&&(A.lanes|=n),To(s.return,n,t),l.lanes|=n;break}A=A.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),To(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Fo(t,n),r=r(i=Io(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),xa(e,t,r,i=na(r.type,i),n);case 15:return _a(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),ja(e,t),t.tag=1,Li(r)?(e=!0,ki(t)):e=!1,Fo(t,n),sa(t,r,i),la(t,r,i,n),Ma(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return Sa(e,t,n)}throw Error(o(156,t.tag))};var KA="function"===typeof reportError?reportError:function(e){console.error(e)};function qA(e){this._internalRoot=e}function XA(e){this._internalRoot=e}function YA(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $A(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function JA(){}function ZA(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=VA(s);a.call(e)}}jA(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=VA(s);o.call(e)}}var s=zA(t,r,e,0,null,!1,0,"",JA);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),cA(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=VA(l);a.call(e)}}var l=QA(e,0,!1,null,0,!1,0,"",JA);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),cA((function(){jA(t,l,n,r)})),l}(n,t,e,i,r);return VA(s)}XA.prototype.render=qA.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));jA(e,t,null,null)},XA.prototype.unmount=qA.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cA((function(){jA(null,e,null,null)})),t[pi]=null}},XA.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Nt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),rA(t,$e()),0===(6&Ml)&&(zl=$e()+500,zi()))}break;case 13:cA((function(){var t=Ro(e,1);if(null!==t){var n=eA();nA(t,e,1,n)}})),GA(e,1)}},xt=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)nA(t,e,134217728,eA());GA(e,134217728)}},_t=function(e){if(13===e.tag){var t=tA(e),n=Ro(e,t);if(null!==n)nA(n,e,t,eA());GA(e,t)}},St=function(){return yt},Ct=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));K(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Me=AA,Te=cA;var ec={usingClientEntryPoint:!1,Events:[yi,bi,wi,Be,Ee,AA]},tc={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!YA(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!YA(e))throw Error(o(299));var n=!1,r="",i=KA;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=QA(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new qA(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cA(e)},t.hydrate=function(e,t,n){if(!$A(t))throw Error(o(200));return ZA(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!YA(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=KA;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zA(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new XA(t)},t.render=function(e,t,n){if(!$A(t))throw Error(o(200));return ZA(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$A(e))throw Error(o(40));return!!e._reactRootContainer&&(cA((function(){ZA(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=AA,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$A(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ZA(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},4612:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],A=a+1,c=e[A];if(0>o(l,n))A<i&&0>o(c,l)?(e[r]=c,e[A]=n,r=A):(e[r]=l,e[a]=n,r=a);else{if(!(A<i&&0>o(c,n)))break e;e[r]=c,e[A]=n,r=A}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var A=[],c=[],u=1,h=null,d=3,p=!1,f=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(A,t)}t=r(c)}}function w(e){if(g=!1,b(e),!f)if(null!==r(A))f=!0,P(x);else{var t=r(c);null!==t&&U(w,t.startTime-e)}}function x(e,n){f=!1,g&&(g=!1,v(B),B=-1),p=!0;var o=d;try{for(b(n),h=r(A);null!==h&&(!(h.expirationTime>n)||e&&!T());){var s=h.callback;if("function"===typeof s){h.callback=null,d=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(A)&&i(A),b(n)}else i(A);h=r(A)}if(null!==h)var l=!0;else{var u=r(c);null!==u&&U(w,u.startTime-n),l=!1}return l}finally{h=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,C=null,B=-1,E=5,M=-1;function T(){return!(t.unstable_now()-M<E)}function F(){if(null!==C){var e=t.unstable_now();M=e;var n=!0;try{n=C(!0,e)}finally{n?_():(S=!1,C=null)}}else S=!1}if("function"===typeof y)_=function(){y(F)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,L=I.port2;I.port1.onmessage=F,_=function(){L.postMessage(null)}}else _=function(){m(F,0)};function P(e){C=e,S||(S=!0,_())}function U(e,n){B=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(A)&&e===r(c)&&(g?(v(B),B=-1):g=!0,U(w,o-s))):(e.sortIndex=a,n(A,e),f||p||(f=!0,P(x))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},7067:(e,t,n)=>{"use strict";e.exports=n(4612)},5082:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,A=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,f=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case u:case o:case a:case s:case d:return e;default:switch(e=e&&e.$$typeof){case A:case h:case g:case f:case l:return e;default:return t}}case i:return t}}}function x(e){return w(e)===u}t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=A,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=f,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===c},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===A},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===f},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===u||e===a||e===s||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===f||e.$$typeof===l||e.$$typeof===A||e.$$typeof===h||e.$$typeof===v||e.$$typeof===y||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},7302:(e,t)=>{"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},6958:(e,t,n)=>{e.exports=function(e){var t={},r=n(5043),i=n(8853),o=Object.assign;function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),A=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var b=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var w=Symbol.iterator;function x(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=w&&e[w]||e["@@iterator"])?e:null}function _(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case c:return"Fragment";case A:return"Portal";case h:return"Profiler";case u:return"StrictMode";case g:return"Suspense";case m:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case d:return(e._context.displayName||"Context")+".Provider";case f:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case v:return null!==(t=e.displayName||null)?t:_(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return _(e(t))}catch(n){}}return null}function S(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _(t);case 8:return t===u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function C(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function B(e){if(C(e)!==e)throw Error(s(188))}function E(e){var t=e.alternate;if(!t){if(null===(t=C(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return B(i),e;if(o===r)return B(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}function M(e){return null!==(e=E(e))?T(e):null}function T(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=T(e);if(null!==t)return t;e=e.sibling}return null}function F(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=F(e);if(null!==t)return t}e=e.sibling}return null}var I,L=Array.isArray,P=e.getPublicInstance,U=e.getRootHostContext,R=e.getChildHostContext,k=e.prepareForCommit,N=e.resetAfterCommit,D=e.createInstance,O=e.appendInitialChild,Q=e.finalizeInitialChildren,H=e.prepareUpdate,z=e.shouldSetTextContent,j=e.createTextInstance,V=e.scheduleTimeout,W=e.cancelTimeout,G=e.noTimeout,K=e.isPrimaryRenderer,q=e.supportsMutation,X=e.supportsPersistence,Y=e.supportsHydration,$=e.getInstanceFromNode,J=e.preparePortalMount,Z=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,oe=e.getBoundingRect,se=e.getTextContent,ae=e.isHiddenSubtree,le=e.matchAccessibilityRole,Ae=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,ue=e.appendChild,he=e.appendChildToContainer,de=e.commitTextUpdate,pe=e.commitMount,fe=e.commitUpdate,ge=e.insertBefore,me=e.insertInContainerBefore,ve=e.removeChild,ye=e.removeChildFromContainer,be=e.resetTextContent,we=e.hideInstance,xe=e.hideTextInstance,_e=e.unhideInstance,Se=e.unhideTextInstance,Ce=e.clearContainer,Be=e.cloneInstance,Ee=e.createContainerChildSet,Me=e.appendChildToContainerChildSet,Te=e.finalizeContainerChildren,Fe=e.replaceContainerChildren,Ie=e.cloneHiddenInstance,Le=e.cloneHiddenTextInstance,Pe=e.canHydrateInstance,Ue=e.canHydrateTextInstance,Re=e.canHydrateSuspenseInstance,ke=e.isSuspenseInstancePending,Ne=e.isSuspenseInstanceFallback,De=e.registerSuspenseInstanceRetry,Oe=e.getNextHydratableSibling,Qe=e.getFirstHydratableChild,He=e.getFirstHydratableChildWithinContainer,ze=e.getFirstHydratableChildWithinSuspenseInstance,je=e.hydrateInstance,Ve=e.hydrateTextInstance,We=e.hydrateSuspenseInstance,Ge=e.getNextHydratableInstanceAfterSuspenseInstance,Ke=e.commitHydratedContainer,qe=e.commitHydratedSuspenseInstance,Xe=e.clearSuspenseBoundary,Ye=e.clearSuspenseBoundaryFromContainer,$e=e.shouldDeleteUnhydratedTailInstances,Je=e.didNotMatchHydratedContainerTextInstance,Ze=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var r=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){r=A}e.call(t.prototype)}else{try{throw Error()}catch(A){r=A}e()}}catch(A){if(A&&r&&"string"===typeof A.stack){for(var i=A.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],ot=-1;function st(e){return{current:e}}function at(e){0>ot||(e.current=it[ot],it[ot]=null,ot--)}function lt(e,t){ot++,it[ot]=e.current,e.current=t}var At={},ct=st(At),ut=st(!1),ht=At;function dt(e,t){var n=e.type.contextTypes;if(!n)return At;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function pt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ft(){at(ut),at(ct)}function gt(e,t,n){if(ct.current!==At)throw Error(s(168));lt(ct,t),lt(ut,n)}function mt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,S(e)||"Unknown",i));return o({},n,r)}function vt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||At,ht=ct.current,lt(ct,e),lt(ut,ut.current),!0}function yt(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=mt(e,t,ht),r.__reactInternalMemoizedMergedChildContext=e,at(ut),at(ct),lt(ct,e)):at(ut),lt(ut,n)}var bt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(wt(e)/xt|0)|0},wt=Math.log,xt=Math.LN2;var _t=64,St=4194304;function Ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=Ct(a):0!==(o&=s)&&(r=Ct(o))}else 0!==(s=n&~i)?r=Ct(s):0!==o&&(r=Ct(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-bt(t)),r|=e[n],t&=~i;return r}function Et(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Tt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ft(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-bt(t)]=n}function It(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Lt=0;function Pt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Ut=i.unstable_scheduleCallback,Rt=i.unstable_cancelCallback,kt=i.unstable_shouldYield,Nt=i.unstable_requestPaint,Dt=i.unstable_now,Ot=i.unstable_ImmediatePriority,Qt=i.unstable_UserBlockingPriority,Ht=i.unstable_NormalPriority,zt=i.unstable_IdlePriority,jt=null,Vt=null;var Wt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Gt=null,Kt=!1,qt=!1;function Xt(e){null===Gt?Gt=[e]:Gt.push(e)}function Yt(){if(!qt&&null!==Gt){qt=!0;var e=0,t=Lt;try{var n=Gt;for(Lt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Gt=null,Kt=!1}catch(i){throw null!==Gt&&(Gt=Gt.slice(e+1)),Ut(Ot,Yt),i}finally{Lt=t,qt=!1}}return null}var $t=a.ReactCurrentBatchConfig;function Jt(e,t){if(Wt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Wt(e[i],t[i]))return!1}return!0}function Zt(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=st(null),nn=null,rn=null,on=null;function sn(){on=rn=nn=null}function an(e,t,n){K?(lt(tn,t._currentValue),t._currentValue=n):(lt(tn,t._currentValue2),t._currentValue2=n)}function ln(e){var t=tn.current;at(tn),K?e._currentValue=t:e._currentValue2=t}function An(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){nn=e,on=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ki=!0),e.firstContext=null)}function un(e){var t=K?e._currentValue:e._currentValue2;if(on!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(s(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var hn=null,dn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Xo&&0!==(1&e.mode)&&0===(2&qo)?(null===(e=n.interleaved)?(t.next=t,null===hn?hn=[n]:hn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function vn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,It(e,n)}}function yn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bn(e,t,n,r){var i=e.updateQueue;dn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var A=l,c=A.next;A.next=null,null===a?s=c:a.next=c,a=A;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=A))}if(null!==s){var h=i.baseState;for(a=0,u=c=A=null,l=s;;){var d=l.lane,p=l.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var f=e,g=l;switch(d=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=g.payload)?f.call(p,h,d):f)||void 0===d)break e;h=o({},h,d);break e;case 2:dn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[l]:d.push(l))}else p={eventTime:p,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=p,A=h):u=u.next=p,a|=d;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(d=l).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(A=h),i.baseState=A,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);ns|=a,e.lanes=a,e.memoizedState=h}}function wn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var xn=(new r.Component).refs;function _n(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Sn={isMounted:function(e){return!!(e=e._reactInternals)&&C(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ws(),i=xs(e),o=gn(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),mn(e,o),null!==(t=_s(e,i,r))&&vn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ws(),i=xs(e),o=gn(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),mn(e,o),null!==(t=_s(e,i,r))&&vn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ws(),r=xs(e),i=gn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),mn(e,i),null!==(t=_s(e,r,n))&&vn(t,e,r)}};function Cn(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Jt(n,r)||!Jt(i,o))}function Bn(e,t,n){var r=!1,i=At,o=t.contextType;return"object"===typeof o&&null!==o?o=un(o):(i=pt(t)?ht:ct.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?dt(e,i):At),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Sn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function En(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sn.enqueueReplaceState(t,t.state,null)}function Mn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=xn,pn(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=un(o):(o=pt(t)?ht:ct.current,i.context=dt(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(_n(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Sn.enqueueReplaceState(i,i.state,null),bn(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var Tn=[],Fn=0,In=null,Ln=0,Pn=[],Un=0,Rn=null,kn=1,Nn="";function Dn(e,t){Tn[Fn++]=Ln,Tn[Fn++]=In,In=e,Ln=t}function On(e,t,n){Pn[Un++]=kn,Pn[Un++]=Nn,Pn[Un++]=Rn,Rn=e;var r=kn;e=Nn;var i=32-bt(r)-1;r&=~(1<<i),n+=1;var o=32-bt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,kn=1<<32-bt(t)+i|n<<i|r,Nn=o+e}else kn=1<<o|n<<i|r,Nn=e}function Qn(e){null!==e.return&&(Dn(e,1),On(e,1,0))}function Hn(e){for(;e===In;)In=Tn[--Fn],Tn[Fn]=null,Ln=Tn[--Fn],Tn[Fn]=null;for(;e===Rn;)Rn=Pn[--Un],Pn[Un]=null,Nn=Pn[--Un],Pn[Un]=null,kn=Pn[--Un],Pn[Un]=null}var zn=null,jn=null,Vn=!1,Wn=!1,Gn=null;function Kn(e,t){var n=Js(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function qn(e,t){switch(e.tag){case 5:return null!==(t=Pe(t,e.type,e.pendingProps))&&(e.stateNode=t,zn=e,jn=Qe(t),!0);case 6:return null!==(t=Ue(t,e.pendingProps))&&(e.stateNode=t,zn=e,jn=null,!0);case 13:if(null!==(t=Re(t))){var n=null!==Rn?{id:kn,overflow:Nn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Js(18,null,null,0)).stateNode=t,n.return=e,e.child=n,zn=e,jn=null,!0}return!1;default:return!1}}function Xn(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Yn(e){if(Vn){var t=jn;if(t){var n=t;if(!qn(e,t)){if(Xn(e))throw Error(s(418));t=Oe(n);var r=zn;t&&qn(e,t)?Kn(r,n):(e.flags=-4097&e.flags|2,Vn=!1,zn=e)}}else{if(Xn(e))throw Error(s(418));e.flags=-4097&e.flags|2,Vn=!1,zn=e}}}function $n(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;zn=e}function Jn(e){if(!Y||e!==zn)return!1;if(!Vn)return $n(e),Vn=!0,!1;if(3!==e.tag&&(5!==e.tag||$e(e.type)&&!z(e.type,e.memoizedProps))){var t=jn;if(t){if(Xn(e)){for(e=jn;e;)e=Oe(e);throw Error(s(418))}for(;t;)Kn(e,t),t=Oe(t)}}if($n(e),13===e.tag){if(!Y)throw Error(s(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));jn=Ge(e)}else jn=zn?Oe(e.stateNode):null;return!0}function Zn(){Y&&(jn=zn=null,Wn=Vn=!1)}function er(e){null===Gn?Gn=[e]:Gn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===xn&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ea(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=ia(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var o=n.type;return o===c?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===y&&rr(o)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=ta(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=oa(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,o){return null===t||7!==t.tag?((t=na(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ia(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return(n=ta(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case A:return(t=oa(t,e.mode,n)).return=e,t;case y:return f(e,(0,t._init)(t._payload),n)}if(L(t)||x(t))return(t=na(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===i?h(e,t,n,r):null;case A:return n.key===i?d(e,t,n,r):null;case y:return g(e,t,(i=n._init)(n._payload),r)}if(L(n)||x(n))return null!==i?null:p(e,t,n,r,null);nr(e,n)}return null}function m(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case y:return m(e,t,n,(0,r._init)(r._payload),i)}if(L(r)||x(r))return p(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function v(i,s,a,l){for(var A=null,c=null,u=s,h=s=0,d=null;null!==u&&h<a.length;h++){u.index>h?(d=u,u=null):d=u.sibling;var p=g(i,u,a[h],l);if(null===p){null===u&&(u=d);break}e&&u&&null===p.alternate&&t(i,u),s=o(p,s,h),null===c?A=p:c.sibling=p,c=p,u=d}if(h===a.length)return n(i,u),Vn&&Dn(i,h),A;if(null===u){for(;h<a.length;h++)null!==(u=f(i,a[h],l))&&(s=o(u,s,h),null===c?A=u:c.sibling=u,c=u);return Vn&&Dn(i,h),A}for(u=r(i,u);h<a.length;h++)null!==(d=m(u,i,h,a[h],l))&&(e&&null!==d.alternate&&u.delete(null===d.key?h:d.key),s=o(d,s,h),null===c?A=d:c.sibling=d,c=d);return e&&u.forEach((function(e){return t(i,e)})),Vn&&Dn(i,h),A}function b(i,a,l,A){var c=x(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var u=c=null,h=a,d=a=0,p=null,v=l.next();null!==h&&!v.done;d++,v=l.next()){h.index>d?(p=h,h=null):p=h.sibling;var y=g(i,h,v.value,A);if(null===y){null===h&&(h=p);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,d),null===u?c=y:u.sibling=y,u=y,h=p}if(v.done)return n(i,h),Vn&&Dn(i,d),c;if(null===h){for(;!v.done;d++,v=l.next())null!==(v=f(i,v.value,A))&&(a=o(v,a,d),null===u?c=v:u.sibling=v,u=v);return Vn&&Dn(i,d),c}for(h=r(i,h);!v.done;d++,v=l.next())null!==(v=m(h,i,d,v.value,A))&&(e&&null!==v.alternate&&h.delete(null===v.key?d:v.key),a=o(v,a,d),null===u?c=v:u.sibling=v,u=v);return e&&h.forEach((function(e){return t(i,e)})),Vn&&Dn(i,d),c}return function e(r,o,s,u){if("object"===typeof s&&null!==s&&s.type===c&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case l:e:{for(var h=s.key,d=o;null!==d;){if(d.key===h){if((h=s.type)===c){if(7===d.tag){n(r,d.sibling),(o=i(d,s.props.children)).return=r,r=o;break e}}else if(d.elementType===h||"object"===typeof h&&null!==h&&h.$$typeof===y&&rr(h)===d.type){n(r,d.sibling),(o=i(d,s.props)).ref=tr(r,d,s),o.return=r,r=o;break e}n(r,d);break}t(r,d),d=d.sibling}s.type===c?((o=na(s.props.children,r.mode,u,s.key)).return=r,r=o):((u=ta(s.type,s.key,s.props,null,r.mode,u)).ref=tr(r,o,s),u.return=r,r=u)}return a(r);case A:e:{for(d=s.key;null!==o;){if(o.key===d){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=oa(s,r.mode,u)).return=r,r=o}return a(r);case y:return e(r,o,(d=s._init)(s._payload),u)}if(L(s))return v(r,o,s,u);if(x(s))return b(r,o,s,u);nr(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=ia(s,r.mode,u)).return=r,r=o),a(r)):n(r,o)}}var or=ir(!0),sr=ir(!1),ar={},lr=st(ar),Ar=st(ar),cr=st(ar);function ur(e){if(e===ar)throw Error(s(174));return e}function hr(e,t){lt(cr,t),lt(Ar,e),lt(lr,ar),e=U(t),at(lr),lt(lr,e)}function dr(){at(lr),at(Ar),at(cr)}function pr(e){var t=ur(cr.current),n=ur(lr.current);n!==(t=R(n,e.type,t))&&(lt(Ar,e),lt(lr,t))}function fr(e){Ar.current===e&&(at(lr),at(Ar))}var gr=st(0);function mr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||ke(n)||Ne(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vr=[];function yr(){for(var e=0;e<vr.length;e++){var t=vr[e];K?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}vr.length=0}var br=a.ReactCurrentDispatcher,wr=a.ReactCurrentBatchConfig,xr=0,_r=null,Sr=null,Cr=null,Br=!1,Er=!1,Mr=0,Tr=0;function Fr(){throw Error(s(321))}function Ir(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Lr(e,t,n,r,i,o){if(xr=o,_r=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,br.current=null===e||null===e.memoizedState?pi:fi,e=n(r,i),Er){o=0;do{if(Er=!1,Mr=0,25<=o)throw Error(s(301));o+=1,Cr=Sr=null,t.updateQueue=null,br.current=gi,e=n(r,i)}while(Er)}if(br.current=di,t=null!==Sr&&null!==Sr.next,xr=0,Cr=Sr=_r=null,Br=!1,t)throw Error(s(300));return e}function Pr(){var e=0!==Mr;return Mr=0,e}function Ur(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Cr?_r.memoizedState=Cr=e:Cr=Cr.next=e,Cr}function Rr(){if(null===Sr){var e=_r.alternate;e=null!==e?e.memoizedState:null}else e=Sr.next;var t=null===Cr?_r.memoizedState:Cr.next;if(null!==t)Cr=t,Sr=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Sr=e).memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},null===Cr?_r.memoizedState=Cr=e:Cr=Cr.next=e}return Cr}function kr(e,t){return"function"===typeof t?t(e):t}function Nr(e){var t=Rr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=Sr,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,A=null,c=o;do{var u=c.lane;if((xr&u)===u)null!==A&&(A=A.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===A?(l=A=h,a=r):A=A.next=h,_r.lanes|=u,ns|=u}c=c.next}while(null!==c&&c!==o);null===A?a=r:A.next=l,Wt(r,t.memoizedState)||(ki=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=A,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,_r.lanes|=o,ns|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Dr(e){var t=Rr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Wt(o,t.memoizedState)||(ki=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Or(){}function Qr(e,t){var n=_r,r=Rr(),i=t(),o=!Wt(r.memoizedState,i);if(o&&(r.memoizedState=i,ki=!0),r=r.queue,$r(jr.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==Cr&&1&Cr.memoizedState.tag){if(n.flags|=2048,Gr(9,zr.bind(null,n,r,i,t),void 0,null),null===Xo)throw Error(s(349));0!==(30&xr)||Hr(n,t,i)}return i}function Hr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=_r.updateQueue)?(t={lastEffect:null,stores:null},_r.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function zr(e,t,n,r){t.value=n,t.getSnapshot=r,Vr(t)&&_s(e,1,-1)}function jr(e,t,n){return n((function(){Vr(t)&&_s(e,1,-1)}))}function Vr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch(r){return!0}}function Wr(e){var t=Ur();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:e},t.queue=e,e=e.dispatch=li.bind(null,_r,e),[t.memoizedState,e]}function Gr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=_r.updateQueue)?(t={lastEffect:null,stores:null},_r.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Kr(){return Rr().memoizedState}function qr(e,t,n,r){var i=Ur();_r.flags|=e,i.memoizedState=Gr(1|t,n,void 0,void 0===r?null:r)}function Xr(e,t,n,r){var i=Rr();r=void 0===r?null:r;var o=void 0;if(null!==Sr){var s=Sr.memoizedState;if(o=s.destroy,null!==r&&Ir(r,s.deps))return void(i.memoizedState=Gr(t,n,o,r))}_r.flags|=e,i.memoizedState=Gr(1|t,n,o,r)}function Yr(e,t){return qr(8390656,8,e,t)}function $r(e,t){return Xr(2048,8,e,t)}function Jr(e,t){return Xr(4,2,e,t)}function Zr(e,t){return Xr(4,4,e,t)}function ei(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Xr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=Rr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ir(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=Rr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ir(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function oi(e,t){var n=Lt;Lt=0!==n&&4>n?n:4,e(!0);var r=wr.transition;wr.transition={};try{e(!1),t()}finally{Lt=n,wr.transition=r}}function si(){return Rr().memoizedState}function ai(e,t,n){var r=xs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ai(e)?ci(t,n):(ui(e,t,n),null!==(e=_s(e,r,n=ws()))&&hi(e,t,r))}function li(e,t,n){var r=xs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ai(e))ci(t,i);else{ui(e,t,i);var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Wt(a,s))return}catch(l){}null!==(e=_s(e,r,n=ws()))&&hi(e,t,r)}}function Ai(e){var t=e.alternate;return e===_r||null!==t&&t===_r}function ci(e,t){Er=Br=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ui(e,t,n){null!==Xo&&0!==(1&e.mode)&&0===(2&qo)?(null===(e=t.interleaved)?(n.next=n,null===hn?hn=[t]:hn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function hi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,It(e,n)}}var di={readContext:un,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useInsertionEffect:Fr,useLayoutEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useMutableSource:Fr,useSyncExternalStore:Fr,useId:Fr,unstable_isNewReconciler:!1},pi={readContext:un,useCallback:function(e,t){return Ur().memoizedState=[e,void 0===t?null:t],e},useContext:un,useEffect:Yr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qr(4194308,4,e,t)},useInsertionEffect:function(e,t){return qr(4,2,e,t)},useMemo:function(e,t){var n=Ur();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ur();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ai.bind(null,_r,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ur().memoizedState=e},useState:Wr,useDebugValue:ni,useDeferredValue:function(e){var t=Wr(e),n=t[0],r=t[1];return Yr((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){var e=Wr(!1),t=e[0];return e=oi.bind(null,e[1]),Ur().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_r,i=Ur();if(Vn){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Xo)throw Error(s(349));0!==(30&xr)||Hr(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Yr(jr.bind(null,r,o,e),[e]),r.flags|=2048,Gr(9,zr.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ur(),t=Xo.identifierPrefix;if(Vn){var n=Nn;t=":"+t+"R"+(n=(kn&~(1<<32-bt(kn)-1)).toString(32)+n),0<(n=Mr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Tr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fi={readContext:un,useCallback:ri,useContext:un,useEffect:$r,useImperativeHandle:ti,useInsertionEffect:Jr,useLayoutEffect:Zr,useMemo:ii,useReducer:Nr,useRef:Kr,useState:function(){return Nr(kr)},useDebugValue:ni,useDeferredValue:function(e){var t=Nr(kr),n=t[0],r=t[1];return $r((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){return[Nr(kr)[0],Rr().memoizedState]},useMutableSource:Or,useSyncExternalStore:Qr,useId:si,unstable_isNewReconciler:!1},gi={readContext:un,useCallback:ri,useContext:un,useEffect:$r,useImperativeHandle:ti,useInsertionEffect:Jr,useLayoutEffect:Zr,useMemo:ii,useReducer:Dr,useRef:Kr,useState:function(){return Dr(kr)},useDebugValue:ni,useDeferredValue:function(e){var t=Dr(kr),n=t[0],r=t[1];return $r((function(){var t=wr.transition;wr.transition={};try{r(e)}finally{wr.transition=t}}),[e]),n},useTransition:function(){return[Dr(kr)[0],Rr().memoizedState]},useMutableSource:Or,useSyncExternalStore:Qr,useId:si,unstable_isNewReconciler:!1};function mi(e,t){try{var n="",r=t;do{n+=Zt(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function vi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var yi,bi,wi,xi,_i="function"===typeof WeakMap?WeakMap:Map;function Si(e,t,n){(n=gn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){us||(us=!0,hs=r),vi(0,t)},n}function Ci(e,t,n){(n=gn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){vi(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){vi(0,t),"function"!==typeof r&&(null===ds?ds=new Set([this]):ds.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Bi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new _i;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Gs.bind(null,e,t,n),t.then(e,e))}function Ei(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Mi(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=gn(-1,1)).tag=2,mn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function Ti(e){e.flags|=4}function Fi(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(q)yi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)O(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},bi=function(){},wi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var o=t.stateNode,s=ur(lr.current);n=H(o,n,e,r,i,s),(t.updateQueue=n)&&Ti(t)}},xi=function(e,t,n,r){n!==r&&Ti(t)};else if(X){yi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=Ie(o,i.type,i.memoizedProps,i)),O(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=Le(o,i.memoizedProps,i)),O(e,o);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(o=i.child)&&(o.return=i),yi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Ii=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=Ie(o,i.type,i.memoizedProps,i)),Me(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=Le(o,i.memoizedProps,i)),Me(e,o);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(o=i.child)&&(o.return=i),Ii(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};bi=function(e,t){var n=t.stateNode;if(!Fi(e,t)){e=n.containerInfo;var r=Ee(e);Ii(r,t,!1,!1),n.pendingChildren=r,Ti(t),Te(e,r)}},wi=function(e,t,n,r,i){var o=e.stateNode,s=e.memoizedProps;if((e=Fi(e,t))&&s===r)t.stateNode=o;else{var a=t.stateNode,l=ur(lr.current),A=null;s!==r&&(A=H(a,n,s,r,i,l)),e&&null===A?t.stateNode=o:(o=Be(o,A,n,s,r,t,e,a),Q(o,n,r,i,l)&&Ti(t),t.stateNode=o,e?Ti(t):yi(o,t,!1,!1))}},xi=function(e,t,n,r){n!==r?(e=ur(cr.current),n=ur(lr.current),t.stateNode=j(r,e,n,t),Ti(t)):t.stateNode=e.stateNode}}else bi=function(){},wi=function(){},xi=function(){};function Li(e,t){if(!Vn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ui(e,t,n){var r=t.pendingProps;switch(Hn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pi(t),null;case 1:case 17:return pt(t.type)&&ft(),Pi(t),null;case 3:return r=t.stateNode,dr(),at(ut),at(ct),yr(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Jn(t)?Ti(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Gn&&(Ms(Gn),Gn=null))),bi(e,t),Pi(t),null;case 5:fr(t),n=ur(cr.current);var i=t.type;if(null!==e&&null!=t.stateNode)wi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Pi(t),null}if(e=ur(lr.current),Jn(t)){if(!Y)throw Error(s(175));e=je(t.stateNode,t.type,t.memoizedProps,n,e,t,!Wn),t.updateQueue=e,null!==e&&Ti(t)}else{var o=D(i,r,n,e,t);yi(o,t,!1,!1),t.stateNode=o,Q(o,i,r,n,e)&&Ti(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Pi(t),null;case 6:if(e&&null!=t.stateNode)xi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=ur(cr.current),n=ur(lr.current),Jn(t)){if(!Y)throw Error(s(176));if(e=t.stateNode,r=t.memoizedProps,(n=Ve(e,r,t,!Wn))&&null!==(i=zn))switch(o=0!==(1&i.mode),i.tag){case 3:Je(i.stateNode.containerInfo,e,r,o);break;case 5:Ze(i.type,i.memoizedProps,i.stateNode,e,r,o)}n&&Ti(t)}else t.stateNode=j(r,e,n,t)}return Pi(t),null;case 13:if(at(gr),r=t.memoizedState,Vn&&null!==jn&&0!==(1&t.mode)&&0===(128&t.flags)){for(e=jn;e;)e=Oe(e);return Zn(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Jn(t),null===e){if(!r)throw Error(s(318));if(!Y)throw Error(s(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(317));We(e,t)}else Zn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Pi(t),null}return null!==Gn&&(Ms(Gn),Gn=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Jn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&gr.current)?0===es&&(es=3):ks())),null!==t.updateQueue&&(t.flags|=4),Pi(t),null);case 4:return dr(),bi(e,t),null===e&&J(t.stateNode.containerInfo),Pi(t),null;case 10:return ln(t.type._context),Pi(t),null;case 19:if(at(gr),null===(i=t.memoizedState))return Pi(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)Li(i,!1);else{if(0!==es||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=mr(e))){for(t.flags|=128,Li(i,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(o=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return lt(gr,1&gr.current|2),t.child}e=e.sibling}null!==i.tail&&Dt()>ls&&(t.flags|=128,r=!0,Li(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=mr(o))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Li(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!Vn)return Pi(t),null}else 2*Dt()-i.renderingStartTime>ls&&1073741824!==n&&(t.flags|=128,r=!0,Li(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Dt(),t.sibling=null,e=gr.current,lt(gr,r?1&e|2:1&e),t):(Pi(t),null);case 22:case 23:return Ls(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Jo)&&(Pi(t),q&&6&t.subtreeFlags&&(t.flags|=8192)):Pi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}var Ri=a.ReactCurrentOwner,ki=!1;function Ni(e,t,n,r){t.child=null===e?sr(t,null,n,r):or(t,e.child,n,r)}function Di(e,t,n,r,i){n=n.render;var o=t.ref;return cn(t,i),r=Lr(e,t,n,r,o,i),n=Pr(),null===e||ki?(Vn&&n&&Qn(t),t.flags|=1,Ni(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,io(e,t,i))}function Oi(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Zs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ta(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Qi(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Jt)(s,r)&&e.ref===t.ref)return io(e,t,i)}return t.flags|=1,(e=ea(o,r)).ref=t.ref,e.return=t,t.child=e}function Qi(e,t,n,r,i){if(null!==e&&Jt(e.memoizedProps,r)&&e.ref===t.ref){if(ki=!1,0===(e.lanes&i))return t.lanes=e.lanes,io(e,t,i);0!==(131072&e.flags)&&(ki=!0)}return ji(e,t,n,r,i)}function Hi(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},lt(Zo,Jo),Jo|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,lt(Zo,Jo),Jo|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==o?o.baseLanes:n,lt(Zo,Jo),Jo|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,lt(Zo,Jo),Jo|=r;return Ni(e,t,i,n),t.child}function zi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ji(e,t,n,r,i){var o=pt(n)?ht:ct.current;return o=dt(t,o),cn(t,i),n=Lr(e,t,n,r,o,i),r=Pr(),null===e||ki?(Vn&&r&&Qn(t),t.flags|=1,Ni(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,io(e,t,i))}function Vi(e,t,n,r,i){if(pt(n)){var o=!0;vt(t)}else o=!1;if(cn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Bn(t,n,r),Mn(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,A=n.contextType;"object"===typeof A&&null!==A?A=un(A):A=dt(t,A=pt(n)?ht:ct.current);var c=n.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==A)&&En(t,s,r,A),dn=!1;var h=t.memoizedState;s.state=h,bn(t,r,s,i),l=t.memoizedState,a!==r||h!==l||ut.current||dn?("function"===typeof c&&(_n(t,n,c,r),l=t.memoizedState),(a=dn||Cn(t,n,a,r,h,l,A))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=A,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,fn(e,t),a=t.memoizedProps,A=t.type===t.elementType?a:en(t.type,a),s.props=A,u=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=un(l):l=dt(t,l=pt(n)?ht:ct.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==u||h!==l)&&En(t,s,r,l),dn=!1,h=t.memoizedState,s.state=h,bn(t,r,s,i);var p=t.memoizedState;a!==u||h!==p||ut.current||dn?("function"===typeof d&&(_n(t,n,d,r),p=t.memoizedState),(A=dn||Cn(t,n,A,r,h,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=A):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Wi(e,t,n,r,o,i)}function Wi(e,t,n,r,i,o){zi(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&yt(t,n,!1),io(e,t,o);r=t.stateNode,Ri.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=or(t,e.child,null,o),t.child=or(t,null,a,o)):Ni(e,t,a,o),t.memoizedState=r.state,i&&yt(t,n,!0),t.child}function Gi(e){var t=e.stateNode;t.pendingContext?gt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gt(0,t.context,!1),hr(e,t.containerInfo)}function Ki(e,t,n,r,i){return Zn(),er(i),t.flags|=256,Ni(e,t,n,r),t.child}var qi={dehydrated:null,treeContext:null,retryLane:0};function Xi(e){return{baseLanes:e,cachePool:null}}function Yi(e,t,n){var r,i=t.pendingProps,o=gr.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),lt(gr,1&o),null===e)return Yn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:Ne(e)?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,a?(i=t.mode,a=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=o):a=ra(o,i,0,null),e=na(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Xi(n),t.memoizedState=qi,e):$i(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,eo(e,t,n,Error(s(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,o=t.mode,i=ra({mode:"visible",children:i.children},o,0,null),(a=na(a,o,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,0!==(1&t.mode)&&or(t,e.child,null,n),t.child.memoizedState=Xi(n),t.memoizedState=qi,a);if(0===(1&t.mode))t=eo(e,t,n,null);else if(Ne(r))t=eo(e,t,n,Error(s(419)));else if(i=0!==(n&e.childLanes),ki||i){if(null!==(i=Xo)){switch(n&-n){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(i=0!==(a&(i.suspendedLanes|n))?0:a)&&i!==o.retryLane&&(o.retryLane=i,_s(e,i,-1))}ks(),t=eo(e,t,n,Error(s(421)))}else ke(r)?(t.flags|=128,t.child=e.child,t=qs.bind(null,e),De(r,t),t=null):(n=o.treeContext,Y&&(jn=ze(r),zn=t,Vn=!0,Gn=null,Wn=!1,null!==n&&(Pn[Un++]=kn,Pn[Un++]=Nn,Pn[Un++]=Rn,kn=n.id,Nn=n.overflow,Rn=t)),(t=$i(t,t.pendingProps.children)).flags|=4096);return t}return a?(i=Zi(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?Xi(n):{baseLanes:o.baseLanes|n,cachePool:null},a.childLanes=e.childLanes&~n,t.memoizedState=qi,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}return a?(i=Zi(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?Xi(n):{baseLanes:o.baseLanes|n,cachePool:null},a.childLanes=e.childLanes&~n,t.memoizedState=qi,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}function $i(e,t){return(t=ra({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ji(e,t,n,r){var i=e.child;return e=i.sibling,n=ea(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Zi(e,t,n,r,i){var o=t.mode,s=(e=e.child).sibling,a={mode:"hidden",children:n};return 0===(1&o)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=a,t.deletions=null):(n=ea(e,a)).subtreeFlags=14680064&e.subtreeFlags,null!==s?r=ea(s,r):(r=na(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function eo(e,t,n,r){return null!==r&&er(r),or(t,e.child,null,n),(e=$i(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function to(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),An(e.return,t,n)}function no(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ro(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ni(e,t,r.children,n),0!==(2&(r=gr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&to(e,n,t);else if(19===e.tag)to(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(gr,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===mr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),no(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===mr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}no(t,!0,n,null,o);break;case"together":no(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function io(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ns|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=ea(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ea(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function oo(e,t){switch(Hn(t),t.tag){case 1:return pt(t.type)&&ft(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return dr(),at(ut),at(ct),yr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return fr(t),null;case 13:if(at(gr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));Zn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return at(gr),null;case 4:return dr(),null;case 10:return ln(t.type._context),null;case 22:case 23:return Ls(),null;default:return null}}var so=!1,ao=!1,lo="function"===typeof WeakSet?WeakSet:Set,Ao=null;function co(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ws(e,t,r)}else n.current=null}function uo(e,t,n){try{n()}catch(r){Ws(e,t,r)}}var ho=!1;function po(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&uo(t,n,o)}i=i.next}while(i!==r)}}function fo(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function go(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=P(n);else e=n;"function"===typeof t?t(e):t.current=e}}function mo(e,t,n){if(Vt&&"function"===typeof Vt.onCommitFiberUnmount)try{Vt.onCommitFiberUnmount(jt,t)}catch(s){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&uo(t,n,o),r=r.next}while(r!==e)}break;case 1:if(co(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){Ws(t,n,s)}break;case 5:co(t,n);break;case 4:q?Co(e,t,n):X&&X&&(t=t.stateNode.containerInfo,n=Ee(t),Fe(t,n))}}function vo(e,t,n){for(var r=t;;)if(mo(e,r,n),null===r.child||q&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function yo(e){var t=e.alternate;null!==t&&(e.alternate=null,yo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bo(e){return 5===e.tag||3===e.tag||4===e.tag}function wo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||bo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function xo(e){if(q){e:{for(var t=e.return;null!==t;){if(bo(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(be(t),n.flags&=-33),So(e,n=wo(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,_o(e,n=wo(e),t);break;default:throw Error(s(161))}}}function _o(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?me(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(_o(e,t,n),e=e.sibling;null!==e;)_o(e,t,n),e=e.sibling}function So(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):ue(n,e);else if(4!==r&&null!==(e=e.child))for(So(e,t,n),e=e.sibling;null!==e;)So(e,t,n),e=e.sibling}function Co(e,t,n){for(var r,i,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(s(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag)vo(e,o,n),i?ye(r,o.stateNode):ve(r,o.stateNode);else if(18===o.tag)i?Ye(r,o.stateNode):Xe(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(mo(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function Bo(e,t){if(q){switch(t.tag){case 0:case 11:case 14:case 15:return po(3,t,t.return),fo(3,t),void po(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&fe(n,o,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(s(162));return n=t.memoizedProps,void de(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Y&&null!==e&&e.memoizedState.isDehydrated&&Ke(t.stateNode.containerInfo));case 13:case 19:return void Eo(t)}throw Error(s(163))}switch(t.tag){case 0:case 11:case 14:case 15:return po(3,t,t.return),fo(3,t),void po(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Eo(t);case 3:Y&&null!==e&&e.memoizedState.isDehydrated&&Ke(t.stateNode.containerInfo)}e:if(X){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Fe(t.containerInfo,t.pendingChildren);break e}throw Error(s(163))}}function Eo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new lo),t.forEach((function(t){var r=Xs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Mo(e,t,n){Ao=e,To(e,t,n)}function To(e,t,n){for(var r=0!==(1&e.mode);null!==Ao;){var i=Ao,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||so;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||ao;a=so;var A=ao;if(so=s,(ao=l)&&!A)for(Ao=i;null!==Ao;)l=(s=Ao).child,22===s.tag&&null!==s.memoizedState?Lo(i):null!==l?(l.return=s,Ao=l):Lo(i);for(;null!==o;)Ao=o,To(o,t,n),o=o.sibling;Ao=i,so=a,ao=A}Fo(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ao=o):Fo(e)}}function Fo(e){for(;null!==Ao;){var t=Ao;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ao||fo(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!ao)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&wn(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=P(t.child.stateNode);break;case 1:n=t.child.stateNode}wn(t,a,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&pe(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(Y&&null===t.memoizedState){var A=t.alternate;if(null!==A){var c=A.memoizedState;if(null!==c){var u=c.dehydrated;null!==u&&qe(u)}}}break;default:throw Error(s(163))}ao||512&t.flags&&go(t)}catch(h){Ws(t,t.return,h)}}if(t===e){Ao=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ao=n;break}Ao=t.return}}function Io(e){for(;null!==Ao;){var t=Ao;if(t===e){Ao=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ao=n;break}Ao=t.return}}function Lo(e){for(;null!==Ao;){var t=Ao;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fo(4,t)}catch(l){Ws(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ws(t,i,l)}}var o=t.return;try{go(t)}catch(l){Ws(t,o,l)}break;case 5:var s=t.return;try{go(t)}catch(l){Ws(t,s,l)}}}catch(l){Ws(t,t.return,l)}if(t===e){Ao=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ao=a;break}Ao=t.return}}var Po=0,Uo=1,Ro=2,ko=3,No=4;if("function"===typeof Symbol&&Symbol.for){var Do=Symbol.for;Po=Do("selector.component"),Uo=Do("selector.has_pseudo_class"),Ro=Do("selector.role"),ko=Do("selector.test_id"),No=Do("selector.text")}function Oo(e){var t=$(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(s(364));return t}if(null===(e=ie(e)))throw Error(s(362));return e.stateNode.current}function Qo(e,t){switch(t.$$typeof){case Po:if(e.type===t.value)return!0;break;case Uo:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],o=t[i];if(5!==r.tag||!ae(r)){for(;null!=o&&Qo(r,o);)o=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Ro:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case No:if((5===e.tag||6===e.tag)&&(null!==(e=se(e))&&0<=e.indexOf(t.value)))return!0;break;case ko:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Ho(e){switch(e.$$typeof){case Po:return"<"+(_(e.value)||"Unknown")+">";case Uo:return":has("+(Ho(e)||"")+")";case Ro:return'[role="'+e.value+'"]';case No:return'"'+e.value+'"';case ko:return'[data-testname="'+e.value+'"]';default:throw Error(s(365))}}function zo(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],o=e[r++],s=t[o];if(5!==i.tag||!ae(i)){for(;null!=s&&Qo(i,s);)s=t[++o];if(o===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}}return n}function jo(e,t){if(!re)throw Error(s(363));e=zo(e=Oo(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)ae(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Vo=Math.ceil,Wo=a.ReactCurrentDispatcher,Go=a.ReactCurrentOwner,Ko=a.ReactCurrentBatchConfig,qo=0,Xo=null,Yo=null,$o=0,Jo=0,Zo=st(0),es=0,ts=null,ns=0,rs=0,is=0,os=null,ss=null,as=0,ls=1/0;function As(){ls=Dt()+500}var cs,us=!1,hs=null,ds=null,ps=!1,fs=null,gs=0,ms=0,vs=null,ys=-1,bs=0;function ws(){return 0!==(6&qo)?Dt():-1!==ys?ys:ys=Dt()}function xs(e){return 0===(1&e.mode)?1:0!==(2&qo)&&0!==$o?$o&-$o:null!==$t.transition?(0===bs&&(e=_t,0===(4194240&(_t<<=1))&&(_t=64),bs=e),bs):0!==(e=Lt)?e:Z()}function _s(e,t,n){if(50<ms)throw ms=0,vs=null,Error(s(185));var r=Ss(e,t);return null===r?null:(Ft(r,t,n),0!==(2&qo)&&r===Xo||(r===Xo&&(0===(2&qo)&&(rs|=t),4===es&&Ts(r,$o)),Cs(r,n),1===t&&0===qo&&0===(1&e.mode)&&(As(),Kt&&Yt())),r)}function Ss(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Cs(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-bt(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=Et(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=Bt(e,e===Xo?$o:0);if(0===r)null!==n&&Rt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Rt(n),1===t)0===e.tag?function(e){Kt=!0,Xt(e)}(Fs.bind(null,e)):Xt(Fs.bind(null,e)),te?ne((function(){0===qo&&Yt()})):Ut(Ot,Yt),n=null;else{switch(Pt(r)){case 1:n=Ot;break;case 4:n=Qt;break;case 16:default:n=Ht;break;case 536870912:n=zt}n=Ys(n,Bs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Bs(e,t){if(ys=-1,bs=0,0!==(6&qo))throw Error(s(327));var n=e.callbackNode;if(js()&&e.callbackNode!==n)return null;var r=Bt(e,e===Xo?$o:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Ns(e,r);else{t=r;var i=qo;qo|=2;var o=Rs();for(Xo===e&&$o===t||(As(),Ps(e,t));;)try{Os();break}catch(l){Us(e,l)}sn(),Wo.current=o,qo=i,null!==Yo?t=0:(Xo=null,$o=0,t=es)}if(0!==t){if(2===t&&(0!==(i=Mt(e))&&(r=i,t=Es(e,i))),1===t)throw n=ts,Ps(e,0),Ts(e,r),Cs(e,Dt()),n;if(6===t)Ts(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Wt(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Ns(e,r))&&(0!==(o=Mt(e))&&(r=o,t=Es(e,o))),1===t))throw n=ts,Ps(e,0),Ts(e,r),Cs(e,Dt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:zs(e,ss);break;case 3:if(Ts(e,r),(130023424&r)===r&&10<(t=as+500-Dt())){if(0!==Bt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ws(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=V(zs.bind(null,e,ss),t);break}zs(e,ss);break;case 4:if(Ts(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-bt(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Dt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vo(r/1960))-r)){e.timeoutHandle=V(zs.bind(null,e,ss),r);break}zs(e,ss);break;default:throw Error(s(329))}}}return Cs(e,Dt()),e.callbackNode===n?Bs.bind(null,e):null}function Es(e,t){var n=os;return e.current.memoizedState.isDehydrated&&(Ps(e,t).flags|=256),2!==(e=Ns(e,t))&&(t=ss,ss=n,null!==t&&Ms(t)),e}function Ms(e){null===ss?ss=e:ss.push.apply(ss,e)}function Ts(e,t){for(t&=~is,t&=~rs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bt(t),r=1<<n;e[n]=-1,t&=~r}}function Fs(e){if(0!==(6&qo))throw Error(s(327));js();var t=Bt(e,0);if(0===(1&t))return Cs(e,Dt()),null;var n=Ns(e,t);if(0!==e.tag&&2===n){var r=Mt(e);0!==r&&(t=r,n=Es(e,r))}if(1===n)throw n=ts,Ps(e,0),Ts(e,t),Cs(e,Dt()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zs(e,ss),Cs(e,Dt()),null}function Is(e){null!==fs&&0===fs.tag&&0===(6&qo)&&js();var t=qo;qo|=1;var n=Ko.transition,r=Lt;try{if(Ko.transition=null,Lt=1,e)return e()}finally{Lt=r,Ko.transition=n,0===(6&(qo=t))&&Yt()}}function Ls(){Jo=Zo.current,at(Zo)}function Ps(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==G&&(e.timeoutHandle=G,W(n)),null!==Yo)for(n=Yo.return;null!==n;){var r=n;switch(Hn(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ft();break;case 3:dr(),at(ut),at(ct),yr();break;case 5:fr(r);break;case 4:dr();break;case 13:case 19:at(gr);break;case 10:ln(r.type._context);break;case 22:case 23:Ls()}n=n.return}if(Xo=e,Yo=e=ea(e.current,null),$o=Jo=t,es=0,ts=null,is=rs=ns=0,ss=os=null,null!==hn){for(t=0;t<hn.length;t++)if(null!==(r=(n=hn[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}hn=null}return e}function Us(e,t){for(;;){var n=Yo;try{if(sn(),br.current=di,Br){for(var r=_r.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Br=!1}if(xr=0,Cr=Sr=_r=null,Er=!1,Mr=0,Go.current=null,null===n||null===n.return){es=1,ts=t,Yo=null;break}e:{var o=e,a=n.return,l=n,A=t;if(t=$o,l.flags|=32768,null!==A&&"object"===typeof A&&"function"===typeof A.then){var c=A,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Ei(a);if(null!==p){p.flags&=-257,Mi(p,a,l,0,t),1&p.mode&&Bi(o,c,t),A=c;var f=(t=p).updateQueue;if(null===f){var g=new Set;g.add(A),t.updateQueue=g}else f.add(A);break e}if(0===(1&t)){Bi(o,c,t),ks();break e}A=Error(s(426))}else if(Vn&&1&l.mode){var m=Ei(a);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),Mi(m,a,l,0,t),er(A);break e}}o=A,4!==es&&(es=2),null===os?os=[o]:os.push(o),A=mi(A,l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,yn(l,Si(0,A,t));break e;case 1:o=A;var v=l.type,y=l.stateNode;if(0===(128&l.flags)&&("function"===typeof v.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===ds||!ds.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t,yn(l,Ci(l,o,t));break e}}l=l.return}while(null!==l)}Hs(n)}catch(b){t=b,Yo===n&&null!==n&&(Yo=n=n.return);continue}break}}function Rs(){var e=Wo.current;return Wo.current=di,null===e?di:e}function ks(){0!==es&&3!==es&&2!==es||(es=4),null===Xo||0===(268435455&ns)&&0===(268435455&rs)||Ts(Xo,$o)}function Ns(e,t){var n=qo;qo|=2;var r=Rs();for(Xo===e&&$o===t||Ps(e,t);;)try{Ds();break}catch(i){Us(e,i)}if(sn(),qo=n,Wo.current=r,null!==Yo)throw Error(s(261));return Xo=null,$o=0,es}function Ds(){for(;null!==Yo;)Qs(Yo)}function Os(){for(;null!==Yo&&!kt();)Qs(Yo)}function Qs(e){var t=cs(e.alternate,e,Jo);e.memoizedProps=e.pendingProps,null===t?Hs(e):Yo=t,Go.current=null}function Hs(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ui(n,t,Jo)))return void(Yo=n)}else{if(null!==(n=oo(n,t)))return n.flags&=32767,void(Yo=n);if(null===e)return es=6,void(Yo=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Yo=t);Yo=t=e}while(null!==t);0===es&&(es=5)}function zs(e,t){var n=Lt,r=Ko.transition;try{Ko.transition=null,Lt=1,function(e,t,n){do{js()}while(null!==fs);if(0!==(6&qo))throw Error(s(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,o),e===Xo&&(Yo=Xo=null,$o=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||ps||(ps=!0,Ys(Ht,(function(){return js(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=Ko.transition,Ko.transition=null;var a=Lt;Lt=1;var l=qo;qo|=4,Go.current=null,function(e,t){for(k(e.containerInfo),Ao=t;null!==Ao;)if(t=(e=Ao).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Ao=t;else for(;null!==Ao;){e=Ao;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,o=e.stateNode,a=o.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);o.__reactInternalSnapshotBeforeUpdate=a}break;case 3:q&&Ce(e.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(l){Ws(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,Ao=t;break}Ao=e.return}n=ho,ho=!1}(e,r),function(e,t){for(Ao=t;null!==Ao;){var n=(t=Ao).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e;q?Co(o,i,t):vo(o,i,t);var s=i.alternate;null!==s&&(s.return=null),i.return=null}catch(w){Ws(i,t,w)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Ao=n;else for(;null!==Ao;){t=Ao;try{var a=t.flags;if(32&a&&q&&be(t.stateNode),512&a){var l=t.alternate;if(null!==l){var A=l.ref;null!==A&&("function"===typeof A?A(null):A.current=null)}}if(8192&a)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(as=Dt())}break;case 22:var u=null!==t.memoizedState,h=t.alternate,d=null!==h&&null!==h.memoizedState;if(n=t,q)e:if(r=n,i=u,o=null,q)for(var p=r;;){if(5===p.tag){if(null===o){o=p;var f=p.stateNode;i?we(f):_e(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===o){var g=p.stateNode;i?xe(g):Se(g,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;o===p&&(o=null),p=p.return}o===p&&(o=null),p.sibling.return=p.return,p=p.sibling}if(u&&!d&&0!==(1&n.mode)){Ao=n;for(var m=n.child;null!==m;){for(n=Ao=m;null!==Ao;){var v=(r=Ao).child;switch(r.tag){case 0:case 11:case 14:case 15:po(4,r,r.return);break;case 1:co(r,r.return);var y=r.stateNode;if("function"===typeof y.componentWillUnmount){var b=r.return;try{y.props=r.memoizedProps,y.state=r.memoizedState,y.componentWillUnmount()}catch(w){Ws(r,b,w)}}break;case 5:co(r,r.return);break;case 22:if(null!==r.memoizedState){Io(n);continue}}null!==v?(v.return=r,Ao=v):Io(n)}m=m.sibling}}}switch(4102&a){case 2:xo(t),t.flags&=-3;break;case 6:xo(t),t.flags&=-3,Bo(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Bo(t.alternate,t);break;case 4:Bo(t.alternate,t)}}catch(w){Ws(t,t.return,w)}if(null!==(n=t.sibling)){n.return=t.return,Ao=n;break}Ao=t.return}}}(e,r),N(e.containerInfo),e.current=r,Mo(r,e,i),Nt(),qo=l,Lt=a,Ko.transition=o}else e.current=r;if(ps&&(ps=!1,fs=e,gs=i),o=e.pendingLanes,0===o&&(ds=null),function(e){if(Vt&&"function"===typeof Vt.onCommitFiberRoot)try{Vt.onCommitFiberRoot(jt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Cs(e,Dt()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(us)throw us=!1,e=hs,hs=null,e;0!==(1&gs)&&0!==e.tag&&js(),o=e.pendingLanes,0!==(1&o)?e===vs?ms++:(ms=0,vs=e):ms=0,Yt()}(e,t,n)}finally{Ko.transition=r,Lt=n}return null}function js(){if(null!==fs){var e=Pt(gs),t=Ko.transition,n=Lt;try{if(Ko.transition=null,Lt=16>e?16:e,null===fs)var r=!1;else{if(e=fs,fs=null,gs=0,0!==(6&qo))throw Error(s(331));var i=qo;for(qo|=4,Ao=e.current;null!==Ao;){var o=Ao,a=o.child;if(0!==(16&Ao.flags)){var l=o.deletions;if(null!==l){for(var A=0;A<l.length;A++){var c=l[A];for(Ao=c;null!==Ao;){var u=Ao;switch(u.tag){case 0:case 11:case 15:po(8,u,o)}var h=u.child;if(null!==h)h.return=u,Ao=h;else for(;null!==Ao;){var d=(u=Ao).sibling,p=u.return;if(yo(u),u===c){Ao=null;break}if(null!==d){d.return=p,Ao=d;break}Ao=p}}}var f=o.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Ao=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ao=a;else e:for(;null!==Ao;){if(0!==(2048&(o=Ao).flags))switch(o.tag){case 0:case 11:case 15:po(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Ao=v;break e}Ao=o.return}}var y=e.current;for(Ao=y;null!==Ao;){var b=(a=Ao).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ao=b;else e:for(a=y;null!==Ao;){if(0!==(2048&(l=Ao).flags))try{switch(l.tag){case 0:case 11:case 15:fo(9,l)}}catch(x){Ws(l,l.return,x)}if(l===a){Ao=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ao=w;break e}Ao=l.return}}if(qo=i,Yt(),Vt&&"function"===typeof Vt.onPostCommitFiberRoot)try{Vt.onPostCommitFiberRoot(jt,e)}catch(x){}r=!0}return r}finally{Lt=n,Ko.transition=t}}return!1}function Vs(e,t,n){mn(e,t=Si(0,t=mi(n,t),1)),t=ws(),null!==(e=Ss(e,1))&&(Ft(e,1,t),Cs(e,t))}function Ws(e,t,n){if(3===e.tag)Vs(e,e,n);else for(;null!==t;){if(3===t.tag){Vs(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ds||!ds.has(r))){mn(t,e=Ci(t,e=mi(n,e),1)),e=ws(),null!==(t=Ss(t,1))&&(Ft(t,1,e),Cs(t,e));break}}t=t.return}}function Gs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ws(),e.pingedLanes|=e.suspendedLanes&n,Xo===e&&($o&n)===n&&(4===es||3===es&&(130023424&$o)===$o&&500>Dt()-as?Ps(e,0):is|=n),Cs(e,t)}function Ks(e,t){0===t&&(0===(1&e.mode)?t=1:(t=St,0===(130023424&(St<<=1))&&(St=4194304)));var n=ws();null!==(e=Ss(e,t))&&(Ft(e,t,n),Cs(e,n))}function qs(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ks(e,n)}function Xs(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ks(e,n)}function Ys(e,t){return Ut(e,t)}function $s(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Js(e,t,n,r){return new $s(e,t,n,r)}function Zs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ea(e,t){var n=e.alternate;return null===n?((n=Js(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ta(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Zs(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case c:return na(n.children,i,o,t);case u:a=8,i|=8;break;case h:return(e=Js(12,n,t,2|i)).elementType=h,e.lanes=o,e;case g:return(e=Js(13,n,t,i)).elementType=g,e.lanes=o,e;case m:return(e=Js(19,n,t,i)).elementType=m,e.lanes=o,e;case b:return ra(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case d:a=10;break e;case p:a=9;break e;case f:a=11;break e;case v:a=14;break e;case y:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Js(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function na(e,t,n,r){return(e=Js(7,e,r,t)).lanes=n,e}function ra(e,t,n,r){return(e=Js(22,e,r,t)).elementType=b,e.lanes=n,e.stateNode={},e}function ia(e,t,n){return(e=Js(6,e,null,t)).lanes=n,e}function oa(e,t,n){return(t=Js(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sa(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=G,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tt(0),this.expirationTimes=Tt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tt(0),this.identifierPrefix=r,this.onRecoverableError=i,Y&&(this.mutableSourceEagerHydrationData=null)}function aa(e,t,n,r,i,o,s,a,l){return e=new sa(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Js(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},pn(o),e}function la(e){if(!e)return At;e:{if(C(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(pt(n))return mt(e,n,t)}return t}function Aa(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return null===(e=M(t))?null:e.stateNode}function ca(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ua(e,t){ca(e,t),(e=e.alternate)&&ca(e,t)}function ha(e){return null===(e=M(e))?null:e.stateNode}function da(){return null}return cs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ut.current)ki=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ki=!1,function(e,t,n){switch(t.tag){case 3:Gi(t),Zn();break;case 5:pr(t);break;case 1:pt(t.type)&&vt(t);break;case 4:hr(t,t.stateNode.containerInfo);break;case 10:an(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(lt(gr,1&gr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Yi(e,t,n):(lt(gr,1&gr.current),null!==(e=io(e,t,n))?e.sibling:null);lt(gr,1&gr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ro(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(gr,gr.current),r)break;return null;case 22:case 23:return t.lanes=0,Hi(e,t,n)}return io(e,t,n)}(e,t,n);ki=0!==(131072&e.flags)}else ki=!1,Vn&&0!==(1048576&t.flags)&&On(t,Ln,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=dt(t,ct.current);cn(t,n),i=Lr(null,t,r,e,i,n);var o=Pr();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(o=!0,vt(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(t),i.updater=Sn,t.stateNode=i,i._reactInternals=t,Mn(t,r,e,n),t=Wi(null,t,r,!0,o,n)):(t.tag=0,Vn&&o&&Qn(t),Ni(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Zs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===f)return 11;if(e===v)return 14}return 2}(r),e=en(r,e),i){case 0:t=ji(null,t,r,e,n);break e;case 1:t=Vi(null,t,r,e,n);break e;case 11:t=Di(null,t,r,e,n);break e;case 14:t=Oi(null,t,r,en(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ji(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Vi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(Gi(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,fn(e,t),bn(t,r,null,n);var a=t.memoizedState;if(r=a.element,Y&&o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ki(e,t,r,n,i=Error(s(423)));break e}if(r!==i){t=Ki(e,t,r,n,i=Error(s(424)));break e}for(Y&&(jn=He(t.stateNode.containerInfo),zn=t,Vn=!0,Gn=null,Wn=!1),n=sr(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Zn(),r===i){t=io(e,t,n);break e}Ni(e,t,r,n)}t=t.child}return t;case 5:return pr(t),null===e&&Yn(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,z(r,i)?a=null:null!==o&&z(r,o)&&(t.flags|=32),zi(e,t),Ni(e,t,a,n),t.child;case 6:return null===e&&Yn(t),null;case 13:return Yi(e,t,n);case 4:return hr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=or(t,null,r,n):Ni(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Di(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return Ni(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ni(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,an(0,r,a=i.value),null!==o)if(Wt(o.value,a)){if(o.children===i.children&&!ut.current){t=io(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var A=l.firstContext;null!==A;){if(A.context===r){if(1===o.tag){(A=gn(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?A.next=A:(A.next=u.next,u.next=A),c.pending=A}}o.lanes|=n,null!==(A=o.alternate)&&(A.lanes|=n),An(o.return,n,t),l.lanes|=n;break}A=A.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),An(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}Ni(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cn(t,n),r=r(i=un(i)),t.flags|=1,Ni(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),Oi(e,t,r,i=en(r.type,i),n);case 15:return Qi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pt(r)?(e=!0,vt(t)):e=!1,cn(t,n),Bn(t,r,i),Mn(t,r,i,n),Wi(null,t,r,!0,e,n);case 19:return ro(e,t,n);case 22:return Hi(e,t,n)}throw Error(s(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(_s(e,134217728,ws()),ua(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=ws(),n=xs(e);_s(e,n,t),ua(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ct(t.pendingLanes);0!==n&&(It(t,1|n),Cs(t,Dt()),0===(6&qo)&&(As(),Yt()))}break;case 13:var r=ws();Is((function(){return _s(e,1,r)})),ua(e,1)}},t.batchedUpdates=function(e,t){var n=qo;qo|=1;try{return e(t)}finally{0===(qo=n)&&(As(),Kt&&Yt())}},t.createComponentSelector=function(e){return{$$typeof:Po,value:e}},t.createContainer=function(e,t,n,r,i,o,s){return aa(e,t,!1,null,0,r,0,o,s)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Uo,value:e}},t.createHydrationContainer=function(e,t,n,r,i,o,s,a,l){return(e=aa(n,r,!0,e,0,o,0,a,l)).context=la(null),n=e.current,(o=gn(r=ws(),i=xs(n))).callback=void 0!==t&&null!==t?t:null,mn(n,o),e.current.lanes=i,Ft(e,i,r),Cs(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Ro,value:e}},t.createTestNameSelector=function(e){return{$$typeof:ko,value:e}},t.createTextSelector=function(e){return{$$typeof:No,value:e}},t.deferredUpdates=function(e){var t=Lt,n=Ko.transition;try{return Ko.transition=null,Lt=16,e()}finally{Lt=t,Ko.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var o=Lt,s=Ko.transition;try{return Ko.transition=null,Lt=1,e(t,n,r,i)}finally{Lt=o,Ko.transition=s,0===qo&&As()}},t.findAllNodes=jo,t.findBoundingRects=function(e,t){if(!re)throw Error(s(363));t=jo(e,t),e=[];for(var n=0;n<t.length;n++)e.push(oe(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,o=n.y,a=o+n.height,l=t-1;0<=l;l--)if(t!==l){var A=e[l],c=A.x,u=c+A.width,h=A.y,d=h+A.height;if(r>=c&&o>=h&&i<=u&&a<=d){e.splice(t,1);break}if(!(r!==c||n.width!==A.width||d<o||h>a)){h>o&&(A.height+=h-o,A.y=o),d<a&&(A.height=a-h),e.splice(t,1);break}if(!(o!==h||n.height!==A.height||u<r||c>i)){c>r&&(A.width+=c-r,A.x=r),u<i&&(A.width=i-c),e.splice(t,1);break}}return e},t.findHostInstance=Aa,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=E(e))?F(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return Aa(e)},t.flushControlled=function(e){var t=qo;qo|=1;var n=Ko.transition,r=Lt;try{Ko.transition=null,Lt=1,e()}finally{Lt=r,Ko.transition=n,0===(qo=t)&&(As(),Yt())}},t.flushPassiveEffects=js,t.flushSync=Is,t.focusWithin=function(e,t){if(!re)throw Error(s(363));for(t=zo(e=Oo(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!ae(n)){if(5===n.tag&&Ae(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Lt},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(s(363));var n=0,r=[];e=[Oo(e),0];for(var i=0;i<e.length;){var o=e[i++],a=e[i++],l=t[a];if((5!==o.tag||!ae(o))&&(Qo(o,l)&&(r.push(Ho(l)),++a>n&&(n=a)),a<t.length))for(o=o.child;null!==o;)e.push(o,a),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Ho(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?P(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:ha,findFiberByHostInstance:e.findFiberByHostInstance||da,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{jt=t.inject(e),Vt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(s(363));e=jo(e,t);var i=ce(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Lt;try{return Lt=e,t()}finally{Lt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,o=ws(),s=xs(i);return n=la(n),null===t.context?t.context=n:t.pendingContext=n,(t=gn(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),mn(i,t),null!==(e=_s(i,s,o))&&vn(e,i,s),s},t}},7205:(e,t,n)=>{"use strict";e.exports=n(7302)},2016:(e,t,n)=>{"use strict";e.exports=n(6958)},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var r,o={},A=null,c=null;for(r in void 0!==n&&(A=""+n),void 0!==t.key&&(A=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:A,ref:c,props:o,_owner:a.current}}t.Fragment=o,t.jsx=A,t.jsxs=A},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var b=y.prototype=new v;b.constructor=y,f(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var A=Array(l),c=0;c<l;c++)A[c]=arguments[c+2];o.children=A}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:_.current}}function B(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+M(l,0):o,w(s)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),T(s,t,i,"",(function(e){return e}))):null!=s&&(B(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var A=0;A<e.length;A++){var c=o+M(a=e[A],A);l+=T(a,t,i,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),A=0;!(a=e.next()).done;)l+=T(a=a.value,t,i,c=o+M(a,A++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function F(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},P={transition:null},U={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:F,forEach:function(e,t,n){F(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return F(e,(function(){t++})),t},toArray:function(e){return F(e,(function(e){return e}))||[]},only:function(e){if(!B(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=s,t.PureComponent=y,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=f({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(A in t)x.call(t,A)&&!S.hasOwnProperty(A)&&(i[A]=void 0===t[A]&&void 0!==l?l[A]:t[A])}var A=arguments.length-2;if(1===A)i.children=r;else if(1<A){l=Array(A);for(var c=0;c<A;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:A,render:e}},t.isValidElement=B,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],A=a+1,c=e[A];if(0>o(l,n))A<i&&0>o(c,l)?(e[r]=c,e[A]=n,r=A):(e[r]=l,e[a]=n,r=a);else{if(!(A<i&&0>o(c,n)))break e;e[r]=c,e[A]=n,r=A}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var A=[],c=[],u=1,h=null,d=3,p=!1,f=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(A,t)}t=r(c)}}function w(e){if(g=!1,b(e),!f)if(null!==r(A))f=!0,P(x);else{var t=r(c);null!==t&&U(w,t.startTime-e)}}function x(e,n){f=!1,g&&(g=!1,v(B),B=-1),p=!0;var o=d;try{for(b(n),h=r(A);null!==h&&(!(h.expirationTime>n)||e&&!T());){var s=h.callback;if("function"===typeof s){h.callback=null,d=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(A)&&i(A),b(n)}else i(A);h=r(A)}if(null!==h)var l=!0;else{var u=r(c);null!==u&&U(w,u.startTime-n),l=!1}return l}finally{h=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,C=null,B=-1,E=5,M=-1;function T(){return!(t.unstable_now()-M<E)}function F(){if(null!==C){var e=t.unstable_now();M=e;var n=!0;try{n=C(!0,e)}finally{n?_():(S=!1,C=null)}}else S=!1}if("function"===typeof y)_=function(){y(F)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,L=I.port2;I.port1.onmessage=F,_=function(){L.postMessage(null)}}else _=function(){m(F,0)};function P(e){C=e,S||(S=!0,_())}function U(e,n){B=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(c,e),null===r(A)&&e===r(c)&&(g?(v(B),B=-1):g=!0,U(w,o-s))):(e.sortIndex=a,n(A,e),f||p||(f=!0,P(x))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},8387:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}n.d(t,{A:()=>i});const i=function(){for(var e,t,n=0,i="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{213:"85bb1b41",344:"5fdfcfea",453:"b5092c5d",732:"4afdb953",950:"8d134478"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="biosense-spa:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var A=document.getElementsByTagName("script"),c=0;c<A.length;c++){var u=A[c];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+o){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/BioSense-SPA/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],A=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);A<s.length;A++)o=s[A],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkbiosense_spa=self.webpackChunkbiosense_spa||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{ACESFilmicToneMapping:()=>zc,AddEquation:()=>ac,AddOperation:()=>Nc,AdditiveAnimationBlendMode:()=>Ch,AdditiveBlending:()=>rc,AgXToneMapping:()=>Vc,AlphaFormat:()=>Cu,AlwaysCompare:()=>ud,AlwaysDepth:()=>Mc,AlwaysStencilFunc:()=>rd,AmbientLight:()=>J_,AnimationAction:()=>HS,AnimationClip:()=>x_,AnimationLoader:()=>I_,AnimationMixer:()=>jS,AnimationObjectGroup:()=>QS,AnimationUtils:()=>A_,ArcCurve:()=>Ew,ArrayCamera:()=>Ty,ArrowHelper:()=>RC,AttachedBindMode:()=>Gc,Audio:()=>CS,AudioAnalyser:()=>IS,AudioContext:()=>hS,AudioListener:()=>SS,AudioLoader:()=>dS,AxesHelper:()=>kC,BackSide:()=>ZA,BasicDepthPacking:()=>Th,BasicShadowMap:()=>qA,BatchedMesh:()=>$b,Bone:()=>wb,BooleanKeyframeTrack:()=>f_,Box2:()=>nC,Box3:()=>vp,Box3Helper:()=>FC,BoxGeometry:()=>Fg,BoxHelper:()=>TC,BufferAttribute:()=>Kf,BufferGeometry:()=>cg,BufferGeometryLoader:()=>oS,ByteType:()=>pu,Cache:()=>S_,Camera:()=>kg,CameraHelper:()=>BC,CanvasTexture:()=>Sw,CapsuleGeometry:()=>qw,CatmullRomCurve3:()=>Pw,CineonToneMapping:()=>Hc,CircleGeometry:()=>Xw,ClampToEdgeWrapping:()=>tu,Clock:()=>vS,Color:()=>Rf,ColorKeyframeTrack:()=>g_,ColorManagement:()=>$d,CompressedArrayTexture:()=>xw,CompressedCubeTexture:()=>_w,CompressedTexture:()=>ww,CompressedTextureLoader:()=>L_,ConeGeometry:()=>$w,ConstantAlphaFactor:()=>Cc,ConstantColorFactor:()=>_c,CubeCamera:()=>zg,CubeReflectionMapping:()=>Xc,CubeRefractionMapping:()=>Yc,CubeTexture:()=>jg,CubeTextureLoader:()=>U_,CubeUVReflectionMapping:()=>Zc,CubicBezierCurve:()=>Nw,CubicBezierCurve3:()=>Dw,CubicInterpolant:()=>u_,CullFaceBack:()=>WA,CullFaceFront:()=>GA,CullFaceFrontBack:()=>KA,CullFaceNone:()=>VA,Curve:()=>Cw,CurvePath:()=>Ww,CustomBlending:()=>sc,CustomToneMapping:()=>jc,CylinderGeometry:()=>Yw,Cylindrical:()=>eC,Data3DTexture:()=>hp,DataArrayTexture:()=>cp,DataTexture:()=>xb,DataTextureLoader:()=>R_,DataUtils:()=>Vf,DecrementStencilOp:()=>Gh,DecrementWrapStencilOp:()=>qh,DefaultLoadingManager:()=>B_,DepthFormat:()=>Fu,DepthStencilFormat:()=>Iu,DepthTexture:()=>Dm,DetachedBindMode:()=>Kc,DirectionalLight:()=>$_,DirectionalLightHelper:()=>_C,DiscreteInterpolant:()=>d_,DisplayP3ColorSpace:()=>kh,DodecahedronGeometry:()=>Zw,DoubleSide:()=>ec,DstAlphaFactor:()=>vc,DstColorFactor:()=>bc,DynamicCopyUsage:()=>yd,DynamicDrawUsage:()=>dd,DynamicReadUsage:()=>gd,EdgesGeometry:()=>ix,EllipseCurve:()=>Bw,EqualCompare:()=>sd,EqualDepth:()=>Ic,EqualStencilFunc:()=>Jh,EquirectangularReflectionMapping:()=>$c,EquirectangularRefractionMapping:()=>Jc,Euler:()=>tf,EventDispatcher:()=>Cd,ExtrudeGeometry:()=>Ux,FileLoader:()=>F_,Float16BufferAttribute:()=>tg,Float32BufferAttribute:()=>ng,FloatType:()=>yu,Fog:()=>Hy,FogExp2:()=>Qy,FramebufferTexture:()=>bw,FrontSide:()=>JA,Frustum:()=>$g,GLBufferAttribute:()=>qS,GLSL1:()=>wd,GLSL3:()=>xd,GreaterCompare:()=>ld,GreaterDepth:()=>Pc,GreaterEqualCompare:()=>cd,GreaterEqualDepth:()=>Lc,GreaterEqualStencilFunc:()=>nd,GreaterStencilFunc:()=>ed,GridHelper:()=>vC,Group:()=>Fy,HalfFloatType:()=>bu,HemisphereLight:()=>D_,HemisphereLightHelper:()=>mC,IcosahedronGeometry:()=>kx,ImageBitmapLoader:()=>cS,ImageLoader:()=>P_,ImageUtils:()=>tp,IncrementStencilOp:()=>Wh,IncrementWrapStencilOp:()=>Kh,InstancedBufferAttribute:()=>Bb,InstancedBufferGeometry:()=>iS,InstancedInterleavedBuffer:()=>KS,InstancedMesh:()=>Ub,Int16BufferAttribute:()=>$f,Int32BufferAttribute:()=>Zf,Int8BufferAttribute:()=>qf,IntType:()=>mu,InterleavedBuffer:()=>jy,InterleavedBufferAttribute:()=>Wy,Interpolant:()=>c_,InterpolateDiscrete:()=>vh,InterpolateLinear:()=>yh,InterpolateSmooth:()=>bh,InvertStencilOp:()=>Xh,KeepStencilOp:()=>jh,KeyframeTrack:()=>p_,LOD:()=>cb,LatheGeometry:()=>Kw,Layers:()=>nf,LessCompare:()=>od,LessDepth:()=>Tc,LessEqualCompare:()=>ad,LessEqualDepth:()=>Fc,LessEqualStencilFunc:()=>Zh,LessStencilFunc:()=>$h,Light:()=>N_,LightProbe:()=>tS,Line:()=>sw,Line3:()=>oC,LineBasicMaterial:()=>Jb,LineCurve:()=>Ow,LineCurve3:()=>Qw,LineDashedMaterial:()=>r_,LineLoop:()=>uw,LineSegments:()=>cw,LinearDisplayP3ColorSpace:()=>Nh,LinearFilter:()=>lu,LinearInterpolant:()=>h_,LinearMipMapLinearFilter:()=>hu,LinearMipMapNearestFilter:()=>cu,LinearMipmapLinearFilter:()=>uu,LinearMipmapNearestFilter:()=>Au,LinearSRGBColorSpace:()=>Rh,LinearToneMapping:()=>Oc,LinearTransfer:()=>Dh,Loader:()=>E_,LoaderUtils:()=>rS,LoadingManager:()=>C_,LoopOnce:()=>fh,LoopPingPong:()=>mh,LoopRepeat:()=>gh,LuminanceAlphaFormat:()=>Tu,LuminanceFormat:()=>Mu,MOUSE:()=>zA,Material:()=>Df,MaterialLoader:()=>nS,MathUtils:()=>kd,Matrix3:()=>Dd,Matrix4:()=>Wp,MaxEquation:()=>uc,Mesh:()=>Mg,MeshBasicMaterial:()=>Of,MeshDepthMaterial:()=>_y,MeshDistanceMaterial:()=>Sy,MeshLambertMaterial:()=>t_,MeshMatcapMaterial:()=>n_,MeshNormalMaterial:()=>e_,MeshPhongMaterial:()=>Jx,MeshPhysicalMaterial:()=>$x,MeshStandardMaterial:()=>Yx,MeshToonMaterial:()=>Zx,MinEquation:()=>cc,MirroredRepeatWrapping:()=>nu,MixOperation:()=>kc,MultiplyBlending:()=>oc,MultiplyOperation:()=>Rc,NearestFilter:()=>ru,NearestMipMapLinearFilter:()=>au,NearestMipMapNearestFilter:()=>ou,NearestMipmapLinearFilter:()=>su,NearestMipmapNearestFilter:()=>iu,NeutralToneMapping:()=>Wc,NeverCompare:()=>id,NeverDepth:()=>Ec,NeverStencilFunc:()=>Yh,NoBlending:()=>tc,NoColorSpace:()=>Ph,NoToneMapping:()=>Dc,NormalAnimationBlendMode:()=>Sh,NormalBlending:()=>nc,NotEqualCompare:()=>Ad,NotEqualDepth:()=>Uc,NotEqualStencilFunc:()=>td,NumberKeyframeTrack:()=>m_,Object3D:()=>yf,ObjectLoader:()=>sS,ObjectSpaceNormalMap:()=>Lh,OctahedronGeometry:()=>Nx,OneFactor:()=>dc,OneMinusConstantAlphaFactor:()=>Bc,OneMinusConstantColorFactor:()=>Sc,OneMinusDstAlphaFactor:()=>yc,OneMinusDstColorFactor:()=>wc,OneMinusSrcAlphaFactor:()=>mc,OneMinusSrcColorFactor:()=>fc,OrthographicCamera:()=>dm,P3Primaries:()=>Hh,PCFShadowMap:()=>XA,PCFSoftShadowMap:()=>YA,PMREMGenerator:()=>Cm,Path:()=>Gw,PerspectiveCamera:()=>Qg,Plane:()=>qg,PlaneGeometry:()=>em,PlaneHelper:()=>IC,PointLight:()=>X_,PointLightHelper:()=>dC,Points:()=>mw,PointsMaterial:()=>hw,PolarGridHelper:()=>yC,PolyhedronGeometry:()=>Jw,PositionalAudio:()=>FS,PropertyBinding:()=>OS,PropertyMixer:()=>LS,QuadraticBezierCurve:()=>Hw,QuadraticBezierCurve3:()=>zw,Quaternion:()=>pp,QuaternionKeyframeTrack:()=>y_,QuaternionLinearInterpolant:()=>v_,RED_GREEN_RGTC2_Format:()=>dh,RED_RGTC1_Format:()=>uh,REVISION:()=>HA,RGBADepthPacking:()=>Fh,RGBAFormat:()=>Eu,RGBAIntegerFormat:()=>ku,RGBA_ASTC_10x10_Format:()=>oh,RGBA_ASTC_10x5_Format:()=>nh,RGBA_ASTC_10x6_Format:()=>rh,RGBA_ASTC_10x8_Format:()=>ih,RGBA_ASTC_12x10_Format:()=>sh,RGBA_ASTC_12x12_Format:()=>ah,RGBA_ASTC_4x4_Format:()=>qu,RGBA_ASTC_5x4_Format:()=>Xu,RGBA_ASTC_5x5_Format:()=>Yu,RGBA_ASTC_6x5_Format:()=>$u,RGBA_ASTC_6x6_Format:()=>Ju,RGBA_ASTC_8x5_Format:()=>Zu,RGBA_ASTC_8x6_Format:()=>eh,RGBA_ASTC_8x8_Format:()=>th,RGBA_BPTC_Format:()=>lh,RGBA_ETC2_EAC_Format:()=>Ku,RGBA_PVRTC_2BPPV1_Format:()=>Vu,RGBA_PVRTC_4BPPV1_Format:()=>ju,RGBA_S3TC_DXT1_Format:()=>Du,RGBA_S3TC_DXT3_Format:()=>Ou,RGBA_S3TC_DXT5_Format:()=>Qu,RGBFormat:()=>Bu,RGB_BPTC_SIGNED_Format:()=>Ah,RGB_BPTC_UNSIGNED_Format:()=>ch,RGB_ETC1_Format:()=>Wu,RGB_ETC2_Format:()=>Gu,RGB_PVRTC_2BPPV1_Format:()=>zu,RGB_PVRTC_4BPPV1_Format:()=>Hu,RGB_S3TC_DXT1_Format:()=>Nu,RGFormat:()=>Uu,RGIntegerFormat:()=>Ru,RawShaderMaterial:()=>Xx,Ray:()=>Vp,Raycaster:()=>YS,Rec709Primaries:()=>Qh,RectAreaLight:()=>Z_,RedFormat:()=>Lu,RedIntegerFormat:()=>Pu,ReinhardToneMapping:()=>Qc,RenderTarget:()=>lp,RepeatWrapping:()=>eu,ReplaceStencilOp:()=>Vh,ReverseSubtractEquation:()=>Ac,RingGeometry:()=>Dx,SIGNED_RED_GREEN_RGTC2_Format:()=>ph,SIGNED_RED_RGTC1_Format:()=>hh,SRGBColorSpace:()=>Uh,SRGBTransfer:()=>Oh,Scene:()=>zy,ShaderChunk:()=>tm,ShaderLib:()=>rm,ShaderMaterial:()=>Rg,ShadowMaterial:()=>qx,Shape:()=>ox,ShapeGeometry:()=>Ox,ShapePath:()=>NC,ShapeUtils:()=>Ix,ShortType:()=>fu,Skeleton:()=>Cb,SkeletonHelper:()=>uC,SkinnedMesh:()=>bb,Source:()=>rp,Sphere:()=>kp,SphereGeometry:()=>Qx,Spherical:()=>ZS,SphericalHarmonics3:()=>eS,SplineCurve:()=>jw,SpotLight:()=>V_,SpotLightHelper:()=>aC,Sprite:()=>sb,SpriteMaterial:()=>Gy,SrcAlphaFactor:()=>gc,SrcAlphaSaturateFactor:()=>xc,SrcColorFactor:()=>pc,StaticCopyUsage:()=>vd,StaticDrawUsage:()=>hd,StaticReadUsage:()=>fd,StereoCamera:()=>mS,StreamCopyUsage:()=>bd,StreamDrawUsage:()=>pd,StreamReadUsage:()=>md,StringKeyframeTrack:()=>b_,SubtractEquation:()=>lc,SubtractiveBlending:()=>ic,TOUCH:()=>jA,TangentSpaceNormalMap:()=>Ih,TetrahedronGeometry:()=>Hx,Texture:()=>sp,TextureLoader:()=>k_,TorusGeometry:()=>zx,TorusKnotGeometry:()=>jx,Triangle:()=>Ff,TriangleFanDrawMode:()=>Mh,TriangleStripDrawMode:()=>Eh,TrianglesDrawMode:()=>Bh,TubeGeometry:()=>Vx,UVMapping:()=>qc,Uint16BufferAttribute:()=>Jf,Uint32BufferAttribute:()=>eg,Uint8BufferAttribute:()=>Xf,Uint8ClampedBufferAttribute:()=>Yf,Uniform:()=>VS,UniformsGroup:()=>GS,UniformsLib:()=>nm,UniformsUtils:()=>Ug,UnsignedByteType:()=>du,UnsignedInt248Type:()=>_u,UnsignedInt5999Type:()=>Su,UnsignedIntType:()=>vu,UnsignedShort4444Type:()=>wu,UnsignedShort5551Type:()=>xu,UnsignedShortType:()=>gu,VSMShadowMap:()=>$A,Vector2:()=>Nd,Vector3:()=>fp,Vector4:()=>ap,VectorKeyframeTrack:()=>w_,VideoTexture:()=>yw,WebGL3DRenderTarget:()=>dp,WebGLArrayRenderTarget:()=>up,WebGLCoordinateSystem:()=>_d,WebGLCubeRenderTarget:()=>Vg,WebGLMultipleRenderTargets:()=>DC,WebGLRenderTarget:()=>Ap,WebGLRenderer:()=>Oy,WebGLUtils:()=>My,WebGPUCoordinateSystem:()=>Sd,WireframeGeometry:()=>Wx,WrapAroundEnding:()=>_h,ZeroCurvatureEnding:()=>wh,ZeroFactor:()=>hc,ZeroSlopeEnding:()=>xh,ZeroStencilOp:()=>zh,createCanvasElement:()=>Vd});var t=n(5043),r=n.t(t,2),i=n(4391),o=n(8168),s=n(8587),a=n(8387),l=n(3174),A=n(8812),c=n(8698),u=n(8280),h=n(7541);const d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=t.useContext(h.T);return n&&(r=n,0!==Object.keys(r).length)?n:e;var r},p=(0,u.A)();const f=function(){return d(arguments.length>0&&void 0!==arguments[0]?arguments[0]:p)};var g=n(579);const m=["className","component"];var v=n(9386),y=n(8279),b=n(3375),w=n(2532);const x=(0,w.A)("MuiBox",["root"]),_=(0,y.A)(),S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:i="MuiBox-root",generateClassName:u}=e,h=(0,l.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(A.A),d=t.forwardRef((function(e,t){const l=f(r),A=(0,c.A)(e),{className:d,component:p="div"}=A,v=(0,s.A)(A,m);return(0,g.jsx)(h,(0,o.A)({as:p,ref:t,className:(0,a.A)(d,u?u(i):i),theme:n&&l[n]||l},v))}));return d}({themeId:b.A,defaultTheme:_,defaultClassName:x.root,generateClassName:v.A.generate}),C=S;var B=n(8610),E=n(4535),M=n(8206),T=n(6803),F=n(7266);const I=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};var L=n(2372);function P(e){return(0,L.Ay)("MuiPaper",e)}(0,w.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const U=["className","component","elevation","square","variant"],R=(0,E.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,o.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.divider}`},"elevation"===n.variant&&(0,o.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:`linear-gradient(${(0,F.X4)("#fff",I(n.elevation))}, ${(0,F.X4)("#fff",I(n.elevation))})`},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),k=t.forwardRef((function(e,t){const n=(0,M.b)({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:l=1,square:A=!1,variant:c="elevation"}=n,u=(0,s.A)(n,U),h=(0,o.A)({},n,{component:i,elevation:l,square:A,variant:c}),d=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]};return(0,B.A)(o,P,i)})(h);return(0,g.jsx)(R,(0,o.A)({as:i,ownerState:h,className:(0,a.A)(d.root,r),ref:t},u))})),N=k;function D(e){return(0,L.Ay)("MuiAppBar",e)}(0,w.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const O=["className","color","enableColorOnDark","position"],Q=(e,t)=>e?`${null==e?void 0:e.replace(")","")}, ${t})`:t,H=(0,E.Ay)(N,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,T.A)(n.position)}`],t[`color${(0,T.A)(n.color)}`]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,o.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,o.A)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,o.A)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,o.A)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Q(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:Q(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:Q(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:Q(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},!["inherit","transparent"].includes(n.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),z=t.forwardRef((function(e,t){const n=(0,M.b)({props:e,name:"MuiAppBar"}),{className:r,color:i="primary",enableColorOnDark:l=!1,position:A="fixed"}=n,c=(0,s.A)(n,O),u=(0,o.A)({},n,{color:i,position:A,enableColorOnDark:l}),h=(e=>{const{color:t,position:n,classes:r}=e,i={root:["root",`color${(0,T.A)(t)}`,`position${(0,T.A)(n)}`]};return(0,B.A)(i,D,r)})(u);return(0,g.jsx)(H,(0,o.A)({square:!0,component:"header",ownerState:u,elevation:4,className:(0,a.A)(h.root,r,"fixed"===A&&"mui-fixed"),ref:t},c))})),j=z;function V(e){return(0,L.Ay)("MuiToolbar",e)}(0,w.A)("MuiToolbar",["root","gutters","regular","dense"]);const W=["className","component","disableGutters","variant"],G=(0,E.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})}),(e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar})),K=t.forwardRef((function(e,t){const n=(0,M.b)({props:e,name:"MuiToolbar"}),{className:r,component:i="div",disableGutters:l=!1,variant:A="regular"}=n,c=(0,s.A)(n,W),u=(0,o.A)({},n,{component:i,disableGutters:l,variant:A}),h=(e=>{const{classes:t,disableGutters:n,variant:r}=e,i={root:["root",!n&&"gutters",r]};return(0,B.A)(i,V,t)})(u);return(0,g.jsx)(G,(0,o.A)({as:i,className:(0,a.A)(h.root,r),ref:t,ownerState:u},c))})),q=K;var X=n(5849),Y=n(3319),$=n(3574);function J(e,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J(e,t)}function Z(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,J(e,t)}const ee=t.createContext(null);function te(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function ne(e,t,n){return null!=n[t]?n[t]:e.props[t]}function re(e,n,r){var i=te(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var A=i[l][r];a[i[l][r]]=n(A)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(n,i);return Object.keys(o).forEach((function(s){var a=o[s];if((0,t.isValidElement)(a)){var l=s in n,A=s in i,c=n[s],u=(0,t.isValidElement)(c)&&!c.props.in;!A||l&&!u?A||!l||u?A&&l&&(0,t.isValidElement)(c)&&(o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:c.props.in,exit:ne(a,"exit",e),enter:ne(a,"enter",e)})):o[s]=(0,t.cloneElement)(a,{in:!1}):o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:ne(a,"exit",e),enter:ne(a,"enter",e)})}})),o}var ie=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},oe=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Z(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,o=n.children,s=n.handleExited;return{children:n.firstRender?(r=e,i=s,te(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:ne(e,"appear",r),enter:ne(e,"enter",r),exit:ne(e,"exit",r)})}))):re(e,o,s),firstRender:!1}},r.handleExited=function(e,t){var n=te(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,o.A)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,s.A)(e,["component","childFactory"]),o=this.state.contextValue,a=ie(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(ee.Provider,{value:o},a):t.createElement(ee.Provider,{value:o},t.createElement(n,i,a))},n}(t.Component);oe.propTypes={},oe.defaultProps={component:"div",childFactory:function(e){return e}};const se=oe;var ae=n(3290),le=n(9303);const Ae=function(e){const{className:n,classes:r,pulsate:i=!1,rippleX:o,rippleY:s,rippleSize:l,in:A,onExited:c,timeout:u}=e,[h,d]=t.useState(!1),p=(0,a.A)(n,r.ripple,r.rippleVisible,i&&r.ripplePulsate),f={width:l,height:l,top:-l/2+s,left:-l/2+o},m=(0,a.A)(r.child,h&&r.childLeaving,i&&r.childPulsate);return A||h||d(!0),t.useEffect((()=>{if(!A&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,A,u]),(0,g.jsx)("span",{className:p,style:f,children:(0,g.jsx)("span",{className:m})})};const ce=(0,w.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ue=["center","classes","className"];let he,de,pe,fe,ge=e=>e;const me=(0,ae.i7)(he||(he=ge`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),ve=(0,ae.i7)(de||(de=ge`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),ye=(0,ae.i7)(pe||(pe=ge`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),be=(0,E.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),we=(0,E.Ay)(Ae,{name:"MuiTouchRipple",slot:"Ripple"})(fe||(fe=ge`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ce.rippleVisible,me,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),ce.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),ce.child,ce.childLeaving,ve,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),ce.childPulsate,ye,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),xe=t.forwardRef((function(e,n){const r=(0,M.b)({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:l={},className:A}=r,c=(0,s.A)(r,ue),[u,h]=t.useState([]),d=t.useRef(0),p=t.useRef(null);t.useEffect((()=>{p.current&&(p.current(),p.current=null)}),[u]);const f=t.useRef(!1),m=(0,le.A)(),v=t.useRef(null),y=t.useRef(null),b=t.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:o}=e;h((e=>[...e,(0,g.jsx)(we,{classes:{ripple:(0,a.A)(l.ripple,ce.ripple),rippleVisible:(0,a.A)(l.rippleVisible,ce.rippleVisible),ripplePulsate:(0,a.A)(l.ripplePulsate,ce.ripplePulsate),child:(0,a.A)(l.child,ce.child),childLeaving:(0,a.A)(l.childLeaving,ce.childLeaving),childPulsate:(0,a.A)(l.childPulsate,ce.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},d.current)])),d.current+=1,p.current=o}),[l]),w=t.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=i||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&f.current)return void(f.current=!1);"touchstart"===(null==e?void 0:e.type)&&(f.current=!0);const a=s?null:y.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let A,c,u;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)A=Math.round(l.width/2),c=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;A=Math.round(t-l.left),c=Math.round(n-l.top)}if(o)u=Math.sqrt((2*l.width**2+l.height**2)/3),u%2===0&&(u+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-A),A)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-c),c)+2;u=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===v.current&&(v.current=()=>{b({pulsate:r,rippleX:A,rippleY:c,rippleSize:u,cb:n})},m.start(80,(()=>{v.current&&(v.current(),v.current=null)}))):b({pulsate:r,rippleX:A,rippleY:c,rippleSize:u,cb:n})}),[i,b,m]),x=t.useCallback((()=>{w({},{pulsate:!0})}),[w]),_=t.useCallback(((e,t)=>{if(m.clear(),"touchend"===(null==e?void 0:e.type)&&v.current)return v.current(),v.current=null,void m.start(0,(()=>{_(e,t)}));v.current=null,h((e=>e.length>0?e.slice(1):e)),p.current=t}),[m]);return t.useImperativeHandle(n,(()=>({pulsate:x,start:w,stop:_})),[x,w,_]),(0,g.jsx)(be,(0,o.A)({className:(0,a.A)(ce.root,l.root,A),ref:y},c,{children:(0,g.jsx)(se,{component:null,exit:!0,children:u})}))})),_e=xe;function Se(e){return(0,L.Ay)("MuiButtonBase",e)}const Ce=(0,w.A)("MuiButtonBase",["root","disabled","focusVisible"]),Be=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Ee=(0,E.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ce.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Me=t.forwardRef((function(e,n){const r=(0,M.b)({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:l=!1,children:A,className:c,component:u="button",disabled:h=!1,disableRipple:d=!1,disableTouchRipple:p=!1,focusRipple:f=!1,LinkComponent:m="a",onBlur:v,onClick:y,onContextMenu:b,onDragLeave:w,onFocus:x,onFocusVisible:_,onKeyDown:S,onKeyUp:C,onMouseDown:E,onMouseLeave:T,onMouseUp:F,onTouchEnd:I,onTouchMove:L,onTouchStart:P,tabIndex:U=0,TouchRippleProps:R,touchRippleRef:k,type:N}=r,D=(0,s.A)(r,Be),O=t.useRef(null),Q=t.useRef(null),H=(0,X.A)(Q,k),{isFocusVisibleRef:z,onFocus:j,onBlur:V,ref:W}=(0,$.A)(),[G,K]=t.useState(!1);h&&G&&K(!1),t.useImperativeHandle(i,(()=>({focusVisible:()=>{K(!0),O.current.focus()}})),[]);const[q,J]=t.useState(!1);t.useEffect((()=>{J(!0)}),[]);const Z=q&&!d&&!h;function ee(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;return(0,Y.A)((r=>{t&&t(r);return!n&&Q.current&&Q.current[e](r),!0}))}t.useEffect((()=>{G&&f&&!d&&q&&Q.current.pulsate()}),[d,f,G,q]);const te=ee("start",E),ne=ee("stop",b),re=ee("stop",w),ie=ee("stop",F),oe=ee("stop",(e=>{G&&e.preventDefault(),T&&T(e)})),se=ee("start",P),ae=ee("stop",I),le=ee("stop",L),Ae=ee("stop",(e=>{V(e),!1===z.current&&K(!1),v&&v(e)}),!1),ce=(0,Y.A)((e=>{O.current||(O.current=e.currentTarget),j(e),!0===z.current&&(K(!0),_&&_(e)),x&&x(e)})),ue=()=>{const e=O.current;return u&&"button"!==u&&!("A"===e.tagName&&e.href)},he=t.useRef(!1),de=(0,Y.A)((e=>{f&&!he.current&&G&&Q.current&&" "===e.key&&(he.current=!0,Q.current.stop(e,(()=>{Q.current.start(e)}))),e.target===e.currentTarget&&ue()&&" "===e.key&&e.preventDefault(),S&&S(e),e.target===e.currentTarget&&ue()&&"Enter"===e.key&&!h&&(e.preventDefault(),y&&y(e))})),pe=(0,Y.A)((e=>{f&&" "===e.key&&Q.current&&G&&!e.defaultPrevented&&(he.current=!1,Q.current.stop(e,(()=>{Q.current.pulsate(e)}))),C&&C(e),y&&e.target===e.currentTarget&&ue()&&" "===e.key&&!e.defaultPrevented&&y(e)}));let fe=u;"button"===fe&&(D.href||D.to)&&(fe=m);const ge={};"button"===fe?(ge.type=void 0===N?"button":N,ge.disabled=h):(D.href||D.to||(ge.role="button"),h&&(ge["aria-disabled"]=h));const me=(0,X.A)(n,W,O);const ve=(0,o.A)({},r,{centerRipple:l,component:u,disabled:h,disableRipple:d,disableTouchRipple:p,focusRipple:f,tabIndex:U,focusVisible:G}),ye=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o={root:["root",t&&"disabled",n&&"focusVisible"]},s=(0,B.A)(o,Se,i);return n&&r&&(s.root+=` ${r}`),s})(ve);return(0,g.jsxs)(Ee,(0,o.A)({as:fe,className:(0,a.A)(ye.root,c),ownerState:ve,onBlur:Ae,onClick:y,onContextMenu:ne,onFocus:ce,onKeyDown:de,onKeyUp:pe,onMouseDown:te,onMouseLeave:oe,onMouseUp:ie,onDragLeave:re,onTouchEnd:ae,onTouchMove:le,onTouchStart:se,ref:me,tabIndex:h?-1:U,type:N},ge,D,{children:[A,Z?(0,g.jsx)(_e,(0,o.A)({ref:H,center:l},R)):null]}))})),Te=Me;function Fe(e){return(0,L.Ay)("MuiIconButton",e)}const Ie=(0,w.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Le=["edge","children","className","color","disabled","disableFocusRipple","size"],Pe=(0,E.Ay)(Te,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${(0,T.A)(n.color)}`],n.edge&&t[`edge${(0,T.A)(n.edge)}`],t[`size${(0,T.A)(n.size)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,F.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const i=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,o.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,o.A)({color:null==i?void 0:i.main},!n.disableRipple&&{"&:hover":(0,o.A)({},i&&{backgroundColor:t.vars?`rgba(${i.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,F.X4)(i.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Ie.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),Ue=t.forwardRef((function(e,t){const n=(0,M.b)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:l,color:A="default",disabled:c=!1,disableFocusRipple:u=!1,size:h="medium"}=n,d=(0,s.A)(n,Le),p=(0,o.A)({},n,{edge:r,color:A,disabled:c,disableFocusRipple:u,size:h}),f=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,s={root:["root",n&&"disabled","default"!==r&&`color${(0,T.A)(r)}`,i&&`edge${(0,T.A)(i)}`,`size${(0,T.A)(o)}`]};return(0,B.A)(s,Fe,t)})(p);return(0,g.jsx)(Pe,(0,o.A)({className:(0,a.A)(f.root,l),centerRipple:!0,focusRipple:!u,disabled:c,ref:t},d,{ownerState:p,children:i}))})),Re=Ue;function ke(e){return(0,L.Ay)("MuiTypography",e)}(0,w.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Ne=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],De=(0,E.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,T.A)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),Oe={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Qe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},He=t.forwardRef((function(e,t){const n=(0,M.b)({props:e,name:"MuiTypography"}),r=(e=>Qe[e]||e)(n.color),i=(0,c.A)((0,o.A)({},n,{color:r})),{align:l="inherit",className:A,component:u,gutterBottom:h=!1,noWrap:d=!1,paragraph:p=!1,variant:f="body1",variantMapping:m=Oe}=i,v=(0,s.A)(i,Ne),y=(0,o.A)({},i,{align:l,color:r,className:A,component:u,gutterBottom:h,noWrap:d,paragraph:p,variant:f,variantMapping:m}),b=u||(p?"p":m[f]||Oe[f])||"span",w=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,"inherit"!==e.align&&`align${(0,T.A)(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,B.A)(a,ke,s)})(y);return(0,g.jsx)(De,(0,o.A)({as:b,ref:t,ownerState:y,className:(0,a.A)(w.root,A)},v))})),ze=He;var je=n(1475),Ve=n(5420);const We=t.createContext(void 0);function Ge(){return t.useContext(We)}function Ke(e){return(0,L.Ay)("PrivateSwitchBase",e)}(0,w.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const qe=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Xe=(0,E.Ay)(Te)((e=>{let{ownerState:t}=e;return(0,o.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),Ye=(0,E.Ay)("input",{shouldForwardProp:je.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),$e=t.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:i,className:l,defaultChecked:A,disabled:c,disableFocusRipple:u=!1,edge:h=!1,icon:d,id:p,inputProps:f,inputRef:m,name:v,onBlur:y,onChange:b,onFocus:w,readOnly:x,required:_=!1,tabIndex:S,type:C,value:E}=e,M=(0,s.A)(e,qe),[F,I]=(0,Ve.A)({controlled:r,default:Boolean(A),name:"SwitchBase",state:"checked"}),L=Ge();let P=c;L&&"undefined"===typeof P&&(P=L.disabled);const U="checkbox"===C||"radio"===C,R=(0,o.A)({},e,{checked:F,disabled:P,disableFocusRipple:u,edge:h}),k=(e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${(0,T.A)(i)}`],input:["input"]};return(0,B.A)(o,Ke,t)})(R);return(0,g.jsxs)(Xe,(0,o.A)({component:"span",className:(0,a.A)(k.root,l),centerRipple:!0,focusRipple:!u,disabled:P,tabIndex:null,role:void 0,onFocus:e=>{w&&w(e),L&&L.onFocus&&L.onFocus(e)},onBlur:e=>{y&&y(e),L&&L.onBlur&&L.onBlur(e)},ownerState:R,ref:t},M,{children:[(0,g.jsx)(Ye,(0,o.A)({autoFocus:n,checked:r,defaultChecked:A,className:k.input,disabled:P,id:U?p:void 0,name:v,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;I(t),b&&b(e,t)},readOnly:x,ref:m,required:_,ownerState:R,tabIndex:S,type:C},"checkbox"===C&&void 0===E?{}:{value:E},f)),F?i:d]}))})),Je=$e;function Ze(e){return(0,L.Ay)("MuiSwitch",e)}const et=(0,w.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),tt=["className","color","edge","size","sx"],nt=(0,E.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${(0,T.A)(n.edge)}`],t[`size${(0,T.A)(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${et.thumb}`]:{width:16,height:16},[`& .${et.switchBase}`]:{padding:4,[`&.${et.checked}`]:{transform:"translateX(16px)"}}}}]}),rt=(0,E.Ay)(Je,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${et.input}`]:t.input},"default"!==n.color&&t[`color${(0,T.A)(n.color)}`]]}})((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${"light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${et.checked}`]:{transform:"translateX(20px)"},[`&.${et.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${et.checked} + .${et.track}`]:{opacity:.5},[`&.${et.disabled} + .${et.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:""+("light"===t.palette.mode?.12:.2)},[`& .${et.input}`]:{left:"-100%",width:"300%"}}}),(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,F.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${et.checked}`]:{color:(t.vars||t).palette[n].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,F.X4)(t.palette[n].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${et.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${n}DisabledColor`]:`${"light"===t.palette.mode?(0,F.a)(t.palette[n].main,.62):(0,F.e$)(t.palette[n].main,.55)}`}},[`&.${et.checked} + .${et.track}`]:{backgroundColor:(t.vars||t).palette[n].main}}}}))]}})),it=(0,E.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${"light"===t.palette.mode?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:""+("light"===t.palette.mode?.38:.3)}})),ot=(0,E.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),st=t.forwardRef((function(e,t){const n=(0,M.b)({props:e,name:"MuiSwitch"}),{className:r,color:i="primary",edge:l=!1,size:A="medium",sx:c}=n,u=(0,s.A)(n,tt),h=(0,o.A)({},n,{color:i,edge:l,size:A}),d=(e=>{const{classes:t,edge:n,size:r,color:i,checked:s,disabled:a}=e,l={root:["root",n&&`edge${(0,T.A)(n)}`,`size${(0,T.A)(r)}`],switchBase:["switchBase",`color${(0,T.A)(i)}`,s&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},A=(0,B.A)(l,Ze,t);return(0,o.A)({},t,A)})(h),p=(0,g.jsx)(ot,{className:d.thumb,ownerState:h});return(0,g.jsxs)(nt,{className:(0,a.A)(d.root,r),sx:c,ownerState:h,children:[(0,g.jsx)(rt,(0,o.A)({type:"checkbox",icon:p,checkedIcon:p,ref:t,ownerState:h},u,{classes:(0,o.A)({},d,{root:d.switchBase})})),(0,g.jsx)(it,{className:d.track,ownerState:h})]})})),at=st;var lt=n(9751),At=n(5170);function ct(){const e=f(At.A);return e[b.A]||e}const ut=t.createContext();function ht(e){return(0,L.Ay)("MuiGrid",e)}const dt=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],pt=(0,w.A)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>`spacing-xs-${e}`)),...["column-reverse","column","row-reverse","row"].map((e=>`direction-xs-${e}`)),...["nowrap","wrap-reverse","wrap"].map((e=>`wrap-xs-${e}`)),...dt.map((e=>`grid-xs-${e}`)),...dt.map((e=>`grid-sm-${e}`)),...dt.map((e=>`grid-md-${e}`)),...dt.map((e=>`grid-lg-${e}`)),...dt.map((e=>`grid-xl-${e}`))]),ft=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function gt(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function mt(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const i=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return i.slice(0,i.indexOf(r))}const vt=(0,E.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:A}=n;let c=[];r&&(c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach((t=>{const i=e[t];Number(i)>0&&r.push(n[`spacing-${t}-${String(i)}`])})),r}(s,A,t));const u=[];return A.forEach((e=>{const r=n[e];r&&u.push(t[`grid-${e}-${String(r)}`])})),[t.root,r&&t.container,o&&t.item,l&&t.zeroMinWidth,...c,"row"!==i&&t[`direction-xs-${String(i)}`],"wrap"!==a&&t[`wrap-xs-${String(a)}`],...u]}})((e=>{let{ownerState:t}=e;return(0,o.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const r=(0,lt.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,lt.NI)({theme:t},r,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${pt.item}`]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,lt.kW)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=mt({breakpoints:t.breakpoints.values,values:e})),o=(0,lt.NI)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{marginTop:`-${gt(o)}`,[`& > .${pt.item}`]:{paddingTop:gt(o)}}:null!=(i=n)&&i.includes(r)?{}:{marginTop:0,[`& > .${pt.item}`]:{paddingTop:0}}}))}return o}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,lt.kW)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=mt({breakpoints:t.breakpoints.values,values:e})),o=(0,lt.NI)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{width:`calc(100% + ${gt(o)})`,marginLeft:`-${gt(o)}`,[`& > .${pt.item}`]:{paddingLeft:gt(o)}}:null!=(i=n)&&i.includes(r)?{}:{width:"100%",marginLeft:0,[`& > .${pt.item}`]:{paddingLeft:0}}}))}return o}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,i)=>{let s={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=(0,lt.kW)({values:r.columns,breakpoints:n.breakpoints.values}),l="object"===typeof a?a[i]:a;if(void 0===l||null===l)return e;const A=Math.round(t/l*1e8)/1e6+"%";let c={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t=`calc(${A} + ${gt(e)})`;c={flexBasis:t,maxWidth:t}}}s=(0,o.A)({flexBasis:A,flexGrow:0,maxWidth:A},c)}return 0===n.breakpoints.values[i]?Object.assign(e,s):e[n.breakpoints.up(i)]=s,e}),{})}));const yt=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let A=[];n&&(A=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[`spacing-xs-${String(e)}`];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e=`spacing-${t}-${String(r)}`;n.push(e)}})),n}(o,l));const c=[];l.forEach((t=>{const n=e[t];n&&c.push(`grid-${t}-${String(n)}`)}));const u={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...A,"row"!==r&&`direction-xs-${String(r)}`,"wrap"!==s&&`wrap-xs-${String(s)}`,...c]};return(0,B.A)(u,ht,t)},bt=t.forwardRef((function(e,n){const r=(0,M.b)({props:e,name:"MuiGrid"}),{breakpoints:i}=ct(),l=(0,c.A)(r),{className:A,columns:u,columnSpacing:h,component:d="div",container:p=!1,direction:f="row",item:m=!1,rowSpacing:v,spacing:y=0,wrap:b="wrap",zeroMinWidth:w=!1}=l,x=(0,s.A)(l,ft),_=v||y,S=h||y,C=t.useContext(ut),B=p?u||12:C,E={},T=(0,o.A)({},x);i.keys.forEach((e=>{null!=x[e]&&(E[e]=x[e],delete T[e])}));const F=(0,o.A)({},l,{columns:B,container:p,direction:f,item:m,rowSpacing:_,columnSpacing:S,wrap:b,zeroMinWidth:w,spacing:y},E,{breakpoints:i.keys}),I=yt(F);return(0,g.jsx)(ut.Provider,{value:B,children:(0,g.jsx)(vt,(0,o.A)({ownerState:F,className:(0,a.A)(I.root,A),as:d,ref:n},T))})}));const wt=bt;function xt(e){return(0,L.Ay)("MuiCard",e)}(0,w.A)("MuiCard",["root"]);const _t=["className","raised"],St=(0,E.Ay)(N,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),Ct=t.forwardRef((function(e,t){const n=(0,M.b)({props:e,name:"MuiCard"}),{className:r,raised:i=!1}=n,l=(0,s.A)(n,_t),A=(0,o.A)({},n,{raised:i}),c=(e=>{const{classes:t}=e;return(0,B.A)({root:["root"]},xt,t)})(A);return(0,g.jsx)(St,(0,o.A)({className:(0,a.A)(c.root,r),elevation:i?8:void 0,ref:t,ownerState:A},l))})),Bt=Ct;function Et(e){return(0,L.Ay)("MuiCardContent",e)}(0,w.A)("MuiCardContent",["root"]);const Mt=["className","component"],Tt=(0,E.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),Ft=t.forwardRef((function(e,t){const n=(0,M.b)({props:e,name:"MuiCardContent"}),{className:r,component:i="div"}=n,l=(0,s.A)(n,Mt),A=(0,o.A)({},n,{component:i}),c=(e=>{const{classes:t}=e;return(0,B.A)({root:["root"]},Et,t)})(A);return(0,g.jsx)(Tt,(0,o.A)({as:i,className:(0,a.A)(c.root,r),ownerState:A,ref:t},l))})),It=Ft;var Lt=n(3462);const Pt=function(e){return"string"===typeof e};const Ut=function(e,t,n){return void 0===e||Pt(e)?t:(0,o.A)({},t,{ownerState:(0,o.A)({},t.ownerState,n)})};const Rt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const kt=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const Nt=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const e=(0,a.A)(null==n?void 0:n.className,s,null==i?void 0:i.className,null==r?void 0:r.className),t=(0,o.A)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),l=(0,o.A)({},n,i,r);return e.length>0&&(l.className=e),Object.keys(t).length>0&&(l.style=t),{props:l,internalRef:void 0}}const l=Rt((0,o.A)({},i,r)),A=kt(r),c=kt(i),u=t(l),h=(0,a.A)(null==u?void 0:u.className,null==n?void 0:n.className,s,null==i?void 0:i.className,null==r?void 0:r.className),d=(0,o.A)({},null==u?void 0:u.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),p=(0,o.A)({},u,n,c,A);return h.length>0&&(p.className=h),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:u.ref}};const Dt=function(e,t,n){return"function"===typeof e?e(t,n):e},Ot=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const Qt=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:a=!1}=e,l=(0,s.A)(e,Ot),A=a?{}:Dt(r,i),{props:c,internalRef:u}=Nt((0,o.A)({},l,{externalSlotProps:A})),h=(0,Lt.A)(u,null==A?void 0:A.ref,null==(t=e.additionalProps)?void 0:t.ref);return Ut(n,(0,o.A)({},c,{ref:h}),i)};var Ht=n(1668);const zt=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function jt(e){const t=[],n=[];return Array.from(e.querySelectorAll(zt)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function Vt(){return!0}const Wt=function(e){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:s=jt,isEnabled:a=Vt,open:l}=e,A=t.useRef(!1),c=t.useRef(null),u=t.useRef(null),h=t.useRef(null),d=t.useRef(null),p=t.useRef(!1),f=t.useRef(null),m=(0,Lt.A)(n.ref,f),v=t.useRef(null);t.useEffect((()=>{l&&f.current&&(p.current=!r)}),[r,l]),t.useEffect((()=>{if(!l||!f.current)return;const e=(0,Ht.A)(f.current);return f.current.contains(e.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),p.current&&f.current.focus()),()=>{o||(h.current&&h.current.focus&&(A.current=!0,h.current.focus()),h.current=null)}}),[l]),t.useEffect((()=>{if(!l||!f.current)return;const e=(0,Ht.A)(f.current),t=t=>{v.current=t,!i&&a()&&"Tab"===t.key&&e.activeElement===f.current&&t.shiftKey&&(A.current=!0,u.current&&u.current.focus())},n=()=>{const t=f.current;if(null===t)return;if(!e.hasFocus()||!a()||A.current)return void(A.current=!1);if(t.contains(e.activeElement))return;if(i&&e.activeElement!==c.current&&e.activeElement!==u.current)return;if(e.activeElement!==d.current)d.current=null;else if(null!==d.current)return;if(!p.current)return;let n=[];if(e.activeElement!==c.current&&e.activeElement!==u.current||(n=s(f.current)),n.length>0){var r,o;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=v.current)?void 0:o.key)),t=n[0],i=n[n.length-1];"string"!==typeof t&&"string"!==typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[r,i,o,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0};return(0,g.jsxs)(t.Fragment,{children:[(0,g.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:c,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:m,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0,d.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,g.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelEnd"})]})};var Gt=n(7950),Kt=n(4440),qt=n(6564);const Xt=t.forwardRef((function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=t.useState(null),l=(0,Lt.A)(t.isValidElement(r)?r.ref:null,n);if((0,Kt.A)((()=>{o||a(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),(0,Kt.A)((()=>{if(s&&!o)return(0,qt.A)(n,s),()=>{(0,qt.A)(n,null)}}),[n,s,o]),o){if(t.isValidElement(r)){const e={ref:l};return t.cloneElement(r,e)}return(0,g.jsx)(t.Fragment,{children:r})}return(0,g.jsx)(t.Fragment,{children:s?Gt.createPortal(r,s):s})})),Yt=!1;var $t="unmounted",Jt="exited",Zt="entering",en="entered",tn="exiting",nn=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=Jt,r.appearStatus=Zt):i=en:i=t.unmountOnExit||t.mountOnEnter?$t:Jt,r.state={status:i},r.nextCallback=null,r}Z(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===$t?{status:Jt}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Zt&&n!==en&&(t=Zt):n!==Zt&&n!==en||(t=tn)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Zt){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Gt.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Jt&&this.setState({status:$t})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Gt.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||Yt?this.safeSetState({status:en},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:Zt},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:en},(function(){t.props.onEntered(o,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Gt.findDOMNode(this);t&&!Yt?(this.props.onExit(r),this.safeSetState({status:tn},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Jt},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Jt},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Gt.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===$t)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,s.A)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(ee.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function rn(){}nn.contextType=ee,nn.propTypes={},nn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:rn,onEntering:rn,onEntered:rn,onExit:rn,onExiting:rn,onExited:rn},nn.UNMOUNTED=$t,nn.EXITED=Jt,nn.ENTERING=Zt,nn.ENTERED=en,nn.EXITING=tn;const on=nn,sn=e=>e.scrollTop;function an(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}const ln=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],An={entering:{opacity:1},entered:{opacity:1}},cn=t.forwardRef((function(e,n){const r=ct(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:l=!0,children:A,easing:c,in:u,onEnter:h,onEntered:d,onEntering:p,onExit:f,onExited:m,onExiting:v,style:y,timeout:b=i,TransitionComponent:w=on}=e,x=(0,s.A)(e,ln),_=t.useRef(null),S=(0,X.A)(_,A.ref,n),C=e=>t=>{if(e){const n=_.current;void 0===t?e(n):e(n,t)}},B=C(p),E=C(((e,t)=>{sn(e);const n=an({style:y,timeout:b,easing:c},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)})),M=C(d),T=C(v),F=C((e=>{const t=an({style:y,timeout:b,easing:c},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),f&&f(e)})),I=C(m);return(0,g.jsx)(w,(0,o.A)({appear:l,in:u,nodeRef:_,onEnter:E,onEntered:M,onEntering:B,onExit:F,onExited:I,onExiting:T,addEndListener:e=>{a&&a(_.current,e)},timeout:b},x,{children:(e,n)=>t.cloneElement(A,(0,o.A)({style:(0,o.A)({opacity:0,visibility:"exited"!==e||u?void 0:"hidden"},An[e],y,A.props.style),ref:S},n))}))})),un=cn;function hn(e){return(0,L.Ay)("MuiBackdrop",e)}(0,w.A)("MuiBackdrop",["root","invisible"]);const dn=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],pn=(0,E.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,o.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),fn=t.forwardRef((function(e,t){var n,r,i;const l=(0,M.b)({props:e,name:"MuiBackdrop"}),{children:A,className:c,component:u="div",components:h={},componentsProps:d={},invisible:p=!1,open:f,slotProps:m={},slots:v={},TransitionComponent:y=un,transitionDuration:b}=l,w=(0,s.A)(l,dn),x=(0,o.A)({},l,{component:u,invisible:p}),_=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,B.A)(r,hn,t)})(x),S=null!=(n=m.root)?n:d.root;return(0,g.jsx)(y,(0,o.A)({in:f,timeout:b},w,{children:(0,g.jsx)(pn,(0,o.A)({"aria-hidden":!0},S,{as:null!=(r=null!=(i=v.root)?i:h.Root)?r:u,className:(0,a.A)(_.root,c,null==S?void 0:S.className),ownerState:(0,o.A)({},x,null==S?void 0:S.ownerState),classes:_,ref:t,children:A}))}))})),gn=fn;var mn=n(1782),vn=n(2456),yn=n(3940);function bn(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function wn(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function xn(e){return parseInt((0,yn.A)(e).getComputedStyle(e).paddingRight,10)||0}function _n(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&wn(e,i)}))}function Sn(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function Cn(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,Ht.A)(e);return t.body===e?(0,yn.A)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=bn((0,Ht.A)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${xn(r)+e}px`;const t=(0,Ht.A)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${xn(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,Ht.A)(r).body;else{const t=r.parentElement,n=(0,yn.A)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const Bn=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&wn(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);_n(t,e.mount,e.modalRef,r,!0);const i=Sn(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=Sn(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=Cn(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=Sn(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&wn(e.modalRef,t),_n(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&wn(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const En=function(e){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,manager:s=Bn,closeAfterTransition:a=!1,onTransitionEnter:l,onTransitionExited:A,children:c,onClose:u,open:h,rootRef:d}=e,p=t.useRef({}),f=t.useRef(null),g=t.useRef(null),m=(0,Lt.A)(g,d),[v,y]=t.useState(!h),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let w=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(w=!1);const x=()=>(p.current.modalRef=g.current,p.current.mount=f.current,p.current),_=()=>{s.mount(x(),{disableScrollLock:i}),g.current&&(g.current.scrollTop=0)},S=(0,mn.A)((()=>{const e=function(e){return"function"===typeof e?e():e}(n)||(0,Ht.A)(f.current).body;s.add(x(),e),g.current&&_()})),C=t.useCallback((()=>s.isTopModal(x())),[s]),B=(0,mn.A)((e=>{f.current=e,e&&(h&&C()?_():g.current&&wn(g.current,w))})),E=t.useCallback((()=>{s.remove(x(),w)}),[w,s]);t.useEffect((()=>()=>{E()}),[E]),t.useEffect((()=>{h?S():b&&a||E()}),[h,E,b,a,S]);const M=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&C()&&(r||(t.stopPropagation(),u&&u(t,"escapeKeyDown")))},T=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&u&&u(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Rt(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,o.A)({},n,t);return(0,o.A)({role:"presentation"},r,{onKeyDown:M(r),ref:m})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.A)({"aria-hidden":!0},e,{onClick:T(e),open:h})},getTransitionProps:()=>({onEnter:(0,vn.A)((()=>{y(!1),l&&l()}),null==c?void 0:c.props.onEnter),onExited:(0,vn.A)((()=>{y(!0),A&&A(),a&&E()}),null==c?void 0:c.props.onExited)}),rootRef:m,portalRef:B,isTopModal:C,exited:v,hasTransition:b}};function Mn(e){return(0,L.Ay)("MuiModal",e)}(0,w.A)("MuiModal",["root","hidden","backdrop"]);const Tn=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Fn=(0,E.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),In=(0,E.Ay)(gn,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Ln=t.forwardRef((function(e,n){var r,i,l,A,c,u;const h=(0,M.b)({name:"MuiModal",props:e}),{BackdropComponent:d=In,BackdropProps:p,className:f,closeAfterTransition:m=!1,children:v,container:y,component:b,components:w={},componentsProps:x={},disableAutoFocus:_=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:C=!1,disablePortal:E=!1,disableRestoreFocus:T=!1,disableScrollLock:F=!1,hideBackdrop:I=!1,keepMounted:L=!1,onBackdropClick:P,open:U,slotProps:R,slots:k}=h,N=(0,s.A)(h,Tn),D=(0,o.A)({},h,{closeAfterTransition:m,disableAutoFocus:_,disableEnforceFocus:S,disableEscapeKeyDown:C,disablePortal:E,disableRestoreFocus:T,disableScrollLock:F,hideBackdrop:I,keepMounted:L}),{getRootProps:O,getBackdropProps:Q,getTransitionProps:H,portalRef:z,isTopModal:j,exited:V,hasTransition:W}=En((0,o.A)({},D,{rootRef:n})),G=(0,o.A)({},D,{exited:V}),K=(e=>{const{open:t,exited:n,classes:r}=e,i={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,B.A)(i,Mn,r)})(G),q={};if(void 0===v.props.tabIndex&&(q.tabIndex="-1"),W){const{onEnter:e,onExited:t}=H();q.onEnter=e,q.onExited=t}const X=null!=(r=null!=(i=null==k?void 0:k.root)?i:w.Root)?r:Fn,Y=null!=(l=null!=(A=null==k?void 0:k.backdrop)?A:w.Backdrop)?l:d,$=null!=(c=null==R?void 0:R.root)?c:x.root,J=null!=(u=null==R?void 0:R.backdrop)?u:x.backdrop,Z=Qt({elementType:X,externalSlotProps:$,externalForwardedProps:N,getSlotProps:O,additionalProps:{ref:n,as:b},ownerState:G,className:(0,a.A)(f,null==$?void 0:$.className,null==K?void 0:K.root,!G.open&&G.exited&&(null==K?void 0:K.hidden))}),ee=Qt({elementType:Y,externalSlotProps:J,additionalProps:p,getSlotProps:e=>Q((0,o.A)({},e,{onClick:t=>{P&&P(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,a.A)(null==J?void 0:J.className,null==p?void 0:p.className,null==K?void 0:K.backdrop),ownerState:G});return L||U||W&&!V?(0,g.jsx)(Xt,{ref:z,container:y,disablePortal:E,children:(0,g.jsxs)(X,(0,o.A)({},Z,{children:[!I&&d?(0,g.jsx)(Y,(0,o.A)({},ee)):null,(0,g.jsx)(Wt,{disableEnforceFocus:S,disableAutoFocus:_,disableRestoreFocus:T,isEnabled:j,open:U,children:t.cloneElement(v,q)})]}))}):null})),Pn=Ln;var Un=n(5844),Rn=n(9172),kn=n(7868),Nn=n(3468);const Dn=["onChange","maxRows","minRows","style","value"];function On(e){return parseInt(e,10)||0}const Qn={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const Hn=t.forwardRef((function(e,n){const{onChange:r,maxRows:i,minRows:a=1,style:l,value:A}=e,c=(0,s.A)(e,Dn),{current:u}=t.useRef(null!=A),h=t.useRef(null),d=(0,Lt.A)(n,h),p=t.useRef(null),f=t.useRef(null),m=t.useCallback((()=>{const t=h.current,n=(0,yn.A)(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};const r=f.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const o=n.boxSizing,s=On(n.paddingBottom)+On(n.paddingTop),l=On(n.borderBottomWidth)+On(n.borderTopWidth),A=r.scrollHeight;r.value="x";const c=r.scrollHeight;let u=A;a&&(u=Math.max(Number(a)*c,u)),i&&(u=Math.min(Number(i)*c,u)),u=Math.max(u,c);return{outerHeightStyle:u+("border-box"===o?s+l:0),overflowing:Math.abs(u-A)<=1}}),[i,a,e.placeholder]),v=t.useCallback((()=>{const e=m();if(void 0===(t=e)||null===t||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflowing)return;var t;const n=e.outerHeightStyle,r=h.current;p.current!==n&&(p.current=n,r.style.height=`${n}px`),r.style.overflow=e.overflowing?"hidden":""}),[m]);(0,Kt.A)((()=>{const e=()=>{v()};let t;const n=(0,Nn.A)(e),r=h.current,i=(0,yn.A)(r);let o;return i.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(o=new ResizeObserver(e),o.observe(r)),()=>{n.clear(),cancelAnimationFrame(t),i.removeEventListener("resize",n),o&&o.disconnect()}}),[m,v]),(0,Kt.A)((()=>{v()}));return(0,g.jsxs)(t.Fragment,{children:[(0,g.jsx)("textarea",(0,o.A)({value:A,onChange:e=>{u||v(),r&&r(e)},ref:d,rows:a,style:l},c)),(0,g.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:(0,o.A)({},Qn,l,{paddingTop:0,paddingBottom:0})})]})}));function zn(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}var jn=n(5013),Vn=n(869);const Wn=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=f(r),o="function"===typeof t?t(n&&i[n]||i):t;return(0,g.jsx)(Vn.A,{styles:o})};const Gn=function(e){return(0,g.jsx)(Wn,(0,o.A)({},e,{defaultTheme:At.A,themeId:b.A}))};function Kn(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function qn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Kn(e.value)&&""!==e.value||t&&Kn(e.defaultValue)&&""!==e.defaultValue)}function Xn(e){return(0,L.Ay)("MuiInputBase",e)}const Yn=(0,w.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),$n=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Jn=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${(0,T.A)(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Zn=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},er=(0,E.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Jn})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Yn.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,o.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),tr=(0,E.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Zn})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,i=(0,o.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),s={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,o.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Yn.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${Yn.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),nr=(0,g.jsx)(Gn,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),rr=t.forwardRef((function(e,n){var r;const i=(0,M.b)({props:e,name:"MuiInputBase"}),{"aria-describedby":l,autoComplete:A,autoFocus:c,className:u,components:h={},componentsProps:d={},defaultValue:p,disabled:f,disableInjectingGlobalStyles:m,endAdornment:v,fullWidth:y=!1,id:b,inputComponent:w="input",inputProps:x={},inputRef:_,maxRows:S,minRows:C,multiline:E=!1,name:F,onBlur:I,onChange:L,onClick:P,onFocus:U,onKeyDown:R,onKeyUp:k,placeholder:N,readOnly:D,renderSuffix:O,rows:Q,slotProps:H={},slots:z={},startAdornment:j,type:V="text",value:W}=i,G=(0,s.A)(i,$n),K=null!=x.value?x.value:W,{current:q}=t.useRef(null!=K),Y=t.useRef(),$=t.useCallback((e=>{0}),[]),J=(0,X.A)(Y,_,x.ref,$),[Z,ee]=t.useState(!1),te=Ge();const ne=zn({props:i,muiFormControl:te,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ne.focused=te?te.focused:Z,t.useEffect((()=>{!te&&f&&Z&&(ee(!1),I&&I())}),[te,f,Z,I]);const re=te&&te.onFilled,ie=te&&te.onEmpty,oe=t.useCallback((e=>{qn(e)?re&&re():ie&&ie()}),[re,ie]);(0,jn.A)((()=>{q&&oe({value:K})}),[K,oe,q]);t.useEffect((()=>{oe(Y.current)}),[]);let se=w,ae=x;E&&"input"===se&&(ae=Q?(0,o.A)({type:void 0,minRows:Q,maxRows:Q},ae):(0,o.A)({type:void 0,maxRows:S,minRows:C},ae),se=Hn);t.useEffect((()=>{te&&te.setAdornedStart(Boolean(j))}),[te,j]);const le=(0,o.A)({},i,{color:ne.color||"primary",disabled:ne.disabled,endAdornment:v,error:ne.error,focused:ne.focused,formControl:te,fullWidth:y,hiddenLabel:ne.hiddenLabel,multiline:E,size:ne.size,startAdornment:j,type:V}),Ae=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:A,multiline:c,readOnly:u,size:h,startAdornment:d,type:p}=e,f={root:["root",`color${(0,T.A)(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&`size${(0,T.A)(h)}`,c&&"multiline",d&&"adornedStart",o&&"adornedEnd",A&&"hiddenLabel",u&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",c&&"inputMultiline","small"===h&&"inputSizeSmall",A&&"inputHiddenLabel",d&&"inputAdornedStart",o&&"inputAdornedEnd",u&&"readOnly"]};return(0,B.A)(f,Xn,t)})(le),ce=z.root||h.Root||er,ue=H.root||d.root||{},he=z.input||h.Input||tr;return ae=(0,o.A)({},ae,null!=(r=H.input)?r:d.input),(0,g.jsxs)(t.Fragment,{children:[!m&&nr,(0,g.jsxs)(ce,(0,o.A)({},ue,!Pt(ce)&&{ownerState:(0,o.A)({},le,ue.ownerState)},{ref:n,onClick:e=>{Y.current&&e.currentTarget===e.target&&Y.current.focus(),P&&P(e)}},G,{className:(0,a.A)(Ae.root,ue.className,u,D&&"MuiInputBase-readOnly"),children:[j,(0,g.jsx)(We.Provider,{value:null,children:(0,g.jsx)(he,(0,o.A)({ownerState:le,"aria-invalid":ne.error,"aria-describedby":l,autoComplete:A,autoFocus:c,defaultValue:p,disabled:ne.disabled,id:b,onAnimationStart:e=>{oe("mui-auto-fill-cancel"===e.animationName?Y.current:{value:"x"})},name:F,placeholder:N,readOnly:D,required:ne.required,rows:Q,value:K,onKeyDown:R,onKeyUp:k,type:V},ae,!Pt(he)&&{as:se,ownerState:(0,o.A)({},le,ae.ownerState)},{ref:J,className:(0,a.A)(Ae.input,ae.className,D&&"MuiInputBase-readOnly"),onBlur:e=>{I&&I(e),x.onBlur&&x.onBlur(e),te&&te.onBlur?te.onBlur(e):ee(!1)},onChange:function(e){if(!q){const t=e.target||Y.current;if(null==t)throw new Error((0,kn.A)(1));oe({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];x.onChange&&x.onChange(e,...n),L&&L(e,...n)},onFocus:e=>{ne.disabled?e.stopPropagation():(U&&U(e),x.onFocus&&x.onFocus(e),te&&te.onFocus?te.onFocus(e):ee(!0))}}))}),v,O?O((0,o.A)({},ne,{startAdornment:j})):null]}))]})})),ir=rr;function or(e){return(0,L.Ay)("MuiInput",e)}const sr=(0,o.A)({},Yn,(0,w.A)("MuiInput",["root","underline","input"])),ar=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],lr=(0,E.Ay)(er,{shouldForwardProp:e=>(0,je.A)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Jn(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),(0,o.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${sr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${sr.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${sr.disabled}, .${sr.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${sr.disabled}:before`]:{borderBottomStyle:"dotted"}})})),Ar=(0,E.Ay)(tr,{name:"MuiInput",slot:"Input",overridesResolver:Zn})({}),cr=t.forwardRef((function(e,t){var n,r,i,a;const l=(0,M.b)({props:e,name:"MuiInput"}),{disableUnderline:A,components:c={},componentsProps:u,fullWidth:h=!1,inputComponent:d="input",multiline:p=!1,slotProps:f,slots:m={},type:v="text"}=l,y=(0,s.A)(l,ar),b=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},i=(0,B.A)(r,or,t);return(0,o.A)({},t,i)})(l),w={root:{ownerState:{disableUnderline:A}}},x=(null!=f?f:u)?(0,Rn.A)(null!=f?f:u,w):w,_=null!=(n=null!=(r=m.root)?r:c.Root)?n:lr,S=null!=(i=null!=(a=m.input)?a:c.Input)?i:Ar;return(0,g.jsx)(ir,(0,o.A)({slots:{root:_,input:S},slotProps:x,fullWidth:h,inputComponent:d,multiline:p,ref:t,type:v},y,{classes:b}))}));cr.muiName="Input";const ur=cr;function hr(e){return(0,L.Ay)("MuiFilledInput",e)}const dr=(0,o.A)({},Yn,(0,w.A)("MuiFilledInput",["root","underline","input"])),pr=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],fr=(0,E.Ay)(er,{shouldForwardProp:e=>(0,je.A)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Jn(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var r;const i="light"===t.palette.mode,s=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",A=i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,o.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},[`&.${dr.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},[`&.${dr.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:A}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${dr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${dr.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${dr.disabled}, .${dr.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${dr.disabled}:before`]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,o.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),gr=(0,E.Ay)(tr,{name:"MuiFilledInput",slot:"Input",overridesResolver:Zn})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),mr=t.forwardRef((function(e,t){var n,r,i,a;const l=(0,M.b)({props:e,name:"MuiFilledInput"}),{components:A={},componentsProps:c,fullWidth:u=!1,inputComponent:h="input",multiline:d=!1,slotProps:p,slots:f={},type:m="text"}=l,v=(0,s.A)(l,pr),y=(0,o.A)({},l,{fullWidth:u,inputComponent:h,multiline:d,type:m}),b=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},i=(0,B.A)(r,hr,t);return(0,o.A)({},t,i)})(l),w={root:{ownerState:y},input:{ownerState:y}},x=(null!=p?p:c)?(0,Rn.A)(w,null!=p?p:c):w,_=null!=(n=null!=(r=f.root)?r:A.Root)?n:fr,S=null!=(i=null!=(a=f.input)?a:A.Input)?i:gr;return(0,g.jsx)(ir,(0,o.A)({slots:{root:_,input:S},componentsProps:x,fullWidth:u,inputComponent:h,multiline:d,ref:t,type:m},v,{classes:b}))}));mr.muiName="Input";const vr=mr;var yr;const br=["children","classes","className","label","notched"],wr=(0,E.Ay)("fieldset",{shouldForwardProp:je.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),xr=(0,E.Ay)("legend",{shouldForwardProp:je.A})((e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,o.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function _r(e){return(0,L.Ay)("MuiOutlinedInput",e)}const Sr=(0,o.A)({},Yn,(0,w.A)("MuiOutlinedInput",["root","notchedOutline","input"])),Cr=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Br=(0,E.Ay)(er,{shouldForwardProp:e=>(0,je.A)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:Jn})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,o.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Sr.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Sr.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${Sr.focused} .${Sr.notchedOutline}`]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},[`&.${Sr.error} .${Sr.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Sr.disabled} .${Sr.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,o.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),Er=(0,E.Ay)((function(e){const{className:t,label:n,notched:r}=e,i=(0,s.A)(e,br),a=null!=n&&""!==n,l=(0,o.A)({},e,{notched:r,withLabel:a});return(0,g.jsx)(wr,(0,o.A)({"aria-hidden":!0,className:t,ownerState:l},i,{children:(0,g.jsx)(xr,{ownerState:l,children:a?(0,g.jsx)("span",{children:n}):yr||(yr=(0,g.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}})),Mr=(0,E.Ay)(tr,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Zn})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),Tr=t.forwardRef((function(e,n){var r,i,a,l,A;const c=(0,M.b)({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:h=!1,inputComponent:d="input",label:p,multiline:f=!1,notched:m,slots:v={},type:y="text"}=c,b=(0,s.A)(c,Cr),w=(e=>{const{classes:t}=e,n=(0,B.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},_r,t);return(0,o.A)({},t,n)})(c),x=Ge(),_=zn({props:c,muiFormControl:x,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S=(0,o.A)({},c,{color:_.color||"primary",disabled:_.disabled,error:_.error,focused:_.focused,formControl:x,fullWidth:h,hiddenLabel:_.hiddenLabel,multiline:f,size:_.size,type:y}),C=null!=(r=null!=(i=v.root)?i:u.Root)?r:Br,E=null!=(a=null!=(l=v.input)?l:u.Input)?a:Mr;return(0,g.jsx)(ir,(0,o.A)({slots:{root:C,input:E},renderSuffix:e=>(0,g.jsx)(Er,{ownerState:S,className:w.notchedOutline,label:null!=p&&""!==p&&_.required?A||(A=(0,g.jsxs)(t.Fragment,{children:[p,"\u2009","*"]})):p,notched:"undefined"!==typeof m?m:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:h,inputComponent:d,multiline:f,ref:n,type:y},b,{classes:(0,o.A)({},w,{notchedOutline:null})}))}));Tr.muiName="Input";const Fr=Tr;function Ir(e){return(0,L.Ay)("MuiFormLabel",e)}const Lr=(0,w.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Pr=["children","className","color","component","disabled","error","filled","focused","required"],Ur=(0,E.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,o.A)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Lr.focused}`]:{color:(t.vars||t).palette[n.color].main},[`&.${Lr.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Lr.error}`]:{color:(t.vars||t).palette.error.main}})})),Rr=(0,E.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{[`&.${Lr.error}`]:{color:(t.vars||t).palette.error.main}}})),kr=t.forwardRef((function(e,t){const n=(0,M.b)({props:e,name:"MuiFormLabel"}),{children:r,className:i,component:l="label"}=n,A=(0,s.A)(n,Pr),c=zn({props:n,muiFormControl:Ge(),states:["color","required","focused","disabled","error","filled"]}),u=(0,o.A)({},n,{color:c.color||"primary",component:l,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e,l={root:["root",`color${(0,T.A)(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return(0,B.A)(l,Ir,t)})(u);return(0,g.jsxs)(Ur,(0,o.A)({as:l,ownerState:u,className:(0,a.A)(h.root,i),ref:t},A,{children:[r,c.required&&(0,g.jsxs)(Rr,{ownerState:u,"aria-hidden":!0,className:h.asterisk,children:["\u2009","*"]})]}))})),Nr=kr;function Dr(e){return(0,L.Ay)("MuiInputLabel",e)}(0,w.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Or=["disableAnimation","margin","shrink","variant","className"],Qr=(0,E.Ay)(Nr,{shouldForwardProp:e=>(0,je.A)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Lr.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,o.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,o.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,o.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Hr=t.forwardRef((function(e,t){const n=(0,M.b)({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:i,className:l}=n,A=(0,s.A)(n,Or),c=Ge();let u=i;"undefined"===typeof u&&c&&(u=c.filled||c.focused||c.adornedStart);const h=zn({props:n,muiFormControl:c,states:["size","variant","required","focused"]}),d=(0,o.A)({},n,{disableAnimation:r,formControl:c,shrink:u,size:h.size,variant:h.variant,required:h.required,focused:h.focused}),p=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:s,variant:a,required:l}=e,A={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&"normal"!==r&&`size${(0,T.A)(r)}`,a],asterisk:[l&&"asterisk"]},c=(0,B.A)(A,Dr,t);return(0,o.A)({},t,c)})(d);return(0,g.jsx)(Qr,(0,o.A)({"data-shrink":u,ownerState:d,ref:t,className:(0,a.A)(p.root,l)},A,{classes:p}))})),zr=Hr;var jr=n(7328);function Vr(e){return(0,L.Ay)("MuiFormControl",e)}(0,w.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Wr=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Gr=(0,E.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,o.A)({},t.root,t[`margin${(0,T.A)(n.margin)}`],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,o.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),Kr=t.forwardRef((function(e,n){const r=(0,M.b)({props:e,name:"MuiFormControl"}),{children:i,className:l,color:A="primary",component:c="div",disabled:u=!1,error:h=!1,focused:d,fullWidth:p=!1,hiddenLabel:f=!1,margin:m="none",required:v=!1,size:y="medium",variant:b="outlined"}=r,w=(0,s.A)(r,Wr),x=(0,o.A)({},r,{color:A,component:c,disabled:u,error:h,fullWidth:p,hiddenLabel:f,margin:m,required:v,size:y,variant:b}),_=(e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root","none"!==n&&`margin${(0,T.A)(n)}`,r&&"fullWidth"]};return(0,B.A)(i,Vr,t)})(x),[S,C]=t.useState((()=>{let e=!1;return i&&t.Children.forEach(i,(t=>{if(!(0,jr.A)(t,["Input","Select"]))return;const n=(0,jr.A)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[E,F]=t.useState((()=>{let e=!1;return i&&t.Children.forEach(i,(t=>{(0,jr.A)(t,["Input","Select"])&&(qn(t.props,!0)||qn(t.props.inputProps,!0))&&(e=!0)})),e})),[I,L]=t.useState(!1);u&&I&&L(!1);const P=void 0===d||u?I:d;let U;const R=t.useMemo((()=>({adornedStart:S,setAdornedStart:C,color:A,disabled:u,error:h,filled:E,focused:P,fullWidth:p,hiddenLabel:f,size:y,onBlur:()=>{L(!1)},onEmpty:()=>{F(!1)},onFilled:()=>{F(!0)},onFocus:()=>{L(!0)},registerEffect:U,required:v,variant:b})),[S,A,u,h,E,P,p,f,U,v,y,b]);return(0,g.jsx)(We.Provider,{value:R,children:(0,g.jsx)(Gr,(0,o.A)({as:c,ownerState:x,className:(0,a.A)(_.root,l),ref:n},w,{children:i}))})})),qr=Kr;function Xr(e){return(0,L.Ay)("MuiFormHelperText",e)}const Yr=(0,w.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var $r;const Jr=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Zr=(0,E.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${(0,T.A)(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Yr.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Yr.error}`]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),ei=t.forwardRef((function(e,t){const n=(0,M.b)({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:l="p"}=n,A=(0,s.A)(n,Jr),c=zn({props:n,muiFormControl:Ge(),states:["variant","size","disabled","error","filled","focused","required"]}),u=(0,o.A)({},n,{component:l,contained:"filled"===c.variant||"outlined"===c.variant,variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),h=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=e,A={root:["root",i&&"disabled",o&&"error",r&&`size${(0,T.A)(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return(0,B.A)(A,Xr,t)})(u);return(0,g.jsx)(Zr,(0,o.A)({as:l,ownerState:u,className:(0,a.A)(h.root,i),ref:t},A,{children:" "===r?$r||($r=(0,g.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),ti=ei;n(805);var ni=n(2427);const ri=["value"],ii=t.createContext();const oi=()=>{const e=t.useContext(ii);return null!=e&&e},si=function(e){let{value:t}=e,n=(0,s.A)(e,ri);return(0,g.jsx)(ii.Provider,(0,o.A)({value:null==t||t},n))};const ai=t.createContext({});function li(e){return(0,L.Ay)("MuiList",e)}(0,w.A)("MuiList",["root","padding","dense","subheader"]);const Ai=["children","className","component","dense","disablePadding","subheader"],ci=(0,E.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,o.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),ui=t.forwardRef((function(e,n){const r=(0,M.b)({props:e,name:"MuiList"}),{children:i,className:l,component:A="ul",dense:c=!1,disablePadding:u=!1,subheader:h}=r,d=(0,s.A)(r,Ai),p=t.useMemo((()=>({dense:c})),[c]),f=(0,o.A)({},r,{component:A,dense:c,disablePadding:u}),m=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e,o={root:["root",!n&&"padding",r&&"dense",i&&"subheader"]};return(0,B.A)(o,li,t)})(f);return(0,g.jsx)(ai.Provider,{value:p,children:(0,g.jsxs)(ci,(0,o.A)({as:A,className:(0,a.A)(m.root,l),ref:n,ownerState:f},d,{children:[h,i]}))})})),hi=ui,di=bn,pi=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function fi(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function gi(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function mi(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function vi(e,t,n,r,i,o){let s=!1,a=i(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&mi(a,o)&&!t)return a.focus(),!0;a=i(e,a,n)}return!1}const yi=t.forwardRef((function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:a=!1,children:l,className:A,disabledItemsFocusable:c=!1,disableListWrap:u=!1,onKeyDown:h,variant:d="selectedMenu"}=e,p=(0,s.A)(e,pi),f=t.useRef(null),m=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,jn.A)((()=>{i&&f.current.focus()}),[i]),t.useImperativeHandle(r,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!f.current.style.width;if(e.clientHeight<f.current.clientHeight&&r){const t=`${di((0,ni.A)(e))}px`;f.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,f.current.style.width=`calc(100% + ${t})`}return f.current}})),[]);const v=(0,X.A)(f,n);let y=-1;t.Children.forEach(l,((e,n)=>{t.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===y)&&(y=n),y===n&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(y+=1,y>=l.length&&(y=-1))):y===n&&(y+=1,y>=l.length&&(y=-1))}));const b=t.Children.map(l,((e,n)=>{if(n===y){const n={};return a&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(n.tabIndex=0),t.cloneElement(e,n)}return e}));return(0,g.jsx)(hi,(0,o.A)({role:"menu",ref:v,className:A,onKeyDown:e=>{const t=f.current,n=e.key,r=(0,ni.A)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),vi(t,r,u,c,fi);else if("ArrowUp"===n)e.preventDefault(),vi(t,r,u,c,gi);else if("Home"===n)e.preventDefault(),vi(t,null,u,c,fi);else if("End"===n)e.preventDefault(),vi(t,null,u,c,gi);else if(1===n.length){const i=m.current,o=n.toLowerCase(),s=performance.now();i.keys.length>0&&(s-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=s,i.keys.push(o);const a=r&&!i.repeating&&mi(r,i);i.previousKeyMatched&&(a||vi(t,r,!1,c,fi,i))?e.preventDefault():i.previousKeyMatched=!1}h&&h(e)},tabIndex:i?0:-1},p,{children:b}))})),bi=yi;var wi=n(950),xi=n(6078);const _i=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Si(e){return`scale(${e}, ${e**2})`}const Ci={entering:{opacity:1,transform:Si(1)},entered:{opacity:1,transform:"none"}},Bi="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ei=t.forwardRef((function(e,n){const{addEndListener:r,appear:i=!0,children:a,easing:l,in:A,onEnter:c,onEntered:u,onEntering:h,onExit:d,onExited:p,onExiting:f,style:m,timeout:v="auto",TransitionComponent:y=on}=e,b=(0,s.A)(e,_i),w=(0,le.A)(),x=t.useRef(),_=ct(),S=t.useRef(null),C=(0,X.A)(S,a.ref,n),B=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},E=B(h),M=B(((e,t)=>{sn(e);const{duration:n,delay:r,easing:i}=an({style:m,timeout:v,easing:l},{mode:"enter"});let o;"auto"===v?(o=_.transitions.getAutoHeightDuration(e.clientHeight),x.current=o):o=n,e.style.transition=[_.transitions.create("opacity",{duration:o,delay:r}),_.transitions.create("transform",{duration:Bi?o:.666*o,delay:r,easing:i})].join(","),c&&c(e,t)})),T=B(u),F=B(f),I=B((e=>{const{duration:t,delay:n,easing:r}=an({style:m,timeout:v,easing:l},{mode:"exit"});let i;"auto"===v?(i=_.transitions.getAutoHeightDuration(e.clientHeight),x.current=i):i=t,e.style.transition=[_.transitions.create("opacity",{duration:i,delay:n}),_.transitions.create("transform",{duration:Bi?i:.666*i,delay:Bi?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=Si(.75),d&&d(e)})),L=B(p);return(0,g.jsx)(y,(0,o.A)({appear:i,in:A,nodeRef:S,onEnter:M,onEntered:T,onEntering:E,onExit:I,onExited:L,onExiting:F,addEndListener:e=>{"auto"===v&&w.start(x.current||0,e),r&&r(S.current,e)},timeout:"auto"===v?null:v},b,{children:(e,n)=>t.cloneElement(a,(0,o.A)({style:(0,o.A)({opacity:0,transform:Si(.75),visibility:"exited"!==e||A?void 0:"hidden"},Ci[e],m,a.props.style),ref:C},n))}))}));Ei.muiSupportAuto=!0;const Mi=Ei;function Ti(e){return(0,L.Ay)("MuiPopover",e)}(0,w.A)("MuiPopover",["root","paper"]);const Fi=["onEntering"],Ii=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Li=["slotProps"];function Pi(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Ui(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Ri(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?`${e}px`:e)).join(" ")}function ki(e){return"function"===typeof e?e():e}const Ni=(0,E.Ay)(Pn,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Di=(0,E.Ay)(N,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Oi=t.forwardRef((function(e,n){var r,i,l;const A=(0,M.b)({props:e,name:"MuiPopover"}),{action:c,anchorEl:u,anchorOrigin:h={vertical:"top",horizontal:"left"},anchorPosition:d,anchorReference:p="anchorEl",children:f,className:m,container:v,elevation:y=8,marginThreshold:b=16,open:w,PaperProps:x={},slots:_,slotProps:S,transformOrigin:C={vertical:"top",horizontal:"left"},TransitionComponent:E=Mi,transitionDuration:T="auto",TransitionProps:{onEntering:F}={},disableScrollLock:I=!1}=A,L=(0,s.A)(A.TransitionProps,Fi),P=(0,s.A)(A,Ii),U=null!=(r=null==S?void 0:S.paper)?r:x,R=t.useRef(),k=(0,X.A)(R,U.ref),N=(0,o.A)({},A,{anchorOrigin:h,anchorReference:p,elevation:y,marginThreshold:b,externalPaperSlotProps:U,transformOrigin:C,TransitionComponent:E,transitionDuration:T,TransitionProps:L}),D=(e=>{const{classes:t}=e;return(0,B.A)({root:["root"],paper:["paper"]},Ti,t)})(N),O=t.useCallback((()=>{if("anchorPosition"===p)return d;const e=ki(u),t=(e&&1===e.nodeType?e:(0,ni.A)(R.current).body).getBoundingClientRect();return{top:t.top+Pi(t,h.vertical),left:t.left+Ui(t,h.horizontal)}}),[u,h.horizontal,h.vertical,d,p]),Q=t.useCallback((e=>({vertical:Pi(e,C.vertical),horizontal:Ui(e,C.horizontal)})),[C.horizontal,C.vertical]),H=t.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=Q(t);if("none"===p)return{top:null,left:null,transformOrigin:Ri(n)};const r=O();let i=r.top-n.vertical,o=r.left-n.horizontal;const s=i+t.height,a=o+t.width,l=(0,xi.A)(ki(u)),A=l.innerHeight-b,c=l.innerWidth-b;if(null!==b&&i<b){const e=i-b;i-=e,n.vertical+=e}else if(null!==b&&s>A){const e=s-A;i-=e,n.vertical+=e}if(null!==b&&o<b){const e=o-b;o-=e,n.horizontal+=e}else if(a>c){const e=a-c;o-=e,n.horizontal+=e}return{top:`${Math.round(i)}px`,left:`${Math.round(o)}px`,transformOrigin:Ri(n)}}),[u,p,O,Q,b]),[z,j]=t.useState(w),V=t.useCallback((()=>{const e=R.current;if(!e)return;const t=H(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,j(!0)}),[H]);t.useEffect((()=>(I&&window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V))),[u,I,V]);t.useEffect((()=>{w&&V()})),t.useImperativeHandle(c,(()=>w?{updatePosition:()=>{V()}}:null),[w,V]),t.useEffect((()=>{if(!w)return;const e=(0,wi.A)((()=>{V()})),t=(0,xi.A)(u);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[u,w,V]);let W=T;"auto"!==T||E.muiSupportAuto||(W=void 0);const G=v||(u?(0,ni.A)(ki(u)).body:void 0),K=null!=(i=null==_?void 0:_.root)?i:Ni,q=null!=(l=null==_?void 0:_.paper)?l:Di,Y=Qt({elementType:q,externalSlotProps:(0,o.A)({},U,{style:z?U.style:(0,o.A)({},U.style,{opacity:0})}),additionalProps:{elevation:y,ref:k},ownerState:N,className:(0,a.A)(D.paper,null==U?void 0:U.className)}),$=Qt({elementType:K,externalSlotProps:(null==S?void 0:S.root)||{},externalForwardedProps:P,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:G,open:w},ownerState:N,className:(0,a.A)(D.root,m)}),{slotProps:J}=$,Z=(0,s.A)($,Li);return(0,g.jsx)(K,(0,o.A)({},Z,!Pt(K)&&{slotProps:J,disableScrollLock:I},{children:(0,g.jsx)(E,(0,o.A)({appear:!0,in:w,onEntering:(e,t)=>{F&&F(e,t),V()},onExited:()=>{j(!1)},timeout:W},L,{children:(0,g.jsx)(q,(0,o.A)({},Y,{children:f}))}))}))})),Qi=Oi;function Hi(e){return(0,L.Ay)("MuiMenu",e)}(0,w.A)("MuiMenu",["root","paper","list"]);const zi=["onEntering"],ji=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Vi={vertical:"top",horizontal:"right"},Wi={vertical:"top",horizontal:"left"},Gi=(0,E.Ay)(Qi,{shouldForwardProp:e=>(0,je.A)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ki=(0,E.Ay)(Di,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),qi=(0,E.Ay)(bi,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Xi=t.forwardRef((function(e,n){var r,i;const l=(0,M.b)({props:e,name:"MuiMenu"}),{autoFocus:A=!0,children:c,className:u,disableAutoFocusItem:h=!1,MenuListProps:d={},onClose:p,open:f,PaperProps:m={},PopoverClasses:v,transitionDuration:y="auto",TransitionProps:{onEntering:b}={},variant:w="selectedMenu",slots:x={},slotProps:_={}}=l,S=(0,s.A)(l.TransitionProps,zi),C=(0,s.A)(l,ji),E=oi(),T=(0,o.A)({},l,{autoFocus:A,disableAutoFocusItem:h,MenuListProps:d,onEntering:b,PaperProps:m,transitionDuration:y,TransitionProps:S,variant:w}),F=(e=>{const{classes:t}=e;return(0,B.A)({root:["root"],paper:["paper"],list:["list"]},Hi,t)})(T),I=A&&!h&&f,L=t.useRef(null);let P=-1;t.Children.map(c,((e,n)=>{t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===w&&e.props.selected||-1===P)&&(P=n))}));const U=null!=(r=x.paper)?r:Ki,R=null!=(i=_.paper)?i:m,k=Qt({elementType:x.root,externalSlotProps:_.root,ownerState:T,className:[F.root,u]}),N=Qt({elementType:U,externalSlotProps:R,ownerState:T,className:F.paper});return(0,g.jsx)(Gi,(0,o.A)({onClose:p,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?Vi:Wi,slots:{paper:U,root:x.root},slotProps:{root:k,paper:N},open:f,ref:n,transitionDuration:y,TransitionProps:(0,o.A)({onEntering:(e,t)=>{L.current&&L.current.adjustStyleForScrollbar(e,{direction:E?"rtl":"ltr"}),b&&b(e,t)}},S),ownerState:T},C,{classes:v,children:(0,g.jsx)(qi,(0,o.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),p&&p(e,"tabKeyDown"))},actions:L,autoFocus:A&&(-1===P||h),autoFocusItem:I,variant:w},d,{className:(0,a.A)(F.list,d.className),children:c}))}))})),Yi=Xi;function $i(e){return(0,L.Ay)("MuiNativeSelect",e)}const Ji=(0,w.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Zi=["className","disabled","error","IconComponent","inputRef","variant"],eo=e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,o.A)({},n.vars?{backgroundColor:`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Ji.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},to=(0,E.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:je.A,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${Ji.multiple}`]:t.multiple}]}})(eo),no=e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${Ji.disabled}`]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},ro=(0,E.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,T.A)(n.variant)}`],n.open&&t.iconOpen]}})(no),io=t.forwardRef((function(e,n){const{className:r,disabled:i,error:l,IconComponent:A,inputRef:c,variant:u="standard"}=e,h=(0,s.A)(e,Zi),d=(0,o.A)({},e,{disabled:i,variant:u,error:l}),p=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${(0,T.A)(n)}`,o&&"iconOpen",r&&"disabled"]};return(0,B.A)(a,$i,t)})(d);return(0,g.jsxs)(t.Fragment,{children:[(0,g.jsx)(to,(0,o.A)({ownerState:d,className:(0,a.A)(p.select,r),disabled:i,ref:c||n},h)),e.multiple?null:(0,g.jsx)(ro,{as:A,ownerState:d,className:p.icon})]})})),oo=io;var so=n(7123);function ao(e){return(0,L.Ay)("MuiSelect",e)}const lo=(0,w.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Ao;const co=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],uo=(0,E.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${lo.select}`]:t.select},{[`&.${lo.select}`]:t[n.variant]},{[`&.${lo.error}`]:t.error},{[`&.${lo.multiple}`]:t.multiple}]}})(eo,{[`&.${lo.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),ho=(0,E.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,T.A)(n.variant)}`],n.open&&t.iconOpen]}})(no),po=(0,E.Ay)("input",{shouldForwardProp:e=>(0,so.A)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function fo(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function go(e){return null==e||"string"===typeof e&&!e.trim()}const mo=t.forwardRef((function(e,n){var r;const{"aria-describedby":i,"aria-label":l,autoFocus:A,autoWidth:c,children:u,className:h,defaultOpen:d,defaultValue:p,disabled:f,displayEmpty:m,error:v=!1,IconComponent:y,inputRef:b,labelId:w,MenuProps:x={},multiple:_,name:S,onBlur:C,onChange:E,onClose:M,onFocus:F,onOpen:I,open:L,readOnly:P,renderValue:U,SelectDisplayProps:R={},tabIndex:k,value:N,variant:D="standard"}=e,O=(0,s.A)(e,co),[Q,H]=(0,Ve.A)({controlled:N,default:p,name:"Select"}),[z,j]=(0,Ve.A)({controlled:L,default:d,name:"Select"}),V=t.useRef(null),W=t.useRef(null),[G,K]=t.useState(null),{current:q}=t.useRef(null!=L),[Y,$]=t.useState(),J=(0,X.A)(n,b),Z=t.useCallback((e=>{W.current=e,e&&K(e)}),[]),ee=null==G?void 0:G.parentNode;t.useImperativeHandle(J,(()=>({focus:()=>{W.current.focus()},node:V.current,value:Q})),[Q]),t.useEffect((()=>{d&&z&&G&&!q&&($(c?null:ee.clientWidth),W.current.focus())}),[G,c]),t.useEffect((()=>{A&&W.current.focus()}),[A]),t.useEffect((()=>{if(!w)return;const e=(0,ni.A)(W.current).getElementById(w);if(e){const t=()=>{getSelection().isCollapsed&&W.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[w]);const te=(e,t)=>{e?I&&I(t):M&&M(t),q||($(c?null:ee.clientWidth),j(e))},ne=t.Children.toArray(u),re=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(_){n=Array.isArray(Q)?Q.slice():[];const t=Q.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),Q!==n&&(H(n),E)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:S}}),E(i,e)}_||te(!1,t)}},ie=null!==G&&z;let oe,se;delete O["aria-invalid"];const ae=[];let le=!1,Ae=!1;(qn({value:Q})||m)&&(U?oe=U(Q):le=!0);const ce=ne.map((e=>{if(!t.isValidElement(e))return null;let n;if(_){if(!Array.isArray(Q))throw new Error((0,kn.A)(2));n=Q.some((t=>fo(t,e.props.value))),n&&le&&ae.push(e.props.children)}else n=fo(Q,e.props.value),n&&le&&(se=e.props.children);return n&&(Ae=!0),t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:re(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));le&&(oe=_?0===ae.length?null:ae.reduce(((e,t,n)=>(e.push(t),n<ae.length-1&&e.push(", "),e)),[]):se);let ue,he=Y;!c&&q&&G&&(he=ee.clientWidth),ue="undefined"!==typeof k?k:f?null:0;const de=R.id||(S?`mui-component-select-${S}`:void 0),pe=(0,o.A)({},e,{variant:D,value:Q,open:ie,error:v}),fe=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${(0,T.A)(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,B.A)(a,ao,t)})(pe),ge=(0,o.A)({},x.PaperProps,null==(r=x.slotProps)?void 0:r.paper),me=(0,Un.A)();return(0,g.jsxs)(t.Fragment,{children:[(0,g.jsx)(uo,(0,o.A)({ref:Z,tabIndex:ue,role:"combobox","aria-controls":me,"aria-disabled":f?"true":void 0,"aria-expanded":ie?"true":"false","aria-haspopup":"listbox","aria-label":l,"aria-labelledby":[w,de].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:e=>{if(!P){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),te(!0,e))}},onMouseDown:f||P?null:e=>{0===e.button&&(e.preventDefault(),W.current.focus(),te(!0,e))},onBlur:e=>{!ie&&C&&(Object.defineProperty(e,"target",{writable:!0,value:{value:Q,name:S}}),C(e))},onFocus:F},R,{ownerState:pe,className:(0,a.A)(R.className,fe.select,h),id:de,children:go(oe)?Ao||(Ao=(0,g.jsx)("span",{className:"notranslate",children:"\u200b"})):oe})),(0,g.jsx)(po,(0,o.A)({"aria-invalid":v,value:Array.isArray(Q)?Q.join(","):Q,name:S,ref:V,"aria-hidden":!0,onChange:e=>{const t=ne.find((t=>t.props.value===e.target.value));void 0!==t&&(H(t.props.value),E&&E(e,t))},tabIndex:-1,disabled:f,className:fe.nativeInput,autoFocus:A,ownerState:pe},O)),(0,g.jsx)(ho,{as:y,className:fe.icon,ownerState:pe}),(0,g.jsx)(Yi,(0,o.A)({id:`menu-${S||""}`,anchorEl:ee,open:ie,onClose:e=>{te(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},x,{MenuListProps:(0,o.A)({"aria-labelledby":w,role:"listbox","aria-multiselectable":_?"true":void 0,disableListWrap:!0,id:me},x.MenuListProps),slotProps:(0,o.A)({},x.slotProps,{paper:(0,o.A)({},ge,{style:(0,o.A)({minWidth:he},null!=ge?ge.style:null)})}),children:ce}))]})})),vo=mo;var yo=n(9662);const bo=(0,yo.A)((0,g.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),wo=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],xo=["root"],_o={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,je.A)(e)&&"variant"!==e,slot:"Root"},So=(0,E.Ay)(ur,_o)(""),Co=(0,E.Ay)(Fr,_o)(""),Bo=(0,E.Ay)(vr,_o)(""),Eo=t.forwardRef((function(e,n){const r=(0,M.b)({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:l,classes:A={},className:c,defaultOpen:u=!1,displayEmpty:h=!1,IconComponent:d=bo,id:p,input:f,inputProps:m,label:v,labelId:y,MenuProps:b,multiple:w=!1,native:x=!1,onClose:_,onOpen:S,open:C,renderValue:B,SelectDisplayProps:E,variant:T="outlined"}=r,F=(0,s.A)(r,wo),I=x?oo:vo,L=zn({props:r,muiFormControl:Ge(),states:["variant","error"]}),P=L.variant||T,U=(0,o.A)({},r,{variant:P,classes:A}),R=(e=>{const{classes:t}=e;return t})(U),k=(0,s.A)(R,xo),N=f||{standard:(0,g.jsx)(So,{ownerState:U}),outlined:(0,g.jsx)(Co,{label:v,ownerState:U}),filled:(0,g.jsx)(Bo,{ownerState:U})}[P],D=(0,X.A)(n,N.ref);return(0,g.jsx)(t.Fragment,{children:t.cloneElement(N,(0,o.A)({inputComponent:I,inputProps:(0,o.A)({children:l,error:L.error,IconComponent:d,variant:P,type:void 0,multiple:w},x?{id:p}:{autoWidth:i,defaultOpen:u,displayEmpty:h,labelId:y,MenuProps:b,onClose:_,onOpen:S,open:C,renderValue:B,SelectDisplayProps:(0,o.A)({id:p},E)},m,{classes:m?(0,Rn.A)(k,m.classes):k},f?f.props.inputProps:{})},(w&&x||h)&&"outlined"===P?{notched:!0}:{},{ref:D,className:(0,a.A)(N.props.className,c,R.root)},!f&&{variant:P},F))})}));Eo.muiName="Select";const Mo=Eo;function To(e){return(0,L.Ay)("MuiTextField",e)}(0,w.A)("MuiTextField",["root"]);const Fo=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Io={standard:ur,filled:vr,outlined:Fr},Lo=(0,E.Ay)(qr,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Po=t.forwardRef((function(e,t){const n=(0,M.b)({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:l,className:A,color:c="primary",defaultValue:u,disabled:h=!1,error:d=!1,FormHelperTextProps:p,fullWidth:f=!1,helperText:m,id:v,InputLabelProps:y,inputProps:b,InputProps:w,inputRef:x,label:_,maxRows:S,minRows:C,multiline:E=!1,name:T,onBlur:F,onChange:I,onFocus:L,placeholder:P,required:U=!1,rows:R,select:k=!1,SelectProps:N,type:D,value:O,variant:Q="outlined"}=n,H=(0,s.A)(n,Fo),z=(0,o.A)({},n,{autoFocus:i,color:c,disabled:h,error:d,fullWidth:f,multiline:E,required:U,select:k,variant:Q}),j=(e=>{const{classes:t}=e;return(0,B.A)({root:["root"]},To,t)})(z);const V={};"outlined"===Q&&(y&&"undefined"!==typeof y.shrink&&(V.notched=y.shrink),V.label=_),k&&(N&&N.native||(V.id=void 0),V["aria-describedby"]=void 0);const W=(0,Un.A)(v),G=m&&W?`${W}-helper-text`:void 0,K=_&&W?`${W}-label`:void 0,q=Io[Q],X=(0,g.jsx)(q,(0,o.A)({"aria-describedby":G,autoComplete:r,autoFocus:i,defaultValue:u,fullWidth:f,multiline:E,name:T,rows:R,maxRows:S,minRows:C,type:D,value:O,id:W,inputRef:x,onBlur:F,onChange:I,onFocus:L,placeholder:P,inputProps:b},V,w));return(0,g.jsxs)(Lo,(0,o.A)({className:(0,a.A)(j.root,A),disabled:h,error:d,fullWidth:f,ref:t,required:U,color:c,variant:Q,ownerState:z},H,{children:[null!=_&&""!==_&&(0,g.jsx)(zr,(0,o.A)({htmlFor:W,id:K},y,{children:_})),k?(0,g.jsx)(Mo,(0,o.A)({"aria-describedby":G,id:W,labelId:K,value:O,input:X},N,{children:l})):X,m&&(0,g.jsx)(ti,(0,o.A)({id:G},p,{children:m}))]}))})),Uo=Po;var Ro=n(3030);function ko(e){return(0,L.Ay)("MuiButton",e)}const No=(0,w.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const Do=t.createContext({});const Oo=t.createContext(void 0),Qo=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Ho=e=>(0,o.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),zo=(0,E.Ay)(Te,{shouldForwardProp:e=>(0,je.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,T.A)(n.color)}`],t[`size${(0,T.A)(n.size)}`],t[`${n.variant}Size${(0,T.A)(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;const s="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],a="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,o.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,o.A)({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,F.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,F.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:`1px solid ${(t.vars||t).palette[n.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,F.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,o.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${No.focusVisible}`]:(0,o.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${No.disabled}`]:(0,o.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[n.color].mainChannel} / 0.5)`:`1px solid ${(0,F.X4)(t.palette[n.color].main,.5)}`},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:s,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${No.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${No.disabled}`]:{boxShadow:"none"}}})),jo=(0,E.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${(0,T.A)(n.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,o.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Ho(t))})),Vo=(0,E.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${(0,T.A)(n.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,o.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Ho(t))})),Wo=t.forwardRef((function(e,n){const r=t.useContext(Do),i=t.useContext(Oo),l=(0,Ro.A)(r,e),A=(0,M.b)({props:l,name:"MuiButton"}),{children:c,color:u="primary",component:h="button",className:d,disabled:p=!1,disableElevation:f=!1,disableFocusRipple:m=!1,endIcon:v,focusVisibleClassName:y,fullWidth:b=!1,size:w="medium",startIcon:x,type:_,variant:S="text"}=A,C=(0,s.A)(A,Qo),E=(0,o.A)({},A,{color:u,component:h,disabled:p,disableElevation:f,disableFocusRipple:m,fullWidth:b,size:w,type:_,variant:S}),F=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:s,classes:a}=e,l={root:["root",s,`${s}${(0,T.A)(t)}`,`size${(0,T.A)(i)}`,`${s}Size${(0,T.A)(i)}`,`color${(0,T.A)(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${(0,T.A)(i)}`],endIcon:["icon","endIcon",`iconSize${(0,T.A)(i)}`]},A=(0,B.A)(l,ko,a);return(0,o.A)({},a,A)})(E),I=x&&(0,g.jsx)(jo,{className:F.startIcon,ownerState:E,children:x}),L=v&&(0,g.jsx)(Vo,{className:F.endIcon,ownerState:E,children:v}),P=i||"";return(0,g.jsxs)(zo,(0,o.A)({ownerState:E,className:(0,a.A)(r.className,F.root,d,P),component:h,disabled:p,focusRipple:!m,focusVisibleClassName:(0,a.A)(F.focusVisible,y),ref:n,type:_},C,{classes:F,children:[I,c,L]}))})),Go=Wo,Ko=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],qo=["component","slots","slotProps"],Xo=["component"];function Yo(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:a,getSlotOwnerState:l,internalForwardedProps:A}=t,c=(0,s.A)(t,Ko),{component:u,slots:h={[e]:void 0},slotProps:d={[e]:void 0}}=a,p=(0,s.A)(a,qo),f=h[e]||r,g=Dt(d[e],i),m=Nt((0,o.A)({className:n},c,{externalForwardedProps:"root"===e?p:void 0,externalSlotProps:g})),{props:{component:v},internalRef:y}=m,b=(0,s.A)(m.props,Xo),w=(0,Lt.A)(y,null==g?void 0:g.ref,t.ref),x=l?l(b):{},_=(0,o.A)({},i,x),S="root"===e?v||u:v,C=Ut(f,(0,o.A)({},"root"===e&&!u&&!h[e]&&A,"root"!==e&&!h[e]&&A,b,S&&{as:S},{ref:w}),_);return Object.keys(x).forEach((e=>{delete C[e]})),[f,C]}function $o(e){return(0,L.Ay)("MuiAlert",e)}const Jo=(0,w.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Zo=(0,yo.A)((0,g.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),es=(0,yo.A)((0,g.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),ts=(0,yo.A)((0,g.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),ns=(0,yo.A)((0,g.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),rs=(0,yo.A)((0,g.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),is=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],os=(0,E.Ay)(N,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,T.A)(n.color||n.severity)}`]]}})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?F.e$:F.a,r="light"===t.palette.mode?F.a:F.e$;return(0,o.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[i]=e;return{props:{colorSeverity:i,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:r(t.palette[i].light,.9),[`& .${Jo.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:n(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${Jo.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:(0,o.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}}))]})})),ss=(0,E.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),as=(0,E.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),ls=(0,E.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),As={success:(0,g.jsx)(Zo,{fontSize:"inherit"}),warning:(0,g.jsx)(es,{fontSize:"inherit"}),error:(0,g.jsx)(ts,{fontSize:"inherit"}),info:(0,g.jsx)(ns,{fontSize:"inherit"})},cs=t.forwardRef((function(e,t){const n=(0,M.b)({props:e,name:"MuiAlert"}),{action:r,children:i,className:l,closeText:A="Close",color:c,components:u={},componentsProps:h={},icon:d,iconMapping:p=As,onClose:f,role:m="alert",severity:v="success",slotProps:y={},slots:b={},variant:w="standard"}=n,x=(0,s.A)(n,is),_=(0,o.A)({},n,{color:c,severity:v,variant:w,colorSeverity:c||v}),S=(e=>{const{variant:t,color:n,severity:r,classes:i}=e,o={root:["root",`color${(0,T.A)(n||r)}`,`${t}${(0,T.A)(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,B.A)(o,$o,i)})(_),C={slots:(0,o.A)({closeButton:u.CloseButton,closeIcon:u.CloseIcon},b),slotProps:(0,o.A)({},h,y)},[E,F]=Yo("closeButton",{elementType:Re,externalForwardedProps:C,ownerState:_}),[I,L]=Yo("closeIcon",{elementType:rs,externalForwardedProps:C,ownerState:_});return(0,g.jsxs)(os,(0,o.A)({role:m,elevation:0,ownerState:_,className:(0,a.A)(S.root,l),ref:t},x,{children:[!1!==d?(0,g.jsx)(ss,{ownerState:_,className:S.icon,children:d||p[v]||As[v]}):null,(0,g.jsx)(as,{ownerState:_,className:S.message,children:i}),null!=r?(0,g.jsx)(ls,{ownerState:_,className:S.action,children:r}):null,null==r&&f?(0,g.jsx)(ls,{ownerState:_,className:S.action,children:(0,g.jsx)(E,(0,o.A)({size:"small","aria-label":A,title:A,color:"inherit",onClick:f},F,{children:(0,g.jsx)(I,(0,o.A)({fontSize:"small"},L))}))}):null]}))})),us=cs;function hs(e){return(0,L.Ay)("MuiCircularProgress",e)}(0,w.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ds=["className","color","disableShrink","size","style","thickness","value","variant"];let ps,fs,gs,ms,vs=e=>e;const ys=44,bs=(0,ae.i7)(ps||(ps=vs`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),ws=(0,ae.i7)(fs||(fs=vs`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),xs=(0,E.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${(0,T.A)(n.color)}`]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,ae.AH)(gs||(gs=vs`
      animation: ${0} 1.4s linear infinite;
    `),bs)})),_s=(0,E.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Ss=(0,E.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${(0,T.A)(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:n}=e;return(0,o.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,ae.AH)(ms||(ms=vs`
      animation: ${0} 1.4s ease-in-out infinite;
    `),ws)})),Cs=t.forwardRef((function(e,t){const n=(0,M.b)({props:e,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:l=!1,size:A=40,style:c,thickness:u=3.6,value:h=0,variant:d="indeterminate"}=n,p=(0,s.A)(n,ds),f=(0,o.A)({},n,{color:i,disableShrink:l,size:A,thickness:u,value:h,variant:d}),m=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,`color${(0,T.A)(r)}`],svg:["svg"],circle:["circle",`circle${(0,T.A)(n)}`,i&&"circleDisableShrink"]};return(0,B.A)(o,hs,t)})(f),v={},y={},b={};if("determinate"===d){const e=2*Math.PI*((ys-u)/2);v.strokeDasharray=e.toFixed(3),b["aria-valuenow"]=Math.round(h),v.strokeDashoffset=`${((100-h)/100*e).toFixed(3)}px`,y.transform="rotate(-90deg)"}return(0,g.jsx)(xs,(0,o.A)({className:(0,a.A)(m.root,r),style:(0,o.A)({width:A,height:A},y,c),ownerState:f,ref:t,role:"progressbar"},b,p,{children:(0,g.jsx)(_s,{className:m.svg,ownerState:f,viewBox:"22 22 44 44",children:(0,g.jsx)(Ss,{className:m.circle,style:v,ownerState:f,cx:ys,cy:ys,r:(ys-u)/2,fill:"none",strokeWidth:u})})}))})),Bs=Cs;function Es(e){return(0,L.Ay)("MuiTableContainer",e)}(0,w.A)("MuiTableContainer",["root"]);const Ms=["className","component"],Ts=(0,E.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),Fs=t.forwardRef((function(e,t){const n=(0,M.b)({props:e,name:"MuiTableContainer"}),{className:r,component:i="div"}=n,l=(0,s.A)(n,Ms),A=(0,o.A)({},n,{component:i}),c=(e=>{const{classes:t}=e;return(0,B.A)({root:["root"]},Es,t)})(A);return(0,g.jsx)(Ts,(0,o.A)({ref:t,as:i,className:(0,a.A)(c.root,r),ownerState:A},l))})),Is=Fs;const Ls=t.createContext();function Ps(e){return(0,L.Ay)("MuiTable",e)}(0,w.A)("MuiTable",["root","stickyHeader"]);const Us=["className","component","padding","size","stickyHeader"],Rs=(0,E.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,o.A)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},n.stickyHeader&&{borderCollapse:"separate"})})),ks="table",Ns=t.forwardRef((function(e,n){const r=(0,M.b)({props:e,name:"MuiTable"}),{className:i,component:l=ks,padding:A="normal",size:c="medium",stickyHeader:u=!1}=r,h=(0,s.A)(r,Us),d=(0,o.A)({},r,{component:l,padding:A,size:c,stickyHeader:u}),p=(e=>{const{classes:t,stickyHeader:n}=e,r={root:["root",n&&"stickyHeader"]};return(0,B.A)(r,Ps,t)})(d),f=t.useMemo((()=>({padding:A,size:c,stickyHeader:u})),[A,c,u]);return(0,g.jsx)(Ls.Provider,{value:f,children:(0,g.jsx)(Rs,(0,o.A)({as:l,role:l===ks?null:"table",ref:n,className:(0,a.A)(p.root,i),ownerState:d},h))})})),Ds=Ns;const Os=t.createContext();function Qs(e){return(0,L.Ay)("MuiTableHead",e)}(0,w.A)("MuiTableHead",["root"]);const Hs=["className","component"],zs=(0,E.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),js={variant:"head"},Vs="thead",Ws=t.forwardRef((function(e,t){const n=(0,M.b)({props:e,name:"MuiTableHead"}),{className:r,component:i=Vs}=n,l=(0,s.A)(n,Hs),A=(0,o.A)({},n,{component:i}),c=(e=>{const{classes:t}=e;return(0,B.A)({root:["root"]},Qs,t)})(A);return(0,g.jsx)(Os.Provider,{value:js,children:(0,g.jsx)(zs,(0,o.A)({as:i,className:(0,a.A)(c.root,r),ref:t,role:i===Vs?null:"rowgroup",ownerState:A},l))})})),Gs=Ws;function Ks(e){return(0,L.Ay)("MuiTableRow",e)}const qs=(0,w.A)("MuiTableRow",["root","selected","hover","head","footer"]),Xs=["className","component","hover","selected"],Ys=(0,E.Ay)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${qs.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${qs.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,F.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,F.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}})),$s="tr",Js=t.forwardRef((function(e,n){const r=(0,M.b)({props:e,name:"MuiTableRow"}),{className:i,component:l=$s,hover:A=!1,selected:c=!1}=r,u=(0,s.A)(r,Xs),h=t.useContext(Os),d=(0,o.A)({},r,{component:l,hover:A,selected:c,head:h&&"head"===h.variant,footer:h&&"footer"===h.variant}),p=(e=>{const{classes:t,selected:n,hover:r,head:i,footer:o}=e,s={root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]};return(0,B.A)(s,Ks,t)})(d);return(0,g.jsx)(Ys,(0,o.A)({as:l,ref:n,className:(0,a.A)(p.root,i),role:l===$s?null:"row",ownerState:d},u))})),Zs=Js;function ea(e){return(0,L.Ay)("MuiTableCell",e)}const ta=(0,w.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),na=["align","className","component","padding","scope","size","sortDirection","variant"],ra=(0,E.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${(0,T.A)(n.size)}`],"normal"!==n.padding&&t[`padding${(0,T.A)(n.padding)}`],"inherit"!==n.align&&t[`align${(0,T.A)(n.align)}`],n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid\n    ${"light"===t.palette.mode?(0,F.a)((0,F.X4)(t.palette.divider,1),.88):(0,F.e$)((0,F.X4)(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},"head"===n.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===n.variant&&{color:(t.vars||t).palette.text.primary},"footer"===n.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===n.size&&{padding:"6px 16px",[`&.${ta.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===n.padding&&{width:48,padding:"0 0 0 4px"},"none"===n.padding&&{padding:0},"left"===n.align&&{textAlign:"left"},"center"===n.align&&{textAlign:"center"},"right"===n.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===n.align&&{textAlign:"justify"},n.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),ia=t.forwardRef((function(e,n){const r=(0,M.b)({props:e,name:"MuiTableCell"}),{align:i="inherit",className:l,component:A,padding:c,scope:u,size:h,sortDirection:d,variant:p}=r,f=(0,s.A)(r,na),m=t.useContext(Ls),v=t.useContext(Os),y=v&&"head"===v.variant;let b;b=A||(y?"th":"td");let w=u;"td"===b?w=void 0:!w&&y&&(w="col");const x=p||v&&v.variant,_=(0,o.A)({},r,{align:i,component:b,padding:c||(m&&m.padding?m.padding:"normal"),size:h||(m&&m.size?m.size:"medium"),sortDirection:d,stickyHeader:"head"===x&&m&&m.stickyHeader,variant:x}),S=(e=>{const{classes:t,variant:n,align:r,padding:i,size:o,stickyHeader:s}=e,a={root:["root",n,s&&"stickyHeader","inherit"!==r&&`align${(0,T.A)(r)}`,"normal"!==i&&`padding${(0,T.A)(i)}`,`size${(0,T.A)(o)}`]};return(0,B.A)(a,ea,t)})(_);let C=null;return d&&(C="asc"===d?"ascending":"descending"),(0,g.jsx)(ra,(0,o.A)({as:b,ref:n,className:(0,a.A)(S.root,l),"aria-sort":C,scope:w,ownerState:_},f))})),oa=ia;function sa(e){return(0,L.Ay)("MuiTableBody",e)}(0,w.A)("MuiTableBody",["root"]);const aa=["className","component"],la=(0,E.Ay)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),Aa={variant:"body"},ca="tbody",ua=t.forwardRef((function(e,t){const n=(0,M.b)({props:e,name:"MuiTableBody"}),{className:r,component:i=ca}=n,l=(0,s.A)(n,aa),A=(0,o.A)({},n,{component:i}),c=(e=>{const{classes:t}=e;return(0,B.A)({root:["root"]},sa,t)})(A);return(0,g.jsx)(Os.Provider,{value:Aa,children:(0,g.jsx)(la,(0,o.A)({className:(0,a.A)(c.root,r),as:i,ref:t,role:i===ca?null:"rowgroup",ownerState:A},l))})})),ha=ua;const da=(0,w.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const pa=(0,w.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);const fa=(0,w.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function ga(e){return(0,L.Ay)("MuiMenuItem",e)}const ma=(0,w.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),va=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],ya=(0,E.Ay)(Te,{shouldForwardProp:e=>(0,je.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ma.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,F.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${ma.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,F.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${ma.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,F.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,F.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${ma.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${ma.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${da.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${da.inset}`]:{marginLeft:52},[`& .${fa.root}`]:{marginTop:0,marginBottom:0},[`& .${fa.inset}`]:{paddingLeft:36},[`& .${pa.root}`]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,o.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${pa.root} svg`]:{fontSize:"1.25rem"}}))})),ba=t.forwardRef((function(e,n){const r=(0,M.b)({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:l="li",dense:A=!1,divider:c=!1,disableGutters:u=!1,focusVisibleClassName:h,role:d="menuitem",tabIndex:p,className:f}=r,m=(0,s.A)(r,va),v=t.useContext(ai),y=t.useMemo((()=>({dense:A||v.dense||!1,disableGutters:u})),[v.dense,A,u]),b=t.useRef(null);(0,jn.A)((()=>{i&&b.current&&b.current.focus()}),[i]);const w=(0,o.A)({},r,{dense:y.dense,divider:c,disableGutters:u}),x=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:s,classes:a}=e,l={root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},A=(0,B.A)(l,ga,a);return(0,o.A)({},a,A)})(r),_=(0,X.A)(b,n);let S;return r.disabled||(S=void 0!==p?p:-1),(0,g.jsx)(ai.Provider,{value:y,children:(0,g.jsx)(ya,(0,o.A)({ref:_,role:d,tabIndex:S,component:l,focusVisibleClassName:(0,a.A)(x.focusVisible,h),className:(0,a.A)(x.root,f)},m,{ownerState:w,classes:x}))})})),wa=ba,xa=(0,yo.A)((0,g.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),_a=(0,yo.A)((0,g.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),Sa=(0,yo.A)((0,g.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),Ca=(0,yo.A)((0,g.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),Ba=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],Ea=t.forwardRef((function(e,t){var n,r,i,a,l,A,c,u;const{backIconButtonProps:h,count:d,disabled:p=!1,getItemAriaLabel:f,nextIconButtonProps:m,onPageChange:v,page:y,rowsPerPage:b,showFirstButton:w,showLastButton:x,slots:_={},slotProps:S={}}=e,C=(0,s.A)(e,Ba),B=oi(),E=null!=(n=_.firstButton)?n:Re,M=null!=(r=_.lastButton)?r:Re,T=null!=(i=_.nextButton)?i:Re,F=null!=(a=_.previousButton)?a:Re,I=null!=(l=_.firstButtonIcon)?l:Ca,L=null!=(A=_.lastButtonIcon)?A:Sa,P=null!=(c=_.nextButtonIcon)?c:_a,U=null!=(u=_.previousButtonIcon)?u:xa,R=B?M:E,k=B?T:F,N=B?F:T,D=B?E:M,O=B?S.lastButton:S.firstButton,Q=B?S.nextButton:S.previousButton,H=B?S.previousButton:S.nextButton,z=B?S.firstButton:S.lastButton;return(0,g.jsxs)("div",(0,o.A)({ref:t},C,{children:[w&&(0,g.jsx)(R,(0,o.A)({onClick:e=>{v(e,0)},disabled:p||0===y,"aria-label":f("first",y),title:f("first",y)},O,{children:B?(0,g.jsx)(L,(0,o.A)({},S.lastButtonIcon)):(0,g.jsx)(I,(0,o.A)({},S.firstButtonIcon))})),(0,g.jsx)(k,(0,o.A)({onClick:e=>{v(e,y-1)},disabled:p||0===y,color:"inherit","aria-label":f("previous",y),title:f("previous",y)},null!=Q?Q:h,{children:B?(0,g.jsx)(P,(0,o.A)({},S.nextButtonIcon)):(0,g.jsx)(U,(0,o.A)({},S.previousButtonIcon))})),(0,g.jsx)(N,(0,o.A)({onClick:e=>{v(e,y+1)},disabled:p||-1!==d&&y>=Math.ceil(d/b)-1,color:"inherit","aria-label":f("next",y),title:f("next",y)},null!=H?H:m,{children:B?(0,g.jsx)(U,(0,o.A)({},S.previousButtonIcon)):(0,g.jsx)(P,(0,o.A)({},S.nextButtonIcon))})),x&&(0,g.jsx)(D,(0,o.A)({onClick:e=>{v(e,Math.max(0,Math.ceil(d/b)-1))},disabled:p||y>=Math.ceil(d/b)-1,"aria-label":f("last",y),title:f("last",y)},z,{children:B?(0,g.jsx)(I,(0,o.A)({},S.firstButtonIcon)):(0,g.jsx)(L,(0,o.A)({},S.lastButtonIcon))}))]}))})),Ma=Ea;var Ta=n(5879);function Fa(e){return(0,L.Ay)("MuiTablePagination",e)}const Ia=(0,w.A)("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var La;const Pa=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],Ua=(0,E.Ay)(oa,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{overflow:"auto",color:(t.vars||t).palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}}})),Ra=(0,E.Ay)(q,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>(0,o.A)({[`& .${Ia.actions}`]:t.actions},t.toolbar)})((e=>{let{theme:t}=e;return{minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${Ia.actions}`]:{flexShrink:0,marginLeft:20}}})),ka=(0,E.Ay)("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),Na=(0,E.Ay)("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})((e=>{let{theme:t}=e;return(0,o.A)({},t.typography.body2,{flexShrink:0})})),Da=(0,E.Ay)(Mo,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>(0,o.A)({[`& .${Ia.selectIcon}`]:t.selectIcon,[`& .${Ia.select}`]:t.select},t.input,t.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${Ia.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),Oa=(0,E.Ay)(wa,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),Qa=(0,E.Ay)("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})((e=>{let{theme:t}=e;return(0,o.A)({},t.typography.body2,{flexShrink:0})}));function Ha(e){let{from:t,to:n,count:r}=e;return`${t}\u2013${n} of ${-1!==r?r:`more than ${n}`}`}function za(e){return`Go to ${e} page`}const ja=t.forwardRef((function(e,n){var r;const i=(0,M.b)({props:e,name:"MuiTablePagination"}),{ActionsComponent:l=Ma,backIconButtonProps:A,className:c,colSpan:u,component:h=oa,count:d,disabled:p=!1,getItemAriaLabel:f=za,labelDisplayedRows:m=Ha,labelRowsPerPage:v="Rows per page:",nextIconButtonProps:y,onPageChange:b,onRowsPerPageChange:w,page:x,rowsPerPage:_,rowsPerPageOptions:S=[10,25,50,100],SelectProps:C={},showFirstButton:E=!1,showLastButton:T=!1,slotProps:F={},slots:I={}}=i,L=(0,s.A)(i,Pa),P=i,U=(e=>{const{classes:t}=e;return(0,B.A)({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Fa,t)})(P),R=null!=(r=null==F?void 0:F.select)?r:C,k=R.native?"option":Oa;let N;h!==oa&&"td"!==h||(N=u||1e3);const D=(0,Ta.A)(R.id),O=(0,Ta.A)(R.labelId);return(0,g.jsx)(Ua,(0,o.A)({colSpan:N,ref:n,as:h,ownerState:P,className:(0,a.A)(U.root,c)},L,{children:(0,g.jsxs)(Ra,{className:U.toolbar,children:[(0,g.jsx)(ka,{className:U.spacer}),S.length>1&&(0,g.jsx)(Na,{className:U.selectLabel,id:O,children:v}),S.length>1&&(0,g.jsx)(Da,(0,o.A)({variant:"standard"},!R.variant&&{input:La||(La=(0,g.jsx)(ir,{}))},{value:_,onChange:w,id:D,labelId:O},R,{classes:(0,o.A)({},R.classes,{root:(0,a.A)(U.input,U.selectRoot,(R.classes||{}).root),select:(0,a.A)(U.select,(R.classes||{}).select),icon:(0,a.A)(U.selectIcon,(R.classes||{}).icon)}),disabled:p,children:S.map((e=>(0,t.createElement)(k,(0,o.A)({},!Pt(k)&&{ownerState:P},{className:U.menuItem,key:e.label?e.label:e,value:e.value?e.value:e}),e.label?e.label:e)))})),(0,g.jsx)(Qa,{className:U.displayedRows,children:m({from:0===d?0:x*_+1,to:-1===d?(x+1)*_:-1===_?d:Math.min(d,(x+1)*_),count:-1===d?-1:d,page:x})}),(0,g.jsx)(l,{className:U.actions,backIconButtonProps:A,count:d,nextIconButtonProps:y,onPageChange:b,page:x,rowsPerPage:_,showFirstButton:E,showLastButton:T,slotProps:F.actions,slots:I.actions,getItemAriaLabel:f,disabled:p})]})}))})),Va=ja;var Wa=n(9704),Ga=n(4469),Ka=n(9280),qa=n(3761),Xa=n(3702),Ya=n(7260),$a=n(6520),Ja=n(7030),Za=n(4914),el=n(2374);function tl(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function nl(e){return e instanceof tl(e).Element||e instanceof Element}function rl(e){return e instanceof tl(e).HTMLElement||e instanceof HTMLElement}function il(e){return"undefined"!==typeof ShadowRoot&&(e instanceof tl(e).ShadowRoot||e instanceof ShadowRoot)}var ol=Math.max,sl=Math.min,al=Math.round;function ll(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Al(){return!/^((?!chrome|android).)*safari/i.test(ll())}function cl(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&rl(e)&&(i=e.offsetWidth>0&&al(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&al(r.height)/e.offsetHeight||1);var s=(nl(e)?tl(e):window).visualViewport,a=!Al()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/i,A=(r.top+(a&&s?s.offsetTop:0))/o,c=r.width/i,u=r.height/o;return{width:c,height:u,top:A,right:l+c,bottom:A+u,left:l,x:l,y:A}}function ul(e){var t=tl(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function hl(e){return e?(e.nodeName||"").toLowerCase():null}function dl(e){return((nl(e)?e.ownerDocument:e.document)||window.document).documentElement}function pl(e){return cl(dl(e)).left+ul(e).scrollLeft}function fl(e){return tl(e).getComputedStyle(e)}function gl(e){var t=fl(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function ml(e,t,n){void 0===n&&(n=!1);var r=rl(t),i=rl(t)&&function(e){var t=e.getBoundingClientRect(),n=al(t.width)/e.offsetWidth||1,r=al(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=dl(t),s=cl(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==hl(t)||gl(o))&&(a=function(e){return e!==tl(e)&&rl(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:ul(e);var t}(t)),rl(t)?((l=cl(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=pl(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function vl(e){var t=cl(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function yl(e){return"html"===hl(e)?e:e.assignedSlot||e.parentNode||(il(e)?e.host:null)||dl(e)}function bl(e){return["html","body","#document"].indexOf(hl(e))>=0?e.ownerDocument.body:rl(e)&&gl(e)?e:bl(yl(e))}function wl(e,t){var n;void 0===t&&(t=[]);var r=bl(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=tl(r),s=i?[o].concat(o.visualViewport||[],gl(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(wl(yl(s)))}function xl(e){return["table","td","th"].indexOf(hl(e))>=0}function _l(e){return rl(e)&&"fixed"!==fl(e).position?e.offsetParent:null}function Sl(e){for(var t=tl(e),n=_l(e);n&&xl(n)&&"static"===fl(n).position;)n=_l(n);return n&&("html"===hl(n)||"body"===hl(n)&&"static"===fl(n).position)?t:n||function(e){var t=/firefox/i.test(ll());if(/Trident/i.test(ll())&&rl(e)&&"fixed"===fl(e).position)return null;var n=yl(e);for(il(n)&&(n=n.host);rl(n)&&["html","body"].indexOf(hl(n))<0;){var r=fl(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var Cl="top",Bl="bottom",El="right",Ml="left",Tl="auto",Fl=[Cl,Bl,El,Ml],Il="start",Ll="end",Pl="clippingParents",Ul="viewport",Rl="popper",kl="reference",Nl=Fl.reduce((function(e,t){return e.concat([t+"-"+Il,t+"-"+Ll])}),[]),Dl=[].concat(Fl,[Tl]).reduce((function(e,t){return e.concat([t,t+"-"+Il,t+"-"+Ll])}),[]),Ol=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ql(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Hl(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var zl={placement:"bottom",modifiers:[],strategy:"absolute"};function jl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Vl(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?zl:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},zl,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;A(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:nl(e)?wl(e):e.contextElement?wl(e.contextElement):[],popper:wl(t)};var c=function(e){var t=Ql(e);return Ol.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=c.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var a=o({state:i,name:t,instance:l,options:r}),A=function(){};s.push(a||A)}})),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(jl(t,n)){i.rects={reference:ml(t,Sl(n),"fixed"===i.options.strategy),popper:vl(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,A=o.options,c=void 0===A?{}:A,u=o.name;"function"===typeof s&&(i=s({state:i,options:c,name:u,instance:l})||i)}else i.reset=!1,r=-1}}},update:Hl((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){A(),a=!0}};if(!jl(e,t))return l;function A(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var Wl={passive:!0};function Gl(e){return e.split("-")[0]}function Kl(e){return e.split("-")[1]}function ql(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Xl(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?Gl(i):null,s=i?Kl(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case Cl:t={x:a,y:n.y-r.height};break;case Bl:t={x:a,y:n.y+n.height};break;case El:t={x:n.x+n.width,y:l};break;case Ml:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var A=o?ql(o):null;if(null!=A){var c="y"===A?"height":"width";switch(s){case Il:t[A]=t[A]-(n[c]/2-r[c]/2);break;case Ll:t[A]=t[A]+(n[c]/2-r[c]/2)}}return t}var Yl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $l(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,A=e.adaptive,c=e.roundOffsets,u=e.isFixed,h=s.x,d=void 0===h?0:h,p=s.y,f=void 0===p?0:p,g="function"===typeof c?c({x:d,y:f}):{x:d,y:f};d=g.x,f=g.y;var m=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),y=Ml,b=Cl,w=window;if(A){var x=Sl(n),_="clientHeight",S="clientWidth";if(x===tl(n)&&"static"!==fl(x=dl(n)).position&&"absolute"===a&&(_="scrollHeight",S="scrollWidth"),i===Cl||(i===Ml||i===El)&&o===Ll)b=Bl,f-=(u&&x===w&&w.visualViewport?w.visualViewport.height:x[_])-r.height,f*=l?1:-1;if(i===Ml||(i===Cl||i===Bl)&&o===Ll)y=El,d-=(u&&x===w&&w.visualViewport?w.visualViewport.width:x[S])-r.width,d*=l?1:-1}var C,B=Object.assign({position:a},A&&Yl),E=!0===c?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:al(n*i)/i||0,y:al(r*i)/i||0}}({x:d,y:f},tl(n)):{x:d,y:f};return d=E.x,f=E.y,l?Object.assign({},B,((C={})[b]=v?"0":"",C[y]=m?"0":"",C.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+f+"px)":"translate3d("+d+"px, "+f+"px, 0)",C)):Object.assign({},B,((t={})[b]=v?f+"px":"",t[y]=m?d+"px":"",t.transform="",t))}const Jl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=Dl.reduce((function(e,n){return e[n]=function(e,t,n){var r=Gl(e),i=[Ml,Cl].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Ml,El].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],l=a.x,A=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=A),t.modifiersData[r]=s}};var Zl={left:"right",right:"left",bottom:"top",top:"bottom"};function eA(e){return e.replace(/left|right|bottom|top/g,(function(e){return Zl[e]}))}var tA={start:"end",end:"start"};function nA(e){return e.replace(/start|end/g,(function(e){return tA[e]}))}function rA(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&il(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function iA(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oA(e,t,n){return t===Ul?iA(function(e,t){var n=tl(e),r=dl(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var A=Al();(A||!A&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+pl(e),y:l}}(e,n)):nl(t)?function(e,t){var n=cl(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):iA(function(e){var t,n=dl(e),r=ul(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=ol(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=ol(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+pl(e),l=-r.scrollTop;return"rtl"===fl(i||n).direction&&(a+=ol(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(dl(e)))}function sA(e,t,n,r){var i="clippingParents"===t?function(e){var t=wl(yl(e)),n=["absolute","fixed"].indexOf(fl(e).position)>=0&&rl(e)?Sl(e):e;return nl(n)?t.filter((function(e){return nl(e)&&rA(e,n)&&"body"!==hl(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(t,n){var i=oA(e,n,r);return t.top=ol(i.top,t.top),t.right=sl(i.right,t.right),t.bottom=sl(i.bottom,t.bottom),t.left=ol(i.left,t.left),t}),oA(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function aA(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function lA(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function AA(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?Pl:a,A=n.rootBoundary,c=void 0===A?Ul:A,u=n.elementContext,h=void 0===u?Rl:u,d=n.altBoundary,p=void 0!==d&&d,f=n.padding,g=void 0===f?0:f,m=aA("number"!==typeof g?g:lA(g,Fl)),v=h===Rl?kl:Rl,y=e.rects.popper,b=e.elements[p?v:h],w=sA(nl(b)?b:b.contextElement||dl(e.elements.popper),l,c,s),x=cl(e.elements.reference),_=Xl({reference:x,element:y,strategy:"absolute",placement:i}),S=iA(Object.assign({},y,_)),C=h===Rl?S:x,B={top:w.top-C.top+m.top,bottom:C.bottom-w.bottom+m.bottom,left:w.left-C.left+m.left,right:C.right-w.right+m.right},E=e.modifiersData.offset;if(h===Rl&&E){var M=E[i];Object.keys(B).forEach((function(e){var t=[El,Bl].indexOf(e)>=0?1:-1,n=[Cl,Bl].indexOf(e)>=0?"y":"x";B[e]+=M[n]*t}))}return B}const cA={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,A=n.padding,c=n.boundary,u=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,f=n.allowedAutoPlacements,g=t.options.placement,m=Gl(g),v=l||(m===g||!p?[eA(g)]:function(e){if(Gl(e)===Tl)return[];var t=eA(e);return[nA(e),t,nA(t)]}(g)),y=[g].concat(v).reduce((function(e,n){return e.concat(Gl(n)===Tl?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,A=void 0===l?Dl:l,c=Kl(r),u=c?a?Nl:Nl.filter((function(e){return Kl(e)===c})):Fl,h=u.filter((function(e){return A.indexOf(e)>=0}));0===h.length&&(h=u);var d=h.reduce((function(t,n){return t[n]=AA(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[Gl(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:c,rootBoundary:u,padding:A,flipVariations:p,allowedAutoPlacements:f}):n)}),[]),b=t.rects.reference,w=t.rects.popper,x=new Map,_=!0,S=y[0],C=0;C<y.length;C++){var B=y[C],E=Gl(B),M=Kl(B)===Il,T=[Cl,Bl].indexOf(E)>=0,F=T?"width":"height",I=AA(t,{placement:B,boundary:c,rootBoundary:u,altBoundary:h,padding:A}),L=T?M?El:Ml:M?Bl:Cl;b[F]>w[F]&&(L=eA(L));var P=eA(L),U=[];if(o&&U.push(I[E]<=0),a&&U.push(I[L]<=0,I[P]<=0),U.every((function(e){return e}))){S=B,_=!1;break}x.set(B,U)}if(_)for(var R=function(e){var t=y.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},k=p?3:1;k>0;k--){if("break"===R(k))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function uA(e,t,n){return ol(e,sl(t,n))}const hA={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,A=n.rootBoundary,c=n.altBoundary,u=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,f=void 0===p?0:p,g=AA(t,{boundary:l,rootBoundary:A,padding:u,altBoundary:c}),m=Gl(t.placement),v=Kl(t.placement),y=!v,b=ql(m),w="x"===b?"y":"x",x=t.modifiersData.popperOffsets,_=t.rects.reference,S=t.rects.popper,C="function"===typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,B="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,M={x:0,y:0};if(x){if(o){var T,F="y"===b?Cl:Ml,I="y"===b?Bl:El,L="y"===b?"height":"width",P=x[b],U=P+g[F],R=P-g[I],k=d?-S[L]/2:0,N=v===Il?_[L]:S[L],D=v===Il?-S[L]:-_[L],O=t.elements.arrow,Q=d&&O?vl(O):{width:0,height:0},H=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=H[F],j=H[I],V=uA(0,_[L],Q[L]),W=y?_[L]/2-k-V-z-B.mainAxis:N-V-z-B.mainAxis,G=y?-_[L]/2+k+V+j+B.mainAxis:D+V+j+B.mainAxis,K=t.elements.arrow&&Sl(t.elements.arrow),q=K?"y"===b?K.clientTop||0:K.clientLeft||0:0,X=null!=(T=null==E?void 0:E[b])?T:0,Y=P+G-X,$=uA(d?sl(U,P+W-X-q):U,P,d?ol(R,Y):R);x[b]=$,M[b]=$-P}if(a){var J,Z="x"===b?Cl:Ml,ee="x"===b?Bl:El,te=x[w],ne="y"===w?"height":"width",re=te+g[Z],ie=te-g[ee],oe=-1!==[Cl,Ml].indexOf(m),se=null!=(J=null==E?void 0:E[w])?J:0,ae=oe?re:te-_[ne]-S[ne]-se+B.altAxis,le=oe?te+_[ne]+S[ne]-se-B.altAxis:ie,Ae=d&&oe?function(e,t,n){var r=uA(e,t,n);return r>n?n:r}(ae,te,le):uA(d?ae:re,te,d?le:ie);x[w]=Ae,M[w]=Ae-te}t.modifiersData[r]=M}},requiresIfExists:["offset"]};const dA={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Gl(n.placement),l=ql(a),A=[Ml,El].indexOf(a)>=0?"height":"width";if(o&&s){var c=function(e,t){return aA("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:lA(e,Fl))}(i.padding,n),u=vl(o),h="y"===l?Cl:Ml,d="y"===l?Bl:El,p=n.rects.reference[A]+n.rects.reference[l]-s[l]-n.rects.popper[A],f=s[l]-n.rects.reference[l],g=Sl(o),m=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,v=p/2-f/2,y=c[h],b=m-u[A]-c[d],w=m/2-u[A]/2+v,x=uA(y,w,b),_=l;n.modifiersData[r]=((t={})[_]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&rA(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pA(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function fA(e){return[Cl,El,Bl,Ml].some((function(t){return e[t]>=0}))}var gA=Vl({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=tl(t.elements.popper),A=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&A.forEach((function(e){e.addEventListener("scroll",n.update,Wl)})),a&&l.addEventListener("resize",n.update,Wl),function(){o&&A.forEach((function(e){e.removeEventListener("scroll",n.update,Wl)})),a&&l.removeEventListener("resize",n.update,Wl)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Xl({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,A={placement:Gl(t.placement),variation:Kl(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,$l(Object.assign({},A,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,$l(Object.assign({},A,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];rl(i)&&hl(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});rl(r)&&hl(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},Jl,cA,hA,dA,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=AA(t,{elementContext:"reference"}),a=AA(t,{altBoundary:!0}),l=pA(s,r),A=pA(a,i,o),c=fA(l),u=fA(A);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:A,isReferenceHidden:c,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":u})}}]});function mA(e){return(0,L.Ay)("MuiPopper",e)}(0,w.A)("MuiPopper",["root"]);const vA=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],yA=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function bA(e){return"function"===typeof e?e():e}function wA(e){return void 0!==e.nodeType}const xA={},_A=t.forwardRef((function(e,n){var r;const{anchorEl:i,children:a,direction:l,disablePortal:A,modifiers:c,open:u,placement:h,popperOptions:d,popperRef:p,slotProps:f={},slots:m={},TransitionProps:v}=e,y=(0,s.A)(e,vA),b=t.useRef(null),w=(0,Lt.A)(b,n),x=t.useRef(null),_=(0,Lt.A)(x,p),S=t.useRef(_);(0,Kt.A)((()=>{S.current=_}),[_]),t.useImperativeHandle(p,(()=>x.current),[]);const C=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(h,l),[E,M]=t.useState(C),[T,F]=t.useState(bA(i));t.useEffect((()=>{x.current&&x.current.forceUpdate()})),t.useEffect((()=>{i&&F(bA(i))}),[i]),(0,Kt.A)((()=>{if(!T||!u)return;let e=[{name:"preventOverflow",options:{altBoundary:A}},{name:"flip",options:{altBoundary:A}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;M(t.placement)}}];null!=c&&(e=e.concat(c)),d&&null!=d.modifiers&&(e=e.concat(d.modifiers));const t=gA(T,b.current,(0,o.A)({placement:C},d,{modifiers:e}));return S.current(t),()=>{t.destroy(),S.current(null)}}),[T,A,c,u,d,C]);const I={placement:E};null!==v&&(I.TransitionProps=v);const L=(e=>{const{classes:t}=e;return(0,B.A)({root:["root"]},mA,t)})(e),P=null!=(r=m.root)?r:"div",U=Qt({elementType:P,externalSlotProps:f.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:L.root});return(0,g.jsx)(P,(0,o.A)({},U,{children:"function"===typeof a?a(I):a}))})),SA=t.forwardRef((function(e,n){const{anchorEl:r,children:i,container:a,direction:l="ltr",disablePortal:A=!1,keepMounted:c=!1,modifiers:u,open:h,placement:d="bottom",popperOptions:p=xA,popperRef:f,style:m,transition:v=!1,slotProps:y={},slots:b={}}=e,w=(0,s.A)(e,yA),[x,_]=t.useState(!0);if(!c&&!h&&(!v||x))return null;let S;if(a)S=a;else if(r){const e=bA(r);S=e&&wA(e)?(0,Ht.A)(e).body:(0,Ht.A)(null).body}const C=h||!c||v&&!x?void 0:"none",B=v?{in:h,onEnter:()=>{_(!1)},onExited:()=>{_(!0)}}:void 0;return(0,g.jsx)(Xt,{disablePortal:A,container:S,children:(0,g.jsx)(_A,(0,o.A)({anchorEl:r,direction:l,disablePortal:A,modifiers:u,ref:n,open:v?!x:h,placement:d,popperOptions:p,popperRef:f,slotProps:y,slots:b},w,{style:(0,o.A)({position:"fixed",top:0,left:0,display:C},m),TransitionProps:B,children:i}))})})),CA=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],BA=(0,E.Ay)(SA,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),EA=t.forwardRef((function(e,t){var n;const r=(0,el.A)(),i=(0,M.b)({props:e,name:"MuiPopper"}),{anchorEl:a,component:l,components:A,componentsProps:c,container:u,disablePortal:h,keepMounted:d,modifiers:p,open:f,placement:m,popperOptions:v,popperRef:y,transition:b,slots:w,slotProps:x}=i,_=(0,s.A)(i,CA),S=null!=(n=null==w?void 0:w.root)?n:null==A?void 0:A.Root,C=(0,o.A)({anchorEl:a,container:u,disablePortal:h,keepMounted:d,modifiers:p,open:f,placement:m,popperOptions:v,popperRef:y,transition:b},_);return(0,g.jsx)(BA,(0,o.A)({as:l,direction:null==r?void 0:r.direction,slots:{root:S},slotProps:null!=x?x:c},C,{ref:t}))})),MA=EA;function TA(e){return(0,L.Ay)("MuiTooltip",e)}const FA=(0,w.A)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),IA=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const LA=(0,E.Ay)(MA,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((e=>{let{theme:t,ownerState:n,open:r}=e;return(0,o.A)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},n.arrow&&{[`&[data-popper-placement*="bottom"] .${FA.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${FA.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${FA.arrow}`]:(0,o.A)({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${FA.arrow}`]:(0,o.A)({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})})),PA=(0,E.Ay)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${(0,T.A)(n.placement.split("-")[0])}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,F.X4)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:(r=16/14,Math.round(1e5*r)/1e5)+"em",fontWeight:t.typography.fontWeightRegular},{[`.${FA.popper}[data-popper-placement*="left"] &`]:(0,o.A)({transformOrigin:"right center"},n.isRtl?(0,o.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,o.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[`.${FA.popper}[data-popper-placement*="right"] &`]:(0,o.A)({transformOrigin:"left center"},n.isRtl?(0,o.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,o.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[`.${FA.popper}[data-popper-placement*="top"] &`]:(0,o.A)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[`.${FA.popper}[data-popper-placement*="bottom"] &`]:(0,o.A)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})});var r})),UA=(0,E.Ay)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,F.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let RA=!1;const kA=new le.E;let NA={x:0,y:0};function DA(e,t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];t&&t(n,...i),e(n,...i)}}const OA=t.forwardRef((function(e,n){var r,i,l,A,c,u,h,d,p,f,m,v,y,b,w,x,_,S,C;const E=(0,M.b)({props:e,name:"MuiTooltip"}),{arrow:F=!1,children:I,components:L={},componentsProps:P={},describeChild:U=!1,disableFocusListener:R=!1,disableHoverListener:k=!1,disableInteractive:N=!1,disableTouchListener:D=!1,enterDelay:O=100,enterNextDelay:Q=0,enterTouchDelay:H=700,followCursor:z=!1,id:j,leaveDelay:V=0,leaveTouchDelay:W=1500,onClose:G,onOpen:K,open:q,placement:J="bottom",PopperComponent:Z,PopperProps:ee={},slotProps:te={},slots:ne={},title:re,TransitionComponent:ie=Mi,TransitionProps:oe}=E,se=(0,s.A)(E,IA),ae=t.isValidElement(I)?I:(0,g.jsx)("span",{children:I}),Ae=ct(),ce=oi(),[ue,he]=t.useState(),[de,pe]=t.useState(null),fe=t.useRef(!1),ge=N||z,me=(0,le.A)(),ve=(0,le.A)(),ye=(0,le.A)(),be=(0,le.A)(),[we,xe]=(0,Ve.A)({controlled:q,default:!1,name:"Tooltip",state:"open"});let _e=we;const Se=(0,Ta.A)(j),Ce=t.useRef(),Be=(0,Y.A)((()=>{void 0!==Ce.current&&(document.body.style.WebkitUserSelect=Ce.current,Ce.current=void 0),be.clear()}));t.useEffect((()=>Be),[Be]);const Ee=e=>{kA.clear(),RA=!0,xe(!0),K&&!_e&&K(e)},Me=(0,Y.A)((e=>{kA.start(800+V,(()=>{RA=!1})),xe(!1),G&&_e&&G(e),me.start(Ae.transitions.duration.shortest,(()=>{fe.current=!1}))})),Te=e=>{fe.current&&"touchstart"!==e.type||(ue&&ue.removeAttribute("title"),ve.clear(),ye.clear(),O||RA&&Q?ve.start(RA?Q:O,(()=>{Ee(e)})):Ee(e))},Fe=e=>{ve.clear(),ye.start(V,(()=>{Me(e)}))},{isFocusVisibleRef:Ie,onBlur:Le,onFocus:Pe,ref:Ue}=(0,$.A)(),[,Re]=t.useState(!1),ke=e=>{Le(e),!1===Ie.current&&(Re(!1),Fe(e))},Ne=e=>{ue||he(e.currentTarget),Pe(e),!0===Ie.current&&(Re(!0),Te(e))},De=e=>{fe.current=!0;const t=ae.props;t.onTouchStart&&t.onTouchStart(e)},Oe=e=>{De(e),ye.clear(),me.clear(),Be(),Ce.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",be.start(H,(()=>{document.body.style.WebkitUserSelect=Ce.current,Te(e)}))},Qe=e=>{ae.props.onTouchEnd&&ae.props.onTouchEnd(e),Be(),ye.start(W,(()=>{Me(e)}))};t.useEffect((()=>{if(_e)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||Me(e)}}),[Me,_e]);const He=(0,X.A)(ae.ref,Ue,he,n);re||0===re||(_e=!1);const ze=t.useRef(),je={},We="string"===typeof re;U?(je.title=_e||!We||k?null:re,je["aria-describedby"]=_e?Se:null):(je["aria-label"]=We?re:null,je["aria-labelledby"]=_e&&!We?Se:null);const Ge=(0,o.A)({},je,se,ae.props,{className:(0,a.A)(se.className,ae.props.className),onTouchStart:De,ref:He},z?{onMouseMove:e=>{const t=ae.props;t.onMouseMove&&t.onMouseMove(e),NA={x:e.clientX,y:e.clientY},ze.current&&ze.current.update()}}:{});const Ke={};D||(Ge.onTouchStart=Oe,Ge.onTouchEnd=Qe),k||(Ge.onMouseOver=DA(Te,Ge.onMouseOver),Ge.onMouseLeave=DA(Fe,Ge.onMouseLeave),ge||(Ke.onMouseOver=Te,Ke.onMouseLeave=Fe)),R||(Ge.onFocus=DA(Ne,Ge.onFocus),Ge.onBlur=DA(ke,Ge.onBlur),ge||(Ke.onFocus=Ne,Ke.onBlur=ke));const qe=t.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(de),options:{element:de,padding:4}}];return null!=(e=ee.popperOptions)&&e.modifiers&&(t=t.concat(ee.popperOptions.modifiers)),(0,o.A)({},ee.popperOptions,{modifiers:t})}),[de,ee]),Xe=(0,o.A)({},E,{isRtl:ce,arrow:F,disableInteractive:ge,placement:J,PopperComponentProp:Z,touch:fe.current}),Ye=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${(0,T.A)(o.split("-")[0])}`],arrow:["arrow"]};return(0,B.A)(s,TA,t)})(Xe),$e=null!=(r=null!=(i=ne.popper)?i:L.Popper)?r:LA,Je=null!=(l=null!=(A=null!=(c=ne.transition)?c:L.Transition)?A:ie)?l:Mi,Ze=null!=(u=null!=(h=ne.tooltip)?h:L.Tooltip)?u:PA,et=null!=(d=null!=(p=ne.arrow)?p:L.Arrow)?d:UA,tt=Ut($e,(0,o.A)({},ee,null!=(f=te.popper)?f:P.popper,{className:(0,a.A)(Ye.popper,null==ee?void 0:ee.className,null==(m=null!=(v=te.popper)?v:P.popper)?void 0:m.className)}),Xe),nt=Ut(Je,(0,o.A)({},oe,null!=(y=te.transition)?y:P.transition),Xe),rt=Ut(Ze,(0,o.A)({},null!=(b=te.tooltip)?b:P.tooltip,{className:(0,a.A)(Ye.tooltip,null==(w=null!=(x=te.tooltip)?x:P.tooltip)?void 0:w.className)}),Xe),it=Ut(et,(0,o.A)({},null!=(_=te.arrow)?_:P.arrow,{className:(0,a.A)(Ye.arrow,null==(S=null!=(C=te.arrow)?C:P.arrow)?void 0:S.className)}),Xe);return(0,g.jsxs)(t.Fragment,{children:[t.cloneElement(ae,Ge),(0,g.jsx)($e,(0,o.A)({as:null!=Z?Z:MA,placement:J,anchorEl:z?{getBoundingClientRect:()=>({top:NA.y,left:NA.x,right:NA.x,bottom:NA.y,width:0,height:0})}:ue,popperRef:ze,open:!!ue&&_e,id:Se,transition:!0},Ke,tt,{popperOptions:qe,children:e=>{let{TransitionProps:t}=e;return(0,g.jsx)(Je,(0,o.A)({timeout:Ae.transitions.duration.shorter},t,nt,{children:(0,g.jsxs)(Ze,(0,o.A)({},rt,{children:[re,F?(0,g.jsx)(et,(0,o.A)({},it,{ref:pe})):null]}))}))}}))]})})),QA=OA,HA="164",zA={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},jA={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},VA=0,WA=1,GA=2,KA=3,qA=0,XA=1,YA=2,$A=3,JA=0,ZA=1,ec=2,tc=0,nc=1,rc=2,ic=3,oc=4,sc=5,ac=100,lc=101,Ac=102,cc=103,uc=104,hc=200,dc=201,pc=202,fc=203,gc=204,mc=205,vc=206,yc=207,bc=208,wc=209,xc=210,_c=211,Sc=212,Cc=213,Bc=214,Ec=0,Mc=1,Tc=2,Fc=3,Ic=4,Lc=5,Pc=6,Uc=7,Rc=0,kc=1,Nc=2,Dc=0,Oc=1,Qc=2,Hc=3,zc=4,jc=5,Vc=6,Wc=7,Gc="attached",Kc="detached",qc=300,Xc=301,Yc=302,$c=303,Jc=304,Zc=306,eu=1e3,tu=1001,nu=1002,ru=1003,iu=1004,ou=1004,su=1005,au=1005,lu=1006,Au=1007,cu=1007,uu=1008,hu=1008,du=1009,pu=1010,fu=1011,gu=1012,mu=1013,vu=1014,yu=1015,bu=1016,wu=1017,xu=1018,_u=1020,Su=35902,Cu=1021,Bu=1022,Eu=1023,Mu=1024,Tu=1025,Fu=1026,Iu=1027,Lu=1028,Pu=1029,Uu=1030,Ru=1031,ku=1033,Nu=33776,Du=33777,Ou=33778,Qu=33779,Hu=35840,zu=35841,ju=35842,Vu=35843,Wu=36196,Gu=37492,Ku=37496,qu=37808,Xu=37809,Yu=37810,$u=37811,Ju=37812,Zu=37813,eh=37814,th=37815,nh=37816,rh=37817,ih=37818,oh=37819,sh=37820,ah=37821,lh=36492,Ah=36494,ch=36495,uh=36283,hh=36284,dh=36285,ph=36286,fh=2200,gh=2201,mh=2202,vh=2300,yh=2301,bh=2302,wh=2400,xh=2401,_h=2402,Sh=2500,Ch=2501,Bh=0,Eh=1,Mh=2,Th=3200,Fh=3201,Ih=0,Lh=1,Ph="",Uh="srgb",Rh="srgb-linear",kh="display-p3",Nh="display-p3-linear",Dh="linear",Oh="srgb",Qh="rec709",Hh="p3",zh=0,jh=7680,Vh=7681,Wh=7682,Gh=7683,Kh=34055,qh=34056,Xh=5386,Yh=512,$h=513,Jh=514,Zh=515,ed=516,td=517,nd=518,rd=519,id=512,od=513,sd=514,ad=515,ld=516,Ad=517,cd=518,ud=519,hd=35044,dd=35048,pd=35040,fd=35045,gd=35049,md=35041,vd=35046,yd=35050,bd=35042,wd="100",xd="300 es",_d=2e3,Sd=2001;class Cd{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}const Bd=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Ed=1234567;const Md=Math.PI/180,Td=180/Math.PI;function Fd(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Bd[255&e]+Bd[e>>8&255]+Bd[e>>16&255]+Bd[e>>24&255]+"-"+Bd[255&t]+Bd[t>>8&255]+"-"+Bd[t>>16&15|64]+Bd[t>>24&255]+"-"+Bd[63&n|128]+Bd[n>>8&255]+"-"+Bd[n>>16&255]+Bd[n>>24&255]+Bd[255&r]+Bd[r>>8&255]+Bd[r>>16&255]+Bd[r>>24&255]).toLowerCase()}function Id(e,t,n){return Math.max(t,Math.min(n,e))}function Ld(e,t){return(e%t+t)%t}function Pd(e,t,n){return(1-n)*e+n*t}function Ud(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Rd(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const kd={DEG2RAD:Md,RAD2DEG:Td,generateUUID:Fd,clamp:Id,euclideanModulo:Ld,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Pd,damp:function(e,t,n,r){return Pd(e,t,1-Math.exp(-n*r))},pingpong:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Ld(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Ed=e);let t=Ed+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Md},radToDeg:function(e){return e*Td},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){const o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),A=o((t+r)/2),c=s((t+r)/2),u=o((t-r)/2),h=s((t-r)/2),d=o((r-t)/2),p=s((r-t)/2);switch(i){case"XYX":e.set(a*c,l*u,l*h,a*A);break;case"YZY":e.set(l*h,a*c,l*u,a*A);break;case"ZXZ":e.set(l*u,l*h,a*c,a*A);break;case"XZX":e.set(a*c,l*p,l*d,a*A);break;case"YXY":e.set(l*d,a*c,l*p,a*A);break;case"ZYZ":e.set(l*p,l*d,a*c,a*A);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:Rd,denormalize:Ud};class Nd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Nd.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Id(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Dd{constructor(e,t,n,r,i,o,s,a,l){Dd.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,s,a,l)}set(e,t,n,r,i,o,s,a,l){const A=this.elements;return A[0]=e,A[1]=r,A[2]=s,A[3]=t,A[4]=i,A[5]=a,A[6]=n,A[7]=o,A[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],s=n[3],a=n[6],l=n[1],A=n[4],c=n[7],u=n[2],h=n[5],d=n[8],p=r[0],f=r[3],g=r[6],m=r[1],v=r[4],y=r[7],b=r[2],w=r[5],x=r[8];return i[0]=o*p+s*m+a*b,i[3]=o*f+s*v+a*w,i[6]=o*g+s*y+a*x,i[1]=l*p+A*m+c*b,i[4]=l*f+A*v+c*w,i[7]=l*g+A*y+c*x,i[2]=u*p+h*m+d*b,i[5]=u*f+h*v+d*w,i[8]=u*g+h*y+d*x,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],l=e[7],A=e[8];return t*o*A-t*s*l-n*i*A+n*s*a+r*i*l-r*o*a}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],l=e[7],A=e[8],c=A*o-s*l,u=s*a-A*i,h=l*i-o*a,d=t*c+n*u+r*h;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);const p=1/d;return e[0]=c*p,e[1]=(r*l-A*n)*p,e[2]=(s*n-r*o)*p,e[3]=u*p,e[4]=(A*t-r*a)*p,e[5]=(r*i-s*t)*p,e[6]=h*p,e[7]=(n*a-l*t)*p,e[8]=(o*t-n*i)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,o,s){const a=Math.cos(i),l=Math.sin(i);return this.set(n*a,n*l,-n*(a*o+l*s)+o+e,-r*l,r*a,-r*(-l*o+a*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(Od.makeScale(e,t)),this}rotate(e){return this.premultiply(Od.makeRotation(-e)),this}translate(e,t){return this.premultiply(Od.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Od=new Dd;function Qd(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const Hd={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function zd(e,t){return new Hd[e](t)}function jd(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Vd(){const e=jd("canvas");return e.style.display="block",e}const Wd={};function Gd(e){e in Wd||(Wd[e]=!0,console.warn(e))}const Kd=(new Dd).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),qd=(new Dd).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Xd={[Rh]:{transfer:Dh,primaries:Qh,toReference:e=>e,fromReference:e=>e},[Uh]:{transfer:Oh,primaries:Qh,toReference:e=>e.convertSRGBToLinear(),fromReference:e=>e.convertLinearToSRGB()},[Nh]:{transfer:Dh,primaries:Hh,toReference:e=>e.applyMatrix3(qd),fromReference:e=>e.applyMatrix3(Kd)},[kh]:{transfer:Oh,primaries:Hh,toReference:e=>e.convertSRGBToLinear().applyMatrix3(qd),fromReference:e=>e.applyMatrix3(Kd).convertLinearToSRGB()}},Yd=new Set([Rh,Nh]),$d={enabled:!0,_workingColorSpace:Rh,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!Yd.has(e))throw new Error(`Unsupported working color space, "${e}".`);this._workingColorSpace=e},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;const r=Xd[t].toReference;return(0,Xd[n].fromReference)(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return Xd[e].primaries},getTransfer:function(e){return e===Ph?Dh:Xd[e].transfer}};function Jd(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Zd(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let ep;class tp{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===ep&&(ep=jd("canvas")),ep.width=e.width,ep.height=e.height;const n=ep.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=ep}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=jd("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*Jd(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*Jd(t[e]/255)):t[e]=Jd(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let np=0;class rp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isSource=!0,Object.defineProperty(this,"id",{value:np++}),this.uuid=Fd(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(ip(r[t].image)):e.push(ip(r[t]))}else e=ip(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function ip(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?tp.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let op=0;class sp extends Cd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sp.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sp.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tu,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:tu,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:lu,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:uu,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Eu,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:du,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:sp.DEFAULT_ANISOTROPY,A=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Ph;super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:op++}),this.uuid=Fd(),this.name="",this.source=new rp(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=o,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=a,this.offset=new Nd(0,0),this.repeat=new Nd(1,1),this.center=new Nd(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Dd,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=A,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e){void 0===e&&(e=null),this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==qc)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case eu:e.x=e.x-Math.floor(e.x);break;case tu:e.x=e.x<0?0:1;break;case nu:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case eu:e.y=e.y-Math.floor(e.y);break;case tu:e.y=e.y<0?0:1;break;case nu:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}sp.DEFAULT_IMAGE=null,sp.DEFAULT_MAPPING=qc,sp.DEFAULT_ANISOTROPY=1;class ap{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;ap.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const o=.01,s=.1,a=e.elements,l=a[0],A=a[4],c=a[8],u=a[1],h=a[5],d=a[9],p=a[2],f=a[6],g=a[10];if(Math.abs(A-u)<o&&Math.abs(c-p)<o&&Math.abs(d-f)<o){if(Math.abs(A+u)<s&&Math.abs(c+p)<s&&Math.abs(d+f)<s&&Math.abs(l+h+g-3)<s)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,a=(h+1)/2,m=(g+1)/2,v=(A+u)/4,y=(c+p)/4,b=(d+f)/4;return e>a&&e>m?e<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=v/n,i=y/n):a>m?a<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(a),n=v/r,i=b/r):m<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(m),n=y/i,r=b/i),this.set(n,r,i,t),this}let m=Math.sqrt((f-d)*(f-d)+(c-p)*(c-p)+(u-A)*(u-A));return Math.abs(m)<.001&&(m=1),this.x=(f-d)/m,this.y=(c-p)/m,this.z=(u-A)/m,this.w=Math.acos((l+h+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class lp extends Cd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new ap(0,0,e,t),this.scissorTest=!1,this.viewport=new ap(0,0,e,t);const r={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:lu,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const i=new sp(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);i.flipY=!1,i.generateMipmaps=n.generateMipmaps,i.internalFormat=n.internalFormat,this.textures=[];const o=n.count;for(let s=0;s<o;s++)this.textures[s]=i.clone(),this.textures[s].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.textures.length;r<i;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new rp(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ap extends lp{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),this.isWebGLRenderTarget=!0}}class cp extends sp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=ru,this.minFilter=ru,this.wrapR=tu,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class up extends Ap{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new cp(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class hp extends sp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=ru,this.minFilter=ru,this.wrapR=tu,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class dp extends Ap{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new hp(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class pp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,o,s){let a=n[r+0],l=n[r+1],A=n[r+2],c=n[r+3];const u=i[o+0],h=i[o+1],d=i[o+2],p=i[o+3];if(0===s)return e[t+0]=a,e[t+1]=l,e[t+2]=A,void(e[t+3]=c);if(1===s)return e[t+0]=u,e[t+1]=h,e[t+2]=d,void(e[t+3]=p);if(c!==p||a!==u||l!==h||A!==d){let e=1-s;const t=a*u+l*h+A*d+c*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,t*n);e=Math.sin(e*o)/i,s=Math.sin(s*o)/i}const i=s*n;if(a=a*e+u*i,l=l*e+h*i,A=A*e+d*i,c=c*e+p*i,e===1-s){const e=1/Math.sqrt(a*a+l*l+A*A+c*c);a*=e,l*=e,A*=e,c*=e}}e[t]=a,e[t+1]=l,e[t+2]=A,e[t+3]=c}static multiplyQuaternionsFlat(e,t,n,r,i,o){const s=n[r],a=n[r+1],l=n[r+2],A=n[r+3],c=i[o],u=i[o+1],h=i[o+2],d=i[o+3];return e[t]=s*d+A*c+a*h-l*u,e[t+1]=a*d+A*u+l*c-s*h,e[t+2]=l*d+A*h+s*u-a*c,e[t+3]=A*d-s*c-a*u-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e._x,r=e._y,i=e._z,o=e._order,s=Math.cos,a=Math.sin,l=s(n/2),A=s(r/2),c=s(i/2),u=a(n/2),h=a(r/2),d=a(i/2);switch(o){case"XYZ":this._x=u*A*c+l*h*d,this._y=l*h*c-u*A*d,this._z=l*A*d+u*h*c,this._w=l*A*c-u*h*d;break;case"YXZ":this._x=u*A*c+l*h*d,this._y=l*h*c-u*A*d,this._z=l*A*d-u*h*c,this._w=l*A*c+u*h*d;break;case"ZXY":this._x=u*A*c-l*h*d,this._y=l*h*c+u*A*d,this._z=l*A*d+u*h*c,this._w=l*A*c-u*h*d;break;case"ZYX":this._x=u*A*c-l*h*d,this._y=l*h*c+u*A*d,this._z=l*A*d-u*h*c,this._w=l*A*c+u*h*d;break;case"YZX":this._x=u*A*c+l*h*d,this._y=l*h*c+u*A*d,this._z=l*A*d-u*h*c,this._w=l*A*c-u*h*d;break;case"XZY":this._x=u*A*c-l*h*d,this._y=l*h*c-u*A*d,this._z=l*A*d+u*h*c,this._w=l*A*c+u*h*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],s=t[5],a=t[9],l=t[2],A=t[6],c=t[10],u=n+s+c;if(u>0){const e=.5/Math.sqrt(u+1);this._w=.25/e,this._x=(A-a)*e,this._y=(i-l)*e,this._z=(o-r)*e}else if(n>s&&n>c){const e=2*Math.sqrt(1+n-s-c);this._w=(A-a)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(i+l)/e}else if(s>c){const e=2*Math.sqrt(1+s-n-c);this._w=(i-l)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(a+A)/e}else{const e=2*Math.sqrt(1+c-n-s);this._w=(o-r)/e,this._x=(i+l)/e,this._y=(a+A)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Id(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,o=e._w,s=t._x,a=t._y,l=t._z,A=t._w;return this._x=n*A+o*s+r*l-i*a,this._y=r*A+o*a+i*s-n*l,this._z=i*A+o*l+n*a-r*s,this._w=o*A-n*s-r*a-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,o=this._w;let s=o*e._w+n*e._x+r*e._y+i*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const a=1-s*s;if(a<=Number.EPSILON){const e=1-t;return this._w=e*o+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this}const l=Math.sqrt(a),A=Math.atan2(l,s),c=Math.sin((1-t)*A)/l,u=Math.sin(t*A)/l;return this._w=o*c+this._w*u,this._x=n*c+this._x*u,this._y=r*c+this._y*u,this._z=i*c+this._z*u,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class fp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;fp.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(mp.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(mp.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,s=e.z,a=e.w,l=2*(o*r-s*n),A=2*(s*t-i*r),c=2*(i*n-o*t);return this.x=t+a*l+o*c-s*A,this.y=n+a*A+s*l-i*c,this.z=r+a*c+i*A-o*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,o=t.x,s=t.y,a=t.z;return this.x=r*a-i*s,this.y=i*o-n*a,this.z=n*s-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return gp.copy(this).projectOnVector(e),this.sub(gp)}reflect(e){return this.sub(gp.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Id(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const gp=new fp,mp=new pp;class vp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fp(1/0,1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fp(-1/0,-1/0,-1/0);this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(bp.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(bp.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=bp.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(let t=0,n=r.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,bp):bp.fromBufferAttribute(r,t),bp.applyMatrix4(e.matrixWorld),this.expandByPoint(bp);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),wp.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),wp.copy(n.boundingBox)),wp.applyMatrix4(e.matrixWorld),this.union(wp)}const r=e.children;for(let i=0,o=r.length;i<o;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,bp),bp.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Mp),Tp.subVectors(this.max,Mp),xp.subVectors(e.a,Mp),_p.subVectors(e.b,Mp),Sp.subVectors(e.c,Mp),Cp.subVectors(_p,xp),Bp.subVectors(Sp,_p),Ep.subVectors(xp,Sp);let t=[0,-Cp.z,Cp.y,0,-Bp.z,Bp.y,0,-Ep.z,Ep.y,Cp.z,0,-Cp.x,Bp.z,0,-Bp.x,Ep.z,0,-Ep.x,-Cp.y,Cp.x,0,-Bp.y,Bp.x,0,-Ep.y,Ep.x,0];return!!Lp(t,xp,_p,Sp,Tp)&&(t=[1,0,0,0,1,0,0,0,1],!!Lp(t,xp,_p,Sp,Tp)&&(Fp.crossVectors(Cp,Bp),t=[Fp.x,Fp.y,Fp.z],Lp(t,xp,_p,Sp,Tp)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,bp).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(bp).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(yp[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),yp[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),yp[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),yp[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),yp[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),yp[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),yp[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),yp[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(yp)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const yp=[new fp,new fp,new fp,new fp,new fp,new fp,new fp,new fp],bp=new fp,wp=new vp,xp=new fp,_p=new fp,Sp=new fp,Cp=new fp,Bp=new fp,Ep=new fp,Mp=new fp,Tp=new fp,Fp=new fp,Ip=new fp;function Lp(e,t,n,r,i){for(let o=0,s=e.length-3;o<=s;o+=3){Ip.fromArray(e,o);const s=i.x*Math.abs(Ip.x)+i.y*Math.abs(Ip.y)+i.z*Math.abs(Ip.z),a=t.dot(Ip),l=n.dot(Ip),A=r.dot(Ip);if(Math.max(-Math.max(a,l,A),Math.min(a,l,A))>s)return!1}return!0}const Pp=new vp,Up=new fp,Rp=new fp;class kp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fp,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Pp.setFromPoints(e).getCenter(n);let r=0;for(let i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Up.subVectors(e,this.center);const t=Up.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(Up,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Rp.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Up.copy(e.center).add(Rp)),this.expandByPoint(Up.copy(e.center).sub(Rp))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Np=new fp,Dp=new fp,Op=new fp,Qp=new fp,Hp=new fp,zp=new fp,jp=new fp;class Vp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fp,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fp(0,0,-1);this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Np)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Np.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Np.copy(this.origin).addScaledVector(this.direction,t),Np.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){Dp.copy(e).add(t).multiplyScalar(.5),Op.copy(t).sub(e).normalize(),Qp.copy(this.origin).sub(Dp);const i=.5*e.distanceTo(t),o=-this.direction.dot(Op),s=Qp.dot(this.direction),a=-Qp.dot(Op),l=Qp.lengthSq(),A=Math.abs(1-o*o);let c,u,h,d;if(A>0)if(c=o*a-s,u=o*s-a,d=i*A,c>=0)if(u>=-d)if(u<=d){const e=1/A;c*=e,u*=e,h=c*(c+o*u+2*s)+u*(o*c+u+2*a)+l}else u=i,c=Math.max(0,-(o*u+s)),h=-c*c+u*(u+2*a)+l;else u=-i,c=Math.max(0,-(o*u+s)),h=-c*c+u*(u+2*a)+l;else u<=-d?(c=Math.max(0,-(-o*i+s)),u=c>0?-i:Math.min(Math.max(-i,-a),i),h=-c*c+u*(u+2*a)+l):u<=d?(c=0,u=Math.min(Math.max(-i,-a),i),h=u*(u+2*a)+l):(c=Math.max(0,-(o*i+s)),u=c>0?i:Math.min(Math.max(-i,-a),i),h=-c*c+u*(u+2*a)+l);else u=o>0?-i:i,c=Math.max(0,-(o*u+s)),h=-c*c+u*(u+2*a)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,c),r&&r.copy(Dp).addScaledVector(Op,u),h}intersectSphere(e,t){Np.subVectors(e.center,this.origin);const n=Np.dot(this.direction),r=Np.dot(Np)-n*n,i=e.radius*e.radius;if(r>i)return null;const o=Math.sqrt(i-r),s=n-o,a=n+o;return a<0?null:s<0?this.at(a,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,o,s,a;const l=1/this.direction.x,A=1/this.direction.y,c=1/this.direction.z,u=this.origin;return l>=0?(n=(e.min.x-u.x)*l,r=(e.max.x-u.x)*l):(n=(e.max.x-u.x)*l,r=(e.min.x-u.x)*l),A>=0?(i=(e.min.y-u.y)*A,o=(e.max.y-u.y)*A):(i=(e.max.y-u.y)*A,o=(e.min.y-u.y)*A),n>o||i>r?null:((i>n||isNaN(n))&&(n=i),(o<r||isNaN(r))&&(r=o),c>=0?(s=(e.min.z-u.z)*c,a=(e.max.z-u.z)*c):(s=(e.max.z-u.z)*c,a=(e.min.z-u.z)*c),n>a||s>r?null:((s>n||n!==n)&&(n=s),(a<r||r!==r)&&(r=a),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,Np)}intersectTriangle(e,t,n,r,i){Hp.subVectors(t,e),zp.subVectors(n,e),jp.crossVectors(Hp,zp);let o,s=this.direction.dot(jp);if(s>0){if(r)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}Qp.subVectors(this.origin,e);const a=o*this.direction.dot(zp.crossVectors(Qp,zp));if(a<0)return null;const l=o*this.direction.dot(Hp.cross(Qp));if(l<0)return null;if(a+l>s)return null;const A=-o*Qp.dot(jp);return A<0?null:this.at(A/s,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Wp{constructor(e,t,n,r,i,o,s,a,l,A,c,u,h,d,p,f){Wp.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,s,a,l,A,c,u,h,d,p,f)}set(e,t,n,r,i,o,s,a,l,A,c,u,h,d,p,f){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=s,g[13]=a,g[2]=l,g[6]=A,g[10]=c,g[14]=u,g[3]=h,g[7]=d,g[11]=p,g[15]=f,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Wp).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Gp.setFromMatrixColumn(e,0).length(),i=1/Gp.setFromMatrixColumn(e,1).length(),o=1/Gp.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(r),l=Math.sin(r),A=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){const e=o*A,n=o*c,r=s*A,i=s*c;t[0]=a*A,t[4]=-a*c,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-s*a,t[2]=i-e*l,t[6]=r+n*l,t[10]=o*a}else if("YXZ"===e.order){const e=a*A,n=a*c,r=l*A,i=l*c;t[0]=e+i*s,t[4]=r*s-n,t[8]=o*l,t[1]=o*c,t[5]=o*A,t[9]=-s,t[2]=n*s-r,t[6]=i+e*s,t[10]=o*a}else if("ZXY"===e.order){const e=a*A,n=a*c,r=l*A,i=l*c;t[0]=e-i*s,t[4]=-o*c,t[8]=r+n*s,t[1]=n+r*s,t[5]=o*A,t[9]=i-e*s,t[2]=-o*l,t[6]=s,t[10]=o*a}else if("ZYX"===e.order){const e=o*A,n=o*c,r=s*A,i=s*c;t[0]=a*A,t[4]=r*l-n,t[8]=e*l+i,t[1]=a*c,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=s*a,t[10]=o*a}else if("YZX"===e.order){const e=o*a,n=o*l,r=s*a,i=s*l;t[0]=a*A,t[4]=i-e*c,t[8]=r*c+n,t[1]=c,t[5]=o*A,t[9]=-s*A,t[2]=-l*A,t[6]=n*c+r,t[10]=e-i*c}else if("XZY"===e.order){const e=o*a,n=o*l,r=s*a,i=s*l;t[0]=a*A,t[4]=-c,t[8]=l*A,t[1]=e*c+i,t[5]=o*A,t[9]=n*c-r,t[2]=r*c-n,t[6]=s*A,t[10]=i*c+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(qp,e,Xp)}lookAt(e,t,n){const r=this.elements;return Jp.subVectors(e,t),0===Jp.lengthSq()&&(Jp.z=1),Jp.normalize(),Yp.crossVectors(n,Jp),0===Yp.lengthSq()&&(1===Math.abs(n.z)?Jp.x+=1e-4:Jp.z+=1e-4,Jp.normalize(),Yp.crossVectors(n,Jp)),Yp.normalize(),$p.crossVectors(Jp,Yp),r[0]=Yp.x,r[4]=$p.x,r[8]=Jp.x,r[1]=Yp.y,r[5]=$p.y,r[9]=Jp.y,r[2]=Yp.z,r[6]=$p.z,r[10]=Jp.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],s=n[4],a=n[8],l=n[12],A=n[1],c=n[5],u=n[9],h=n[13],d=n[2],p=n[6],f=n[10],g=n[14],m=n[3],v=n[7],y=n[11],b=n[15],w=r[0],x=r[4],_=r[8],S=r[12],C=r[1],B=r[5],E=r[9],M=r[13],T=r[2],F=r[6],I=r[10],L=r[14],P=r[3],U=r[7],R=r[11],k=r[15];return i[0]=o*w+s*C+a*T+l*P,i[4]=o*x+s*B+a*F+l*U,i[8]=o*_+s*E+a*I+l*R,i[12]=o*S+s*M+a*L+l*k,i[1]=A*w+c*C+u*T+h*P,i[5]=A*x+c*B+u*F+h*U,i[9]=A*_+c*E+u*I+h*R,i[13]=A*S+c*M+u*L+h*k,i[2]=d*w+p*C+f*T+g*P,i[6]=d*x+p*B+f*F+g*U,i[10]=d*_+p*E+f*I+g*R,i[14]=d*S+p*M+f*L+g*k,i[3]=m*w+v*C+y*T+b*P,i[7]=m*x+v*B+y*F+b*U,i[11]=m*_+v*E+y*I+b*R,i[15]=m*S+v*M+y*L+b*k,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],s=e[5],a=e[9],l=e[13],A=e[2],c=e[6],u=e[10],h=e[14];return e[3]*(+i*a*c-r*l*c-i*s*u+n*l*u+r*s*h-n*a*h)+e[7]*(+t*a*h-t*l*u+i*o*u-r*o*h+r*l*A-i*a*A)+e[11]*(+t*l*c-t*s*h-i*o*c+n*o*h+i*s*A-n*l*A)+e[15]*(-r*s*A-t*a*c+t*s*u+r*o*c-n*o*u+n*a*A)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],l=e[7],A=e[8],c=e[9],u=e[10],h=e[11],d=e[12],p=e[13],f=e[14],g=e[15],m=c*f*l-p*u*l+p*a*h-s*f*h-c*a*g+s*u*g,v=d*u*l-A*f*l-d*a*h+o*f*h+A*a*g-o*u*g,y=A*p*l-d*c*l+d*s*h-o*p*h-A*s*g+o*c*g,b=d*c*a-A*p*a-d*s*u+o*p*u+A*s*f-o*c*f,w=t*m+n*v+r*y+i*b;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const x=1/w;return e[0]=m*x,e[1]=(p*u*i-c*f*i-p*r*h+n*f*h+c*r*g-n*u*g)*x,e[2]=(s*f*i-p*a*i+p*r*l-n*f*l-s*r*g+n*a*g)*x,e[3]=(c*a*i-s*u*i-c*r*l+n*u*l+s*r*h-n*a*h)*x,e[4]=v*x,e[5]=(A*f*i-d*u*i+d*r*h-t*f*h-A*r*g+t*u*g)*x,e[6]=(d*a*i-o*f*i-d*r*l+t*f*l+o*r*g-t*a*g)*x,e[7]=(o*u*i-A*a*i+A*r*l-t*u*l-o*r*h+t*a*h)*x,e[8]=y*x,e[9]=(d*c*i-A*p*i-d*n*h+t*p*h+A*n*g-t*c*g)*x,e[10]=(o*p*i-d*s*i+d*n*l-t*p*l-o*n*g+t*s*g)*x,e[11]=(A*s*i-o*c*i-A*n*l+t*c*l+o*n*h-t*s*h)*x,e[12]=b*x,e[13]=(A*p*r-d*c*r+d*n*u-t*p*u-A*n*f+t*c*f)*x,e[14]=(d*s*r-o*p*r-d*n*a+t*p*a+o*n*f-t*s*f)*x,e[15]=(o*c*r-A*s*r+A*n*a-t*c*a-o*n*u+t*s*u)*x,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,s=e.y,a=e.z,l=i*o,A=i*s;return this.set(l*o+n,l*s-r*a,l*a+r*s,0,l*s+r*a,A*s+n,A*a-r*o,0,l*a-r*s,A*a+r*o,i*a*a+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,o){return this.set(1,n,i,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,o=t._y,s=t._z,a=t._w,l=i+i,A=o+o,c=s+s,u=i*l,h=i*A,d=i*c,p=o*A,f=o*c,g=s*c,m=a*l,v=a*A,y=a*c,b=n.x,w=n.y,x=n.z;return r[0]=(1-(p+g))*b,r[1]=(h+y)*b,r[2]=(d-v)*b,r[3]=0,r[4]=(h-y)*w,r[5]=(1-(u+g))*w,r[6]=(f+m)*w,r[7]=0,r[8]=(d+v)*x,r[9]=(f-m)*x,r[10]=(1-(u+p))*x,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=Gp.set(r[0],r[1],r[2]).length();const o=Gp.set(r[4],r[5],r[6]).length(),s=Gp.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Kp.copy(this);const a=1/i,l=1/o,A=1/s;return Kp.elements[0]*=a,Kp.elements[1]*=a,Kp.elements[2]*=a,Kp.elements[4]*=l,Kp.elements[5]*=l,Kp.elements[6]*=l,Kp.elements[8]*=A,Kp.elements[9]*=A,Kp.elements[10]*=A,t.setFromRotationMatrix(Kp),n.x=i,n.y=o,n.z=s,this}makePerspective(e,t,n,r,i,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_d;const a=this.elements,l=2*i/(t-e),A=2*i/(n-r),c=(t+e)/(t-e),u=(n+r)/(n-r);let h,d;if(s===_d)h=-(o+i)/(o-i),d=-2*o*i/(o-i);else{if(s!==Sd)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);h=-o/(o-i),d=-o*i/(o-i)}return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=A,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,n,r,i,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_d;const a=this.elements,l=1/(t-e),A=1/(n-r),c=1/(o-i),u=(t+e)*l,h=(n+r)*A;let d,p;if(s===_d)d=(o+i)*c,p=-2*c;else{if(s!==Sd)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);d=i*c,p=-1*c}return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*A,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=p,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Gp=new fp,Kp=new Wp,qp=new fp(0,0,0),Xp=new fp(1,1,1),Yp=new fp,$p=new fp,Jp=new fp,Zp=new Wp,ef=new pp;class tf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:tf.DEFAULT_ORDER;this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=e.elements,i=r[0],o=r[4],s=r[8],a=r[1],l=r[5],A=r[9],c=r[2],u=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(Id(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-A,h),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(u,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Id(A,-1,1)),Math.abs(A)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(a,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Id(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-c,h),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(a,i));break;case"ZYX":this._y=Math.asin(-Id(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(u,h),this._z=Math.atan2(a,i)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(Id(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-A,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-Id(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(u,l),this._y=Math.atan2(s,i)):(this._x=Math.atan2(-A,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Zp.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Zp,t,n)}setFromVector3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}reorder(e){return ef.setFromEuler(this),this.setFromQuaternion(ef,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}tf.DEFAULT_ORDER="XYZ";class nf{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&1<<e)}}let rf=0;const of=new fp,sf=new pp,af=new Wp,lf=new fp,Af=new fp,cf=new fp,uf=new pp,hf=new fp(1,0,0),df=new fp(0,1,0),pf=new fp(0,0,1),ff={type:"added"},gf={type:"removed"},mf={type:"childadded",child:null},vf={type:"childremoved",child:null};class yf extends Cd{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:rf++}),this.uuid=Fd(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=yf.DEFAULT_UP.clone();const e=new fp,t=new tf,n=new pp,r=new fp(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Wp},normalMatrix:{value:new Dd}}),this.matrix=new Wp,this.matrixWorld=new Wp,this.matrixAutoUpdate=yf.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=yf.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new nf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return sf.setFromAxisAngle(e,t),this.quaternion.multiply(sf),this}rotateOnWorldAxis(e,t){return sf.setFromAxisAngle(e,t),this.quaternion.premultiply(sf),this}rotateX(e){return this.rotateOnAxis(hf,e)}rotateY(e){return this.rotateOnAxis(df,e)}rotateZ(e){return this.rotateOnAxis(pf,e)}translateOnAxis(e,t){return of.copy(e).applyQuaternion(this.quaternion),this.position.add(of.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(hf,e)}translateY(e){return this.translateOnAxis(df,e)}translateZ(e){return this.translateOnAxis(pf,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(af.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?lf.copy(e):lf.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),Af.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?af.lookAt(Af,lf,this.up):af.lookAt(lf,Af,this.up),this.quaternion.setFromRotationMatrix(af),r&&(af.extractRotation(r.matrixWorld),sf.setFromRotationMatrix(af),this.quaternion.premultiply(sf.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(ff),mf.child=e,this.dispatchEvent(mf),mf.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(gf),vf.child=e,this.dispatchEvent(vf),vf.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),af.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),af.multiply(e.parent.matrixWorld)),e.applyMatrix4(af),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(ff),mf.child=e,this.dispatchEvent(mf),mf.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this[e]===t&&n.push(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Af,e,cf),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Af,uf,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const r=t[n];!0!==r.matrixWorldAutoUpdate&&!0!==e||r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){const n=e[t];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map((e=>({boxInitialized:e.boxInitialized,boxMin:e.box.min.toArray(),boxMax:e.box.max.toArray(),sphereInitialized:e.sphereInitialized,sphereRadius:e.sphere.radius,sphereCenter:e.sphere.center.toArray()}))),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),null!==this.boundingSphere&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),null!==this.boundingBox&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=o(e.geometries),r=o(e.materials),i=o(e.textures),s=o(e.images),a=o(e.shapes),l=o(e.skeletons),A=o(e.animations),c=o(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),s.length>0&&(n.images=s),a.length>0&&(n.shapes=a),l.length>0&&(n.skeletons=l),A.length>0&&(n.animations=A),c.length>0&&(n.nodes=c)}return n.object=r,n;function o(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}yf.DEFAULT_UP=new fp(0,1,0),yf.DEFAULT_MATRIX_AUTO_UPDATE=!0,yf.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const bf=new fp,wf=new fp,xf=new fp,_f=new fp,Sf=new fp,Cf=new fp,Bf=new fp,Ef=new fp,Mf=new fp,Tf=new fp;class Ff{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fp,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fp,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new fp;this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),bf.subVectors(e,t),r.cross(bf);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){bf.subVectors(r,t),wf.subVectors(n,t),xf.subVectors(e,t);const o=bf.dot(bf),s=bf.dot(wf),a=bf.dot(xf),l=wf.dot(wf),A=wf.dot(xf),c=o*l-s*s;if(0===c)return i.set(0,0,0),null;const u=1/c,h=(l*a-s*A)*u,d=(o*A-s*a)*u;return i.set(1-h-d,d,h)}static containsPoint(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,_f)&&(_f.x>=0&&_f.y>=0&&_f.x+_f.y<=1)}static getInterpolation(e,t,n,r,i,o,s,a){return null===this.getBarycoord(e,t,n,r,_f)?(a.x=0,a.y=0,"z"in a&&(a.z=0),"w"in a&&(a.w=0),null):(a.setScalar(0),a.addScaledVector(i,_f.x),a.addScaledVector(o,_f.y),a.addScaledVector(s,_f.z),a)}static isFrontFacing(e,t,n,r){return bf.subVectors(n,t),wf.subVectors(e,t),bf.cross(wf).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return bf.subVectors(this.c,this.b),wf.subVectors(this.a,this.b),.5*bf.cross(wf).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ff.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ff.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,i){return Ff.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return Ff.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ff.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let o,s;Sf.subVectors(r,n),Cf.subVectors(i,n),Ef.subVectors(e,n);const a=Sf.dot(Ef),l=Cf.dot(Ef);if(a<=0&&l<=0)return t.copy(n);Mf.subVectors(e,r);const A=Sf.dot(Mf),c=Cf.dot(Mf);if(A>=0&&c<=A)return t.copy(r);const u=a*c-A*l;if(u<=0&&a>=0&&A<=0)return o=a/(a-A),t.copy(n).addScaledVector(Sf,o);Tf.subVectors(e,i);const h=Sf.dot(Tf),d=Cf.dot(Tf);if(d>=0&&h<=d)return t.copy(i);const p=h*l-a*d;if(p<=0&&l>=0&&d<=0)return s=l/(l-d),t.copy(n).addScaledVector(Cf,s);const f=A*d-h*c;if(f<=0&&c-A>=0&&h-d>=0)return Bf.subVectors(i,r),s=(c-A)/(c-A+(h-d)),t.copy(r).addScaledVector(Bf,s);const g=1/(f+p+u);return o=p*g,s=u*g,t.copy(n).addScaledVector(Sf,o).addScaledVector(Cf,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const If={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Lf={h:0,s:0,l:0},Pf={h:0,s:0,l:0};function Uf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class Rf{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uh;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,$d.toWorkingColorSpace(this,t),this}setRGB(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$d.workingColorSpace;return this.r=e,this.g=t,this.b=n,$d.toWorkingColorSpace(this,r),this}setHSL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$d.workingColorSpace;if(e=Ld(e,1),t=Id(t,0,1),n=Id(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Uf(i,r,e+1/3),this.g=Uf(i,r,e),this.b=Uf(i,r,e-1/3)}return $d.toWorkingColorSpace(this,r),this}setStyle(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uh;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const o=t[1],s=t[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=t[1],i=r.length;if(3===i)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,n);if(6===i)return this.setHex(parseInt(r,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uh;const n=If[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Jd(e.r),this.g=Jd(e.g),this.b=Jd(e.b),this}copyLinearToSRGB(e){return this.r=Zd(e.r),this.g=Zd(e.g),this.b=Zd(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uh;return $d.fromWorkingColorSpace(kf.copy(this),e),65536*Math.round(Id(255*kf.r,0,255))+256*Math.round(Id(255*kf.g,0,255))+Math.round(Id(255*kf.b,0,255))}getHexString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uh;return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$d.workingColorSpace;$d.fromWorkingColorSpace(kf.copy(this),t);const n=kf.r,r=kf.g,i=kf.b,o=Math.max(n,r,i),s=Math.min(n,r,i);let a,l;const A=(s+o)/2;if(s===o)a=0,l=0;else{const e=o-s;switch(l=A<=.5?e/(o+s):e/(2-o-s),o){case n:a=(r-i)/e+(r<i?6:0);break;case r:a=(i-n)/e+2;break;case i:a=(n-r)/e+4}a/=6}return e.h=a,e.s=l,e.l=A,e}getRGB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$d.workingColorSpace;return $d.fromWorkingColorSpace(kf.copy(this),t),e.r=kf.r,e.g=kf.g,e.b=kf.b,e}getStyle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uh;$d.fromWorkingColorSpace(kf.copy(this),e);const t=kf.r,n=kf.g,r=kf.b;return e!==Uh?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*n)},${Math.round(255*r)})`}offsetHSL(e,t,n){return this.getHSL(Lf),this.setHSL(Lf.h+e,Lf.s+t,Lf.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Lf),e.getHSL(Pf);const n=Pd(Lf.h,Pf.h,t),r=Pd(Lf.s,Pf.s,t),i=Pd(Lf.l,Pf.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const kf=new Rf;Rf.NAMES=If;let Nf=0;class Df extends Cd{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Nf++}),this.uuid=Fd(),this.name="",this.type="Material",this.blending=nc,this.side=JA,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=gc,this.blendDst=mc,this.blendEquation=ac,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Rf(0,0,0),this.blendAlpha=0,this.depthFunc=Fc,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=rd,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=jh,this.stencilZFail=jh,this.stencilZPass=jh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==nc&&(n.blending=this.blending),this.side!==JA&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==gc&&(n.blendSrc=this.blendSrc),this.blendDst!==mc&&(n.blendDst=this.blendDst),this.blendEquation!==ac&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Fc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==rd&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==jh&&(n.stencilFail=this.stencilFail),this.stencilZFail!==jh&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==jh&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class Of extends Df{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Rf(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tf,this.combine=Rc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Qf=Hf();function Hf(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const e=l-127;e<-27?(r[l]=0,r[256|l]=32768,i[l]=24,i[256|l]=24):e<-14?(r[l]=1024>>-e-14,r[256|l]=1024>>-e-14|32768,i[l]=-e-1,i[256|l]=-e-1):e<=15?(r[l]=e+15<<10,r[256|l]=e+15<<10|32768,i[l]=13,i[256|l]=13):e<128?(r[l]=31744,r[256|l]=64512,i[l]=24,i[256|l]=24):(r[l]=31744,r[256|l]=64512,i[l]=13,i[256|l]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let e=l<<13,t=0;for(;0===(8388608&e);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,o[l]=e|t}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(a[l]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:a}}function zf(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Id(e,-65504,65504),Qf.floatView[0]=e;const t=Qf.uint32View[0],n=t>>23&511;return Qf.baseTable[n]+((8388607&t)>>Qf.shiftTable[n])}function jf(e){const t=e>>10;return Qf.uint32View[0]=Qf.mantissaTable[Qf.offsetTable[t]+(1023&e)]+Qf.exponentTable[t],Qf.floatView[0]}const Vf={toHalfFloat:zf,fromHalfFloat:jf},Wf=new fp,Gf=new Nd;class Kf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=hd,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=yu,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}get updateRange(){return Gd("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Gf.fromBufferAttribute(this,t),Gf.applyMatrix3(e),this.setXY(t,Gf.x,Gf.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Wf.fromBufferAttribute(this,t),Wf.applyMatrix3(e),this.setXYZ(t,Wf.x,Wf.y,Wf.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Wf.fromBufferAttribute(this,t),Wf.applyMatrix4(e),this.setXYZ(t,Wf.x,Wf.y,Wf.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Wf.fromBufferAttribute(this,t),Wf.applyNormalMatrix(e),this.setXYZ(t,Wf.x,Wf.y,Wf.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Wf.fromBufferAttribute(this,t),Wf.transformDirection(e),this.setXYZ(t,Wf.x,Wf.y,Wf.z);return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Ud(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Rd(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ud(t,this.array)),t}setX(e,t){return this.normalized&&(t=Rd(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ud(t,this.array)),t}setY(e,t){return this.normalized&&(t=Rd(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ud(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Rd(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ud(t,this.array)),t}setW(e,t){return this.normalized&&(t=Rd(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Rd(t,this.array),n=Rd(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Rd(t,this.array),n=Rd(n,this.array),r=Rd(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Rd(t,this.array),n=Rd(n,this.array),r=Rd(r,this.array),i=Rd(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==hd&&(e.usage=this.usage),e}}class qf extends Kf{constructor(e,t,n){super(new Int8Array(e),t,n)}}class Xf extends Kf{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class Yf extends Kf{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class $f extends Kf{constructor(e,t,n){super(new Int16Array(e),t,n)}}class Jf extends Kf{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Zf extends Kf{constructor(e,t,n){super(new Int32Array(e),t,n)}}class eg extends Kf{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class tg extends Kf{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=jf(this.array[e*this.itemSize]);return this.normalized&&(t=Ud(t,this.array)),t}setX(e,t){return this.normalized&&(t=Rd(t,this.array)),this.array[e*this.itemSize]=zf(t),this}getY(e){let t=jf(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ud(t,this.array)),t}setY(e,t){return this.normalized&&(t=Rd(t,this.array)),this.array[e*this.itemSize+1]=zf(t),this}getZ(e){let t=jf(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ud(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Rd(t,this.array)),this.array[e*this.itemSize+2]=zf(t),this}getW(e){let t=jf(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ud(t,this.array)),t}setW(e,t){return this.normalized&&(t=Rd(t,this.array)),this.array[e*this.itemSize+3]=zf(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Rd(t,this.array),n=Rd(n,this.array)),this.array[e+0]=zf(t),this.array[e+1]=zf(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Rd(t,this.array),n=Rd(n,this.array),r=Rd(r,this.array)),this.array[e+0]=zf(t),this.array[e+1]=zf(n),this.array[e+2]=zf(r),this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Rd(t,this.array),n=Rd(n,this.array),r=Rd(r,this.array),i=Rd(i,this.array)),this.array[e+0]=zf(t),this.array[e+1]=zf(n),this.array[e+2]=zf(r),this.array[e+3]=zf(i),this}}class ng extends Kf{constructor(e,t,n){super(new Float32Array(e),t,n)}}let rg=0;const ig=new Wp,og=new yf,sg=new fp,ag=new vp,lg=new vp,Ag=new fp;class cg extends Cd{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:rg++}),this.uuid=Fd(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Qd(e)?eg:Jf)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new Dd).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return ig.makeRotationFromQuaternion(e),this.applyMatrix4(ig),this}rotateX(e){return ig.makeRotationX(e),this.applyMatrix4(ig),this}rotateY(e){return ig.makeRotationY(e),this.applyMatrix4(ig),this}rotateZ(e){return ig.makeRotationZ(e),this.applyMatrix4(ig),this}translate(e,t,n){return ig.makeTranslation(e,t,n),this.applyMatrix4(ig),this}scale(e,t,n){return ig.makeScale(e,t,n),this.applyMatrix4(ig),this}lookAt(e){return og.lookAt(e),og.updateMatrix(),this.applyMatrix4(og.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(sg).negate(),this.translate(sg.x,sg.y,sg.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new ng(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new vp);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new fp(-1/0,-1/0,-1/0),new fp(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const e=t[n];ag.setFromBufferAttribute(e),this.morphTargetsRelative?(Ag.addVectors(this.boundingBox.min,ag.min),this.boundingBox.expandByPoint(Ag),Ag.addVectors(this.boundingBox.max,ag.max),this.boundingBox.expandByPoint(Ag)):(this.boundingBox.expandByPoint(ag.min),this.boundingBox.expandByPoint(ag.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new kp);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new fp,1/0);if(e){const n=this.boundingSphere.center;if(ag.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];lg.setFromBufferAttribute(n),this.morphTargetsRelative?(Ag.addVectors(ag.min,lg.min),ag.expandByPoint(Ag),Ag.addVectors(ag.max,lg.max),ag.expandByPoint(Ag)):(ag.expandByPoint(lg.min),ag.expandByPoint(lg.max))}ag.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)Ag.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(Ag));if(t)for(let i=0,o=t.length;i<o;i++){const o=t[i],s=this.morphTargetsRelative;for(let t=0,i=o.count;t<i;t++)Ag.fromBufferAttribute(o,t),s&&(sg.fromBufferAttribute(e,t),Ag.add(sg)),r=Math.max(r,n.distanceToSquared(Ag))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.position,r=t.normal,i=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Kf(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),s=[],a=[];for(let _=0;_<n.count;_++)s[_]=new fp,a[_]=new fp;const l=new fp,A=new fp,c=new fp,u=new Nd,h=new Nd,d=new Nd,p=new fp,f=new fp;function g(e,t,r){l.fromBufferAttribute(n,e),A.fromBufferAttribute(n,t),c.fromBufferAttribute(n,r),u.fromBufferAttribute(i,e),h.fromBufferAttribute(i,t),d.fromBufferAttribute(i,r),A.sub(l),c.sub(l),h.sub(u),d.sub(u);const o=1/(h.x*d.y-d.x*h.y);isFinite(o)&&(p.copy(A).multiplyScalar(d.y).addScaledVector(c,-h.y).multiplyScalar(o),f.copy(c).multiplyScalar(h.x).addScaledVector(A,-d.x).multiplyScalar(o),s[e].add(p),s[t].add(p),s[r].add(p),a[e].add(f),a[t].add(f),a[r].add(f))}let m=this.groups;0===m.length&&(m=[{start:0,count:e.count}]);for(let _=0,S=m.length;_<S;++_){const t=m[_],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)g(e.getX(r+0),e.getX(r+1),e.getX(r+2))}const v=new fp,y=new fp,b=new fp,w=new fp;function x(e){b.fromBufferAttribute(r,e),w.copy(b);const t=s[e];v.copy(t),v.sub(b.multiplyScalar(b.dot(t))).normalize(),y.crossVectors(w,t);const n=y.dot(a[e])<0?-1:1;o.setXYZW(e,v.x,v.y,v.z,n)}for(let _=0,S=m.length;_<S;++_){const t=m[_],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)x(e.getX(r+0)),x(e.getX(r+1)),x(e.getX(r+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Kf(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new fp,i=new fp,o=new fp,s=new fp,a=new fp,l=new fp,A=new fp,c=new fp;if(e)for(let u=0,h=e.count;u<h;u+=3){const h=e.getX(u+0),d=e.getX(u+1),p=e.getX(u+2);r.fromBufferAttribute(t,h),i.fromBufferAttribute(t,d),o.fromBufferAttribute(t,p),A.subVectors(o,i),c.subVectors(r,i),A.cross(c),s.fromBufferAttribute(n,h),a.fromBufferAttribute(n,d),l.fromBufferAttribute(n,p),s.add(A),a.add(A),l.add(A),n.setXYZ(h,s.x,s.y,s.z),n.setXYZ(d,a.x,a.y,a.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,u=t.count;e<u;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),o.fromBufferAttribute(t,e+2),A.subVectors(o,i),c.subVectors(r,i),A.cross(c),n.setXYZ(e+0,A.x,A.y,A.z),n.setXYZ(e+1,A.x,A.y,A.z),n.setXYZ(e+2,A.x,A.y,A.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Ag.fromBufferAttribute(e,t),Ag.normalize(),e.setXYZ(t,Ag.x,Ag.y,Ag.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r);let s=0,a=0;for(let l=0,A=t.length;l<A;l++){s=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(let e=0;e<r;e++)o[a++]=n[s++]}return new Kf(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new cg,n=this.index.array,r=this.attributes;for(const s in r){const i=e(r[s],n);t.setAttribute(s,i)}const i=this.morphAttributes;for(const s in i){const r=[],o=i[s];for(let t=0,i=o.length;t<i;t++){const i=e(o[t],n);r.push(i)}t.morphAttributes[s]=r}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,a=o.length;s<a;s++){const e=o[s];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const a in n){const t=n[a];e.data.attributes[a]=t.toJSON(e.data)}const r={};let i=!1;for(const a in this.morphAttributes){const t=this.morphAttributes[a],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[a]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return null!==s&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const l in r){const e=r[l];this.setAttribute(l,e.clone(t))}const i=e.morphAttributes;for(const l in i){const e=[],n=i[l];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,A=o.length;l<A;l++){const e=o[l];this.addGroup(e.start,e.count,e.materialIndex)}const s=e.boundingBox;null!==s&&(this.boundingBox=s.clone());const a=e.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const ug=new Wp,hg=new Vp,dg=new kp,pg=new fp,fg=new fp,gg=new fp,mg=new fp,vg=new fp,yg=new fp,bg=new Nd,wg=new Nd,xg=new Nd,_g=new fp,Sg=new fp,Cg=new fp,Bg=new fp,Eg=new fp;class Mg extends yf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new cg,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Of;super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const s=this.morphTargetInfluences;if(i&&s){yg.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=s[n],a=i[n];0!==r&&(vg.fromBufferAttribute(a,e),o?yg.addScaledVector(vg,r):yg.addScaledVector(vg.sub(t),r))}t.add(yg)}return t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),dg.copy(n.boundingSphere),dg.applyMatrix4(i),hg.copy(e.ray).recast(e.near),!1===dg.containsPoint(hg.origin)){if(null===hg.intersectSphere(dg,pg))return;if(hg.origin.distanceToSquared(pg)>(e.far-e.near)**2)return}ug.copy(i).invert(),hg.copy(e.ray).applyMatrix4(ug),null!==n.boundingBox&&!1===hg.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,hg)}}_computeIntersections(e,t,n){let r;const i=this.geometry,o=this.material,s=i.index,a=i.attributes.position,l=i.attributes.uv,A=i.attributes.uv1,c=i.attributes.normal,u=i.groups,h=i.drawRange;if(null!==s)if(Array.isArray(o))for(let d=0,p=u.length;d<p;d++){const i=u[d],a=o[i.materialIndex];for(let o=Math.max(i.start,h.start),u=Math.min(s.count,Math.min(i.start+i.count,h.start+h.count));o<u;o+=3){r=Tg(this,a,e,n,l,A,c,s.getX(o),s.getX(o+1),s.getX(o+2)),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,h.start),a=Math.min(s.count,h.start+h.count);i<a;i+=3){r=Tg(this,o,e,n,l,A,c,s.getX(i),s.getX(i+1),s.getX(i+2)),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}else if(void 0!==a)if(Array.isArray(o))for(let d=0,p=u.length;d<p;d++){const i=u[d],s=o[i.materialIndex];for(let o=Math.max(i.start,h.start),u=Math.min(a.count,Math.min(i.start+i.count,h.start+h.count));o<u;o+=3){r=Tg(this,s,e,n,l,A,c,o,o+1,o+2),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,h.start),s=Math.min(a.count,h.start+h.count);i<s;i+=3){r=Tg(this,o,e,n,l,A,c,i,i+1,i+2),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}}}function Tg(e,t,n,r,i,o,s,a,l,A){e.getVertexPosition(a,fg),e.getVertexPosition(l,gg),e.getVertexPosition(A,mg);const c=function(e,t,n,r,i,o,s,a){let l;if(l=t.side===ZA?r.intersectTriangle(s,o,i,!0,a):r.intersectTriangle(i,o,s,t.side===JA,a),null===l)return null;Eg.copy(a),Eg.applyMatrix4(e.matrixWorld);const A=n.ray.origin.distanceTo(Eg);return A<n.near||A>n.far?null:{distance:A,point:Eg.clone(),object:e}}(e,t,n,r,fg,gg,mg,Bg);if(c){i&&(bg.fromBufferAttribute(i,a),wg.fromBufferAttribute(i,l),xg.fromBufferAttribute(i,A),c.uv=Ff.getInterpolation(Bg,fg,gg,mg,bg,wg,xg,new Nd)),o&&(bg.fromBufferAttribute(o,a),wg.fromBufferAttribute(o,l),xg.fromBufferAttribute(o,A),c.uv1=Ff.getInterpolation(Bg,fg,gg,mg,bg,wg,xg,new Nd)),s&&(_g.fromBufferAttribute(s,a),Sg.fromBufferAttribute(s,l),Cg.fromBufferAttribute(s,A),c.normal=Ff.getInterpolation(Bg,fg,gg,mg,_g,Sg,Cg,new fp),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const e={a:a,b:l,c:A,normal:new fp,materialIndex:0};Ff.getNormal(fg,gg,mg,e.normal),c.face=e}return c}class Fg extends cg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};const s=this;r=Math.floor(r),i=Math.floor(i),o=Math.floor(o);const a=[],l=[],A=[],c=[];let u=0,h=0;function d(e,t,n,r,i,o,d,p,f,g,m){const v=o/f,y=d/g,b=o/2,w=d/2,x=p/2,_=f+1,S=g+1;let C=0,B=0;const E=new fp;for(let s=0;s<S;s++){const o=s*y-w;for(let a=0;a<_;a++){const u=a*v-b;E[e]=u*r,E[t]=o*i,E[n]=x,l.push(E.x,E.y,E.z),E[e]=0,E[t]=0,E[n]=p>0?1:-1,A.push(E.x,E.y,E.z),c.push(a/f),c.push(1-s/g),C+=1}}for(let s=0;s<g;s++)for(let e=0;e<f;e++){const t=u+e+_*s,n=u+e+_*(s+1),r=u+(e+1)+_*(s+1),i=u+(e+1)+_*s;a.push(t,n,i),a.push(n,r,i),B+=6}s.addGroup(h,B,m),h+=B,u+=C}d("z","y","x",-1,-1,n,t,e,o,i,0),d("z","y","x",1,-1,n,t,-e,o,i,1),d("x","z","y",1,1,e,n,t,r,o,2),d("x","z","y",1,-1,e,n,-t,r,o,3),d("x","y","z",1,-1,e,t,n,r,i,4),d("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(a),this.setAttribute("position",new ng(l,3)),this.setAttribute("normal",new ng(A,3)),this.setAttribute("uv",new ng(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fg(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ig(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function Lg(e){const t={};for(let n=0;n<e.length;n++){const r=Ig(e[n]);for(const e in r)t[e]=r[e]}return t}function Pg(e){const t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:$d.workingColorSpace}const Ug={clone:Ig,merge:Lg};class Rg extends Df{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ig(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class kg extends yf{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Wp,this.projectionMatrix=new Wp,this.projectionMatrixInverse=new Wp,this.coordinateSystem=_d}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const Ng=new fp,Dg=new Nd,Og=new Nd;class Qg extends kg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Td*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Md*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Td*Math.atan(Math.tan(.5*Md*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Ng.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Ng.x,Ng.y).multiplyScalar(-e/Ng.z),Ng.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Ng.x,Ng.y).multiplyScalar(-e/Ng.z)}getViewSize(e,t){return this.getViewBounds(e,Dg,Og),t.subVectors(Og,Dg)}setViewOffset(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Md*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const e=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/e,t-=o.offsetY*n/s,r*=o.width/e,n*=o.height/s}const s=this.filmOffset;0!==s&&(i+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Hg=-90;class zg extends yf{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Qg(Hg,1,e,t);r.layers=this.layers,this.add(r);const i=new Qg(Hg,1,e,t);i.layers=this.layers,this.add(i);const o=new Qg(Hg,1,e,t);o.layers=this.layers,this.add(o);const s=new Qg(Hg,1,e,t);s.layers=this.layers,this.add(s);const a=new Qg(Hg,1,e,t);a.layers=this.layers,this.add(a);const l=new Qg(Hg,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,i,o,s,a]=t;for(const l of t)this.remove(l);if(e===_d)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),a.up.set(0,1,0),a.lookAt(0,0,-1);else{if(e!==Sd)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),a.up.set(0,-1,0),a.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,o,s,a,l,A]=this.children,c=e.getRenderTarget(),u=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.xr.enabled;e.xr.enabled=!1;const p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,i),e.setRenderTarget(n,1,r),e.render(t,o),e.setRenderTarget(n,2,r),e.render(t,s),e.setRenderTarget(n,3,r),e.render(t,a),e.setRenderTarget(n,4,r),e.render(t,l),n.texture.generateMipmaps=p,e.setRenderTarget(n,5,r),e.render(t,A),e.setRenderTarget(c,u,h),e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}class jg extends sp{constructor(e,t,n,r,i,o,s,a,l,A){super(e=void 0!==e?e:[],t=void 0!==t?t:Xc,n,r,i,o,s,a,l,A),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Vg extends Ap{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new jg(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:lu}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new Fg(5,5,5),i=new Rg({name:"CubemapFromEquirect",uniforms:Ig(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:ZA,blending:tc});i.uniforms.tEquirect.value=t;const o=new Mg(r,i),s=t.minFilter;t.minFilter===uu&&(t.minFilter=lu);return new zg(1,10,this).update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,r){const i=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(i)}}const Wg=new fp,Gg=new fp,Kg=new Dd;class qg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fp(1,0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=Wg.subVectors(n,t).cross(Gg.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(Wg),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Kg.getNormalMatrix(e),r=this.coplanarPoint(Wg).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Xg=new kp,Yg=new fp;class $g{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qg,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qg,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new qg,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new qg,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new qg,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new qg;this.planes=[e,t,n,r,i,o]}set(e,t,n,r,i,o){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(r),s[4].copy(i),s[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_d;const n=this.planes,r=e.elements,i=r[0],o=r[1],s=r[2],a=r[3],l=r[4],A=r[5],c=r[6],u=r[7],h=r[8],d=r[9],p=r[10],f=r[11],g=r[12],m=r[13],v=r[14],y=r[15];if(n[0].setComponents(a-i,u-l,f-h,y-g).normalize(),n[1].setComponents(a+i,u+l,f+h,y+g).normalize(),n[2].setComponents(a+o,u+A,f+d,y+m).normalize(),n[3].setComponents(a-o,u-A,f-d,y-m).normalize(),n[4].setComponents(a-s,u-c,f-p,y-v).normalize(),t===_d)n[5].setComponents(a+s,u+c,f+p,y+v).normalize();else{if(t!==Sd)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(s,c,p,v).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Xg.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Xg.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Xg)}intersectsSprite(e){return Xg.center.set(0,0,0),Xg.radius=.7071067811865476,Xg.applyMatrix4(e.matrixWorld),this.intersectsSphere(Xg)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Yg.x=r.normal.x>0?e.max.x:e.min.x,Yg.y=r.normal.y>0?e.max.y:e.min.y,Yg.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Yg)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Jg(){let e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Zg(e){const t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){if(n.isGLBufferAttribute){const e=t.get(n);return void((!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}n.isInterleavedBufferAttribute&&(n=n.data);const i=t.get(n);if(void 0===i)t.set(n,function(t,n){const r=t.array,i=t.usage,o=r.byteLength,s=e.createBuffer();let a;if(e.bindBuffer(n,s),e.bufferData(n,r,i),t.onUploadCallback(),r instanceof Float32Array)a=e.FLOAT;else if(r instanceof Uint16Array)a=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(r instanceof Int16Array)a=e.SHORT;else if(r instanceof Uint32Array)a=e.UNSIGNED_INT;else if(r instanceof Int32Array)a=e.INT;else if(r instanceof Int8Array)a=e.BYTE;else if(r instanceof Uint8Array)a=e.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);a=e.UNSIGNED_BYTE}return{buffer:s,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version,size:o}}(n,r));else if(i.version<n.version){if(i.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,r){const i=n.array,o=n._updateRange,s=n.updateRanges;if(e.bindBuffer(r,t),-1===o.count&&0===s.length&&e.bufferSubData(r,0,i),0!==s.length){for(let t=0,n=s.length;t<n;t++){const n=s[t];e.bufferSubData(r,n.start*i.BYTES_PER_ELEMENT,i,n.start,n.count)}n.clearUpdateRanges()}-1!==o.count&&(e.bufferSubData(r,o.offset*i.BYTES_PER_ELEMENT,i,o.offset,o.count),o.count=-1),n.onUploadCallback()}(i.buffer,n,r),i.version=n.version}}}}class em extends cg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,o=t/2,s=Math.floor(n),a=Math.floor(r),l=s+1,A=a+1,c=e/s,u=t/a,h=[],d=[],p=[],f=[];for(let g=0;g<A;g++){const e=g*u-o;for(let t=0;t<l;t++){const n=t*c-i;d.push(n,-e,0),p.push(0,0,1),f.push(t/s),f.push(1-g/a)}}for(let g=0;g<a;g++)for(let e=0;e<s;e++){const t=e+l*g,n=e+l*(g+1),r=e+1+l*(g+1),i=e+1+l*g;h.push(t,n,i),h.push(n,r,i)}this.setIndex(h),this.setAttribute("position",new ng(d,3)),this.setAttribute("normal",new ng(p,3)),this.setAttribute("uv",new ng(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new em(e.width,e.height,e.widthSegments,e.heightSegments)}}const tm={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\tattribute float batchId;\n\tuniform highp sampler2D batchingTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( batchId );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[MORPHTARGETS_COUNT];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t#endif\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\t#ifndef USE_INSTANCING_MORPH\n\t\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\t#endif\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},nm={common:{diffuse:{value:new Rf(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Dd},alphaMap:{value:null},alphaMapTransform:{value:new Dd},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Dd}},envmap:{envMap:{value:null},envMapRotation:{value:new Dd},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Dd}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Dd}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Dd},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Dd},normalScale:{value:new Nd(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Dd},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Dd}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Dd}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Dd}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Rf(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Rf(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Dd},alphaTest:{value:0},uvTransform:{value:new Dd}},sprite:{diffuse:{value:new Rf(16777215)},opacity:{value:1},center:{value:new Nd(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Dd},alphaMap:{value:null},alphaMapTransform:{value:new Dd},alphaTest:{value:0}}},rm={basic:{uniforms:Lg([nm.common,nm.specularmap,nm.envmap,nm.aomap,nm.lightmap,nm.fog]),vertexShader:tm.meshbasic_vert,fragmentShader:tm.meshbasic_frag},lambert:{uniforms:Lg([nm.common,nm.specularmap,nm.envmap,nm.aomap,nm.lightmap,nm.emissivemap,nm.bumpmap,nm.normalmap,nm.displacementmap,nm.fog,nm.lights,{emissive:{value:new Rf(0)}}]),vertexShader:tm.meshlambert_vert,fragmentShader:tm.meshlambert_frag},phong:{uniforms:Lg([nm.common,nm.specularmap,nm.envmap,nm.aomap,nm.lightmap,nm.emissivemap,nm.bumpmap,nm.normalmap,nm.displacementmap,nm.fog,nm.lights,{emissive:{value:new Rf(0)},specular:{value:new Rf(1118481)},shininess:{value:30}}]),vertexShader:tm.meshphong_vert,fragmentShader:tm.meshphong_frag},standard:{uniforms:Lg([nm.common,nm.envmap,nm.aomap,nm.lightmap,nm.emissivemap,nm.bumpmap,nm.normalmap,nm.displacementmap,nm.roughnessmap,nm.metalnessmap,nm.fog,nm.lights,{emissive:{value:new Rf(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:tm.meshphysical_vert,fragmentShader:tm.meshphysical_frag},toon:{uniforms:Lg([nm.common,nm.aomap,nm.lightmap,nm.emissivemap,nm.bumpmap,nm.normalmap,nm.displacementmap,nm.gradientmap,nm.fog,nm.lights,{emissive:{value:new Rf(0)}}]),vertexShader:tm.meshtoon_vert,fragmentShader:tm.meshtoon_frag},matcap:{uniforms:Lg([nm.common,nm.bumpmap,nm.normalmap,nm.displacementmap,nm.fog,{matcap:{value:null}}]),vertexShader:tm.meshmatcap_vert,fragmentShader:tm.meshmatcap_frag},points:{uniforms:Lg([nm.points,nm.fog]),vertexShader:tm.points_vert,fragmentShader:tm.points_frag},dashed:{uniforms:Lg([nm.common,nm.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:tm.linedashed_vert,fragmentShader:tm.linedashed_frag},depth:{uniforms:Lg([nm.common,nm.displacementmap]),vertexShader:tm.depth_vert,fragmentShader:tm.depth_frag},normal:{uniforms:Lg([nm.common,nm.bumpmap,nm.normalmap,nm.displacementmap,{opacity:{value:1}}]),vertexShader:tm.meshnormal_vert,fragmentShader:tm.meshnormal_frag},sprite:{uniforms:Lg([nm.sprite,nm.fog]),vertexShader:tm.sprite_vert,fragmentShader:tm.sprite_frag},background:{uniforms:{uvTransform:{value:new Dd},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:tm.background_vert,fragmentShader:tm.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Dd}},vertexShader:tm.backgroundCube_vert,fragmentShader:tm.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:tm.cube_vert,fragmentShader:tm.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:tm.equirect_vert,fragmentShader:tm.equirect_frag},distanceRGBA:{uniforms:Lg([nm.common,nm.displacementmap,{referencePosition:{value:new fp},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:tm.distanceRGBA_vert,fragmentShader:tm.distanceRGBA_frag},shadow:{uniforms:Lg([nm.lights,nm.fog,{color:{value:new Rf(0)},opacity:{value:1}}]),vertexShader:tm.shadow_vert,fragmentShader:tm.shadow_frag}};rm.physical={uniforms:Lg([rm.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Dd},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Dd},clearcoatNormalScale:{value:new Nd(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Dd},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Dd},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Dd},sheen:{value:0},sheenColor:{value:new Rf(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Dd},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Dd},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Dd},transmissionSamplerSize:{value:new Nd},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Dd},attenuationDistance:{value:0},attenuationColor:{value:new Rf(0)},specularColor:{value:new Rf(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Dd},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Dd},anisotropyVector:{value:new Nd},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Dd}}]),vertexShader:tm.meshphysical_vert,fragmentShader:tm.meshphysical_frag};const im={r:0,b:0,g:0},om=new tf,sm=new Wp;function am(e,t,n,r,i,o,s){const a=new Rf(0);let l,A,c=!0===o?0:1,u=null,h=0,d=null;function p(e){let r=!0===e.isScene?e.background:null;if(r&&r.isTexture){r=(e.backgroundBlurriness>0?n:t).get(r)}return r}function f(t,n){t.getRGB(im,Pg(e)),r.buffers.color.setClear(im.r,im.g,im.b,n,s)}return{getClearColor:function(){return a},setClearColor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;a.set(e),c=t,f(a,c)},getClearAlpha:function(){return c},setClearAlpha:function(e){c=e,f(a,c)},render:function(t){let n=!1;const i=p(t);null===i?f(a,c):i&&i.isColor&&(f(i,1),n=!0);const o=e.xr.getEnvironmentBlendMode();"additive"===o?r.buffers.color.setClear(0,0,0,1,s):"alpha-blend"===o&&r.buffers.color.setClear(0,0,0,0,s),(e.autoClear||n)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil)},addToRenderList:function(t,n){const r=p(n);r&&(r.isCubeTexture||r.mapping===Zc)?(void 0===A&&(A=new Mg(new Fg(1,1,1),new Rg({name:"BackgroundCubeMaterial",uniforms:Ig(rm.backgroundCube.uniforms),vertexShader:rm.backgroundCube.vertexShader,fragmentShader:rm.backgroundCube.fragmentShader,side:ZA,depthTest:!1,depthWrite:!1,fog:!1})),A.geometry.deleteAttribute("normal"),A.geometry.deleteAttribute("uv"),A.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(A.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(A)),om.copy(n.backgroundRotation),om.x*=-1,om.y*=-1,om.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(om.y*=-1,om.z*=-1),A.material.uniforms.envMap.value=r,A.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,A.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,A.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,A.material.uniforms.backgroundRotation.value.setFromMatrix4(sm.makeRotationFromEuler(om)),A.material.toneMapped=$d.getTransfer(r.colorSpace)!==Oh,u===r&&h===r.version&&d===e.toneMapping||(A.material.needsUpdate=!0,u=r,h=r.version,d=e.toneMapping),A.layers.enableAll(),t.unshift(A,A.geometry,A.material,0,0,null)):r&&r.isTexture&&(void 0===l&&(l=new Mg(new em(2,2),new Rg({name:"BackgroundMaterial",uniforms:Ig(rm.background.uniforms),vertexShader:rm.background.vertexShader,fragmentShader:rm.background.fragmentShader,side:JA,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=r,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=$d.getTransfer(r.colorSpace)!==Oh,!0===r.matrixAutoUpdate&&r.updateMatrix(),l.material.uniforms.uvTransform.value.copy(r.matrix),u===r&&h===r.version&&d===e.toneMapping||(l.material.needsUpdate=!0,u=r,h=r.version,d=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))}}}function lm(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=A(null);let o=i,s=!1;function a(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function A(e){const t=[],r=[],i=[];for(let o=0;o<n;o++)t[o]=0,r[o]=0,i[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function c(){const e=o.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function u(e){h(e,0)}function h(t,n){const r=o.newAttributes,i=o.enabledAttributes,s=o.attributeDivisors;r[t]=1,0===i[t]&&(e.enableVertexAttribArray(t),i[t]=1),s[t]!==n&&(e.vertexAttribDivisor(t,n),s[t]=n)}function d(){const t=o.newAttributes,n=o.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function p(t,n,r,i,o,s,a){!0===a?e.vertexAttribIPointer(t,n,r,o,s):e.vertexAttribPointer(t,n,r,i,o,s)}function f(){g(),s=!0,o!==i&&(o=i,a(o.object))}function g(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(n,i,l,f,g){let m=!1;const v=function(t,n,i){const o=!0===i.wireframe;let s=r[t.id];void 0===s&&(s={},r[t.id]=s);let a=s[n.id];void 0===a&&(a={},s[n.id]=a);let l=a[o];void 0===l&&(l=A(e.createVertexArray()),a[o]=l);return l}(f,l,i);o!==v&&(o=v,a(o.object)),m=function(e,t,n,r){const i=o.attributes,s=t.attributes;let a=0;const l=n.getAttributes();for(const o in l){if(l[o].location>=0){const t=i[o];let n=s[o];if(void 0===n&&("instanceMatrix"===o&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===o&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;a++}}return o.attributesNum!==a||o.index!==r}(n,f,l,g),m&&function(e,t,n,r){const i={},s=t.attributes;let a=0;const l=n.getAttributes();for(const o in l){if(l[o].location>=0){let t=s[o];void 0===t&&("instanceMatrix"===o&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===o&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),i[o]=n,a++}}o.attributes=i,o.attributesNum=a,o.index=r}(n,f,l,g),null!==g&&t.update(g,e.ELEMENT_ARRAY_BUFFER),(m||s)&&(s=!1,function(n,r,i,o){c();const s=o.attributes,a=i.getAttributes(),l=r.defaultAttributeValues;for(const A in a){const r=a[A];if(r.location>=0){let i=s[A];if(void 0===i&&("instanceMatrix"===A&&n.instanceMatrix&&(i=n.instanceMatrix),"instanceColor"===A&&n.instanceColor&&(i=n.instanceColor)),void 0!==i){const s=i.normalized,a=i.itemSize,l=t.get(i);if(void 0===l)continue;const A=l.buffer,c=l.type,d=l.bytesPerElement,f=c===e.INT||c===e.UNSIGNED_INT||i.gpuType===mu;if(i.isInterleavedBufferAttribute){const t=i.data,l=t.stride,g=i.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)h(r.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<r.locationSize;e++)u(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,A);for(let e=0;e<r.locationSize;e++)p(r.location+e,a/r.locationSize,c,s,l*d,(g+a/r.locationSize*e)*d,f)}else{if(i.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)h(r.location+e,i.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=i.meshPerAttribute*i.count)}else for(let e=0;e<r.locationSize;e++)u(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,A);for(let e=0;e<r.locationSize;e++)p(r.location+e,a/r.locationSize,c,s,a*d,a/r.locationSize*e*d,f)}}else if(void 0!==l){const t=l[A];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(r.location,t);break;case 3:e.vertexAttrib3fv(r.location,t);break;case 4:e.vertexAttrib4fv(r.location,t);break;default:e.vertexAttrib1fv(r.location,t)}}}}d()}(n,i,l,f),null!==g&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(g).buffer))},reset:f,resetDefaultState:g,dispose:function(){f();for(const e in r){const t=r[e];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0===r[e.id])return;const t=r[e.id];for(const n in t){const e=t[n];for(const t in e)l(e[t].object),delete e[t];delete t[n]}delete r[e.id]},releaseStatesOfProgram:function(e){for(const t in r){const n=r[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)l(i[e].object),delete i[e];delete n[e.id]}},initAttributes:c,enableAttribute:u,disableUnusedAttributes:d}}function Am(e,t,n){let r;function i(t,i,o){0!==o&&(e.drawArraysInstanced(r,t,i,o),n.update(i,r,o))}this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=i,this.renderMultiDraw=function(e,i,o){if(0===o)return;const s=t.get("WEBGL_multi_draw");if(null===s)for(let t=0;t<o;t++)this.render(e[t],i[t]);else{s.multiDrawArraysWEBGL(r,e,0,i,0,o);let t=0;for(let e=0;e<o;e++)t+=i[e];n.update(t,r,1)}},this.renderMultiDrawInstances=function(e,o,s,a){if(0===s)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)i(e[t],o[t],a[t]);else{l.multiDrawArraysInstancedWEBGL(r,e,0,o,0,a,0,s);let t=0;for(let e=0;e<s;e++)t+=o[e];for(let e=0;e<a.length;e++)n.update(t,r,a[e])}}}function cm(e,t,n,r){let i;function o(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let s=void 0!==n.precision?n.precision:"highp";const a=o(s);a!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",a,"instead."),s=a);const l=!0===n.logarithmicDepthBuffer,A=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),c=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:o,textureFormatReadable:function(t){return t===Eu||r.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const i=n===bu&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==du&&r.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==yu&&!i)},precision:s,logarithmicDepthBuffer:l,maxTextures:A,maxVertexTextures:c,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:c>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function um(e){const t=this;let n=null,r=0,i=!1,o=!1;const s=new qg,a=new Dd,l={value:null,needsUpdate:!1};function A(e,n,r,i){const o=null!==e?e.length:0;let A=null;if(0!==o){if(A=l.value,!0!==i||null===A){const t=r+4*o,i=n.matrixWorldInverse;a.getNormalMatrix(i),(null===A||A.length<t)&&(A=new Float32Array(t));for(let n=0,l=r;n!==o;++n,l+=4)s.copy(e[n]).applyMatrix4(i,a),s.normal.toArray(A,l),A[l+3]=s.constant}l.value=A,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,A}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){o=!0,A(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(e,t){n=A(e,t,0)},this.setState=function(s,a,c){const u=s.clippingPlanes,h=s.clipIntersection,d=s.clipShadows,p=e.get(s);if(!i||null===u||0===u.length||o&&!d)o?A(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{const e=o?0:r,t=4*e;let i=p.clippingState||null;l.value=i,i=A(u,a,t,c);for(let r=0;r!==t;++r)i[r]=n[r];p.clippingState=i,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function hm(e){let t=new WeakMap;function n(e,t){return t===$c?e.mapping=Xc:t===Jc&&(e.mapping=Yc),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const o=i.mapping;if(o===$c||o===Jc){if(t.has(i)){return n(t.get(i).texture,i.mapping)}{const o=i.image;if(o&&o.height>0){const s=new Vg(o.height);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}class dm extends kg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,o=n+e,s=r+t,a=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,o=i+e*this.view.width,s-=t*this.view.offsetY,a=s-t*this.view.height}this.projectionMatrix.makeOrthographic(i,o,s,a,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const pm=[.125,.215,.35,.446,.526,.582],fm=20,gm=new dm,mm=new Rf;let vm=null,ym=0,bm=0,wm=!1;const xm=(1+Math.sqrt(5))/2,_m=1/xm,Sm=[new fp(-xm,_m,0),new fp(xm,_m,0),new fp(-_m,0,xm),new fp(_m,0,xm),new fp(0,xm,-_m),new fp(0,xm,_m),new fp(-1,1,-1),new fp(1,1,-1),new fp(-1,1,1),new fp(1,1,1)];class Cm{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;vm=this._renderer.getRenderTarget(),ym=this._renderer.getActiveCubeFace(),bm=this._renderer.getActiveMipmapLevel(),wm=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}fromCubemap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Tm(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Mm(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(vm,ym,bm),this._renderer.xr.enabled=wm,e.scissorTest=!1,Em(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Xc||e.mapping===Yc?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),vm=this._renderer.getRenderTarget(),ym=this._renderer.getActiveCubeFace(),bm=this._renderer.getActiveMipmapLevel(),wm=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:lu,minFilter:lu,generateMipmaps:!1,type:bu,format:Eu,colorSpace:Rh,depthBuffer:!1},r=Bm(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Bm(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const o=e-4+1+pm.length;for(let s=0;s<o;s++){const o=Math.pow(2,i);n.push(o);let a=1/o;s>e-4?a=pm[s-e+4-1]:0===s&&(a=0),r.push(a);const l=1/(o-2),A=-l,c=1+l,u=[A,A,c,A,c,c,A,A,c,c,A,c],h=6,d=6,p=3,f=2,g=1,m=new Float32Array(p*d*h),v=new Float32Array(f*d*h),y=new Float32Array(g*d*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];m.set(r,p*d*e),v.set(u,f*d*e);const i=[e,e,e,e,e,e];y.set(i,g*d*e)}const b=new cg;b.setAttribute("position",new Kf(m,p)),b.setAttribute("uv",new Kf(v,f)),b.setAttribute("faceIndex",new Kf(y,g)),t.push(b),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(fm),i=new fp(0,1,0),o=new Rg({name:"SphericalGaussianBlur",defines:{n:fm,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Fm(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:tc,depthTest:!1,depthWrite:!1});return o}(r,e,t)}return r}_compileMaterial(e){const t=new Mg(this._lodPlanes[0],e);this._renderer.compile(t,gm)}_sceneToCubeUV(e,t,n,r){const i=new Qg(90,1,t,n),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],a=this._renderer,l=a.autoClear,A=a.toneMapping;a.getClearColor(mm),a.toneMapping=Dc,a.autoClear=!1;const c=new Of({name:"PMREM.Background",side:ZA,depthWrite:!1,depthTest:!1}),u=new Mg(new Fg,c);let h=!1;const d=e.background;d?d.isColor&&(c.color.copy(d),e.background=null,h=!0):(c.color.copy(mm),h=!0);for(let p=0;p<6;p++){const t=p%3;0===t?(i.up.set(0,o[p],0),i.lookAt(s[p],0,0)):1===t?(i.up.set(0,0,o[p]),i.lookAt(0,s[p],0)):(i.up.set(0,o[p],0),i.lookAt(0,0,s[p]));const n=this._cubeSize;Em(r,t*n,p>2?n:0,n,n),a.setRenderTarget(r),h&&a.render(u,i),a.render(e,i)}u.geometry.dispose(),u.material.dispose(),a.toneMapping=A,a.autoClear=l,e.background=d}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===Xc||e.mapping===Yc;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Tm()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Mm());const i=r?this._cubemapMaterial:this._equirectMaterial,o=new Mg(this._lodPlanes[0],i);i.uniforms.envMap.value=e;const s=this._cubeSize;Em(t,0,0,3*s,2*s),n.setRenderTarget(t),n.render(o,gm)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let i=1;i<r;i++){const t=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),n=Sm[(r-i-1)%Sm.length];this._blur(e,i-1,i,t,n)}t.autoClear=n}_blur(e,t,n,r,i){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",i),this._halfBlur(o,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,o,s){const a=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const A=new Mg(this._lodPlanes[r],l),c=l.uniforms,u=this._sizeLods[n]-1,h=isFinite(i)?Math.PI/(2*u):2*Math.PI/39,d=i/h,p=isFinite(i)?1+Math.floor(3*d):fm;p>fm&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${p} samples when the maximum is set to 20`);const f=[];let g=0;for(let y=0;y<fm;++y){const e=y/d,t=Math.exp(-e*e/2);f.push(t),0===y?g+=t:y<p&&(g+=2*t)}for(let y=0;y<f.length;y++)f[y]=f[y]/g;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=f,c.latitudinal.value="latitudinal"===o,s&&(c.poleAxis.value=s);const{_lodMax:m}=this;c.dTheta.value=h,c.mipInt.value=m-n;const v=this._sizeLods[r];Em(t,3*v*(r>m-4?r-m+4:0),4*(this._cubeSize-v),3*v,2*v),a.setRenderTarget(t),a.render(A,gm)}}function Bm(e,t,n){const r=new Ap(e,t,n);return r.texture.mapping=Zc,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Em(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Mm(){return new Rg({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Fm(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:tc,depthTest:!1,depthWrite:!1})}function Tm(){return new Rg({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Fm(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:tc,depthTest:!1,depthWrite:!1})}function Fm(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function Im(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const o=i.mapping,s=o===$c||o===Jc,a=o===Xc||o===Yc;if(s||a){let o=t.get(i);const l=void 0!==o?o.texture.pmremVersion:0;if(i.isRenderTargetTexture&&i.pmremVersion!==l)return null===n&&(n=new Cm(e)),o=s?n.fromEquirectangular(i,o):n.fromCubemap(i,o),o.texture.pmremVersion=i.pmremVersion,t.set(i,o),o.texture;if(void 0!==o)return o.texture;{const l=i.image;return s&&l&&l.height>0||a&&l&&function(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)?(null===n&&(n=new Cm(e)),o=s?n.fromEquirectangular(i):n.fromCubemap(i),o.texture.pmremVersion=i.pmremVersion,t.set(i,o),i.addEventListener("dispose",r),o.texture):null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Lm(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){const t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Pm(e,t,n,r){const i={},o=new WeakMap;function s(e){const a=e.target;null!==a.index&&t.remove(a.index);for(const n in a.attributes)t.remove(a.attributes[n]);for(const n in a.morphAttributes){const e=a.morphAttributes[n];for(let n=0,r=e.length;n<r;n++)t.remove(e[n])}a.removeEventListener("dispose",s),delete i[a.id];const l=o.get(a);l&&(t.remove(l),o.delete(a)),r.releaseStatesOfGeometry(a),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,n.memory.geometries--}function a(e){const n=[],r=e.index,i=e.attributes.position;let s=0;if(null!==r){const e=r.array;s=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],o=e[t+2];n.push(r,i,i,o,o,r)}}else{if(void 0===i)return;{const e=i.array;s=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}}const a=new(Qd(n)?eg:Jf)(n,1);a.version=s;const l=o.get(e);l&&t.remove(l),o.set(e,a)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",s),i[t.id]=!0,n.memory.geometries++),t},update:function(n){const r=n.attributes;for(const o in r)t.update(r[o],e.ARRAY_BUFFER);const i=n.morphAttributes;for(const o in i){const n=i[o];for(let r=0,i=n.length;r<i;r++)t.update(n[r],e.ARRAY_BUFFER)}},getWireframeAttribute:function(e){const t=o.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&a(e)}else a(e);return o.get(e)}}}function Um(e,t,n){let r,i,o;function s(t,s,a){0!==a&&(e.drawElementsInstanced(r,s,i,t*o,a),n.update(s,r,a))}this.setMode=function(e){r=e},this.setIndex=function(e){i=e.type,o=e.bytesPerElement},this.render=function(t,s){e.drawElements(r,s,i,t*o),n.update(s,r,1)},this.renderInstances=s,this.renderMultiDraw=function(e,s,a){if(0===a)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<a;t++)this.render(e[t]/o,s[t]);else{l.multiDrawElementsWEBGL(r,s,0,i,e,0,a);let t=0;for(let e=0;e<a;e++)t+=s[e];n.update(t,r,1)}},this.renderMultiDrawInstances=function(e,a,l,A){if(0===l)return;const c=t.get("WEBGL_multi_draw");if(null===c)for(let t=0;t<e.length;t++)s(e[t]/o,a[t],A[t]);else{c.multiDrawElementsInstancedWEBGL(r,a,0,i,e,0,A,0,l);let t=0;for(let e=0;e<l;e++)t+=a[e];for(let e=0;e<A.length;e++)n.update(t,r,A[e])}}}function Rm(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function km(e,t,n){const r=new WeakMap,i=new ap;return{update:function(o,s,a){const l=o.morphTargetInfluences,A=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,c=void 0!==A?A.length:0;let u=r.get(s);if(void 0===u||u.count!==c){void 0!==u&&u.texture.dispose();const h=void 0!==s.morphAttributes.position,d=void 0!==s.morphAttributes.normal,p=void 0!==s.morphAttributes.color,f=s.morphAttributes.position||[],g=s.morphAttributes.normal||[],m=s.morphAttributes.color||[];let v=0;!0===h&&(v=1),!0===d&&(v=2),!0===p&&(v=3);let y=s.attributes.position.count*v,b=1;y>t.maxTextureSize&&(b=Math.ceil(y/t.maxTextureSize),y=t.maxTextureSize);const w=new Float32Array(y*b*4*c),x=new cp(w,y,b,c);x.type=yu,x.needsUpdate=!0;const _=4*v;for(let C=0;C<c;C++){const B=f[C],E=g[C],M=m[C],T=y*b*4*C;for(let F=0;F<B.count;F++){const I=F*_;!0===h&&(i.fromBufferAttribute(B,F),w[T+I+0]=i.x,w[T+I+1]=i.y,w[T+I+2]=i.z,w[T+I+3]=0),!0===d&&(i.fromBufferAttribute(E,F),w[T+I+4]=i.x,w[T+I+5]=i.y,w[T+I+6]=i.z,w[T+I+7]=0),!0===p&&(i.fromBufferAttribute(M,F),w[T+I+8]=i.x,w[T+I+9]=i.y,w[T+I+10]=i.z,w[T+I+11]=4===M.itemSize?i.w:1)}}function S(){x.dispose(),r.delete(s),s.removeEventListener("dispose",S)}u={count:c,texture:x,size:new Nd(y,b)},r.set(s,u),s.addEventListener("dispose",S)}if(!0===o.isInstancedMesh&&null!==o.morphTexture)a.getUniforms().setValue(e,"morphTexture",o.morphTexture,n);else{let L=0;for(let U=0;U<l.length;U++)L+=l[U];const P=s.morphTargetsRelative?1:1-L;a.getUniforms().setValue(e,"morphTargetBaseInfluence",P),a.getUniforms().setValue(e,"morphTargetInfluences",l)}a.getUniforms().setValue(e,"morphTargetsTexture",u.texture,n),a.getUniforms().setValue(e,"morphTargetsTextureSize",u.size)}}}function Nm(e,t,n,r){let i=new WeakMap;function o(e){const t=e.target;t.removeEventListener("dispose",o),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(s){const a=r.render.frame,l=s.geometry,A=t.get(s,l);if(i.get(A)!==a&&(t.update(A),i.set(A,a)),s.isInstancedMesh&&(!1===s.hasEventListener("dispose",o)&&s.addEventListener("dispose",o),i.get(s)!==a&&(n.update(s.instanceMatrix,e.ARRAY_BUFFER),null!==s.instanceColor&&n.update(s.instanceColor,e.ARRAY_BUFFER),i.set(s,a))),s.isSkinnedMesh){const e=s.skeleton;i.get(e)!==a&&(e.update(),i.set(e,a))}return A},dispose:function(){i=new WeakMap}}}class Dm extends sp{constructor(e,t,n,r,i,o,s,a,l,A){if((A=void 0!==A?A:Fu)!==Fu&&A!==Iu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&A===Fu&&(n=vu),void 0===n&&A===Iu&&(n=_u),super(null,r,i,o,s,a,A,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==s?s:ru,this.minFilter=void 0!==a?a:ru,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}const Om=new sp,Qm=new Dm(1,1);Qm.compareFunction=ad;const Hm=new cp,zm=new hp,jm=new jg,Vm=[],Wm=[],Gm=new Float32Array(16),Km=new Float32Array(9),qm=new Float32Array(4);function Xm(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let o=Vm[i];if(void 0===o&&(o=new Float32Array(i),Vm[i]=o),0!==t){r.toArray(o,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(o,i)}return o}function Ym(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function $m(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function Jm(e,t){let n=Wm[t];void 0===n&&(n=new Int32Array(t),Wm[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Zm(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function ev(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Ym(n,t))return;e.uniform2fv(this.addr,t),$m(n,t)}}function tv(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Ym(n,t))return;e.uniform3fv(this.addr,t),$m(n,t)}}function nv(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Ym(n,t))return;e.uniform4fv(this.addr,t),$m(n,t)}}function rv(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Ym(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),$m(n,t)}else{if(Ym(n,r))return;qm.set(r),e.uniformMatrix2fv(this.addr,!1,qm),$m(n,r)}}function iv(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Ym(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),$m(n,t)}else{if(Ym(n,r))return;Km.set(r),e.uniformMatrix3fv(this.addr,!1,Km),$m(n,r)}}function ov(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Ym(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),$m(n,t)}else{if(Ym(n,r))return;Gm.set(r),e.uniformMatrix4fv(this.addr,!1,Gm),$m(n,r)}}function sv(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function av(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Ym(n,t))return;e.uniform2iv(this.addr,t),$m(n,t)}}function lv(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Ym(n,t))return;e.uniform3iv(this.addr,t),$m(n,t)}}function Av(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Ym(n,t))return;e.uniform4iv(this.addr,t),$m(n,t)}}function cv(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function uv(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Ym(n,t))return;e.uniform2uiv(this.addr,t),$m(n,t)}}function hv(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Ym(n,t))return;e.uniform3uiv(this.addr,t),$m(n,t)}}function dv(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Ym(n,t))return;e.uniform4uiv(this.addr,t),$m(n,t)}}function pv(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i);const o=this.type===e.SAMPLER_2D_SHADOW?Qm:Om;n.setTexture2D(t||o,i)}function fv(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||zm,i)}function gv(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||jm,i)}function mv(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Hm,i)}function vv(e,t){e.uniform1fv(this.addr,t)}function yv(e,t){const n=Xm(t,this.size,2);e.uniform2fv(this.addr,n)}function bv(e,t){const n=Xm(t,this.size,3);e.uniform3fv(this.addr,n)}function wv(e,t){const n=Xm(t,this.size,4);e.uniform4fv(this.addr,n)}function xv(e,t){const n=Xm(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function _v(e,t){const n=Xm(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Sv(e,t){const n=Xm(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Cv(e,t){e.uniform1iv(this.addr,t)}function Bv(e,t){e.uniform2iv(this.addr,t)}function Ev(e,t){e.uniform3iv(this.addr,t)}function Mv(e,t){e.uniform4iv(this.addr,t)}function Tv(e,t){e.uniform1uiv(this.addr,t)}function Fv(e,t){e.uniform2uiv(this.addr,t)}function Iv(e,t){e.uniform3uiv(this.addr,t)}function Lv(e,t){e.uniform4uiv(this.addr,t)}function Pv(e,t,n){const r=this.cache,i=t.length,o=Jm(n,i);Ym(r,o)||(e.uniform1iv(this.addr,o),$m(r,o));for(let s=0;s!==i;++s)n.setTexture2D(t[s]||Om,o[s])}function Uv(e,t,n){const r=this.cache,i=t.length,o=Jm(n,i);Ym(r,o)||(e.uniform1iv(this.addr,o),$m(r,o));for(let s=0;s!==i;++s)n.setTexture3D(t[s]||zm,o[s])}function Rv(e,t,n){const r=this.cache,i=t.length,o=Jm(n,i);Ym(r,o)||(e.uniform1iv(this.addr,o),$m(r,o));for(let s=0;s!==i;++s)n.setTextureCube(t[s]||jm,o[s])}function kv(e,t,n){const r=this.cache,i=t.length,o=Jm(n,i);Ym(r,o)||(e.uniform1iv(this.addr,o),$m(r,o));for(let s=0;s!==i;++s)n.setTexture2DArray(t[s]||Hm,o[s])}class Nv{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return Zm;case 35664:return ev;case 35665:return tv;case 35666:return nv;case 35674:return rv;case 35675:return iv;case 35676:return ov;case 5124:case 35670:return sv;case 35667:case 35671:return av;case 35668:case 35672:return lv;case 35669:case 35673:return Av;case 5125:return cv;case 36294:return uv;case 36295:return hv;case 36296:return dv;case 35678:case 36198:case 36298:case 36306:case 35682:return pv;case 35679:case 36299:case 36307:return fv;case 35680:case 36300:case 36308:case 36293:return gv;case 36289:case 36303:case 36311:case 36292:return mv}}(t.type)}}class Dv{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return vv;case 35664:return yv;case 35665:return bv;case 35666:return wv;case 35674:return xv;case 35675:return _v;case 35676:return Sv;case 5124:case 35670:return Cv;case 35667:case 35671:return Bv;case 35668:case 35672:return Ev;case 35669:case 35673:return Mv;case 5125:return Tv;case 36294:return Fv;case 36295:return Iv;case 36296:return Lv;case 35678:case 36198:case 36298:case 36306:case 35682:return Pv;case 35679:case 36299:case 36307:return Uv;case 35680:case 36300:case 36308:case 36293:return Rv;case 36289:case 36303:case 36311:case 36292:return kv}}(t.type)}}class Ov{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.setValue(e,t[o.id],n)}}}const Qv=/(\w+)(\])?(\[|\.)?/g;function Hv(e,t){e.seq.push(t),e.map[t.id]=t}function zv(e,t,n){const r=e.name,i=r.length;for(Qv.lastIndex=0;;){const o=Qv.exec(r),s=Qv.lastIndex;let a=o[1];const l="]"===o[2],A=o[3];if(l&&(a|=0),void 0===A||"["===A&&s+2===i){Hv(n,void 0===A?new Nv(a,e,t):new Dv(a,e,t));break}{let e=n.map[a];void 0===e&&(e=new Ov(a),Hv(n,e)),n=e}}}class jv{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);zv(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,o=t.length;i!==o;++i){const o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function Vv(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}const Wv=37297;let Gv=0;function Kv(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const r=parseInt(o[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let s=i;s<o;s++){const e=s+1;r.push(`${e===t?">":" "} ${e}: ${n[s]}`)}return r.join("\n")}(e.getShaderSource(t),r)}return i}function qv(e,t){const n=function(e){const t=$d.getPrimaries($d.workingColorSpace),n=$d.getPrimaries(e);let r;switch(t===n?r="":t===Hh&&n===Qh?r="LinearDisplayP3ToLinearSRGB":t===Qh&&n===Hh&&(r="LinearSRGBToLinearDisplayP3"),e){case Rh:case Nh:return[r,"LinearTransferOETF"];case Uh:case kh:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),[r,"LinearTransferOETF"]}}(t);return`vec4 ${e}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Xv(e,t){let n;switch(t){case Oc:n="Linear";break;case Qc:n="Reinhard";break;case Hc:n="OptimizedCineon";break;case zc:n="ACESFilmic";break;case Vc:n="AgX";break;case Wc:n="Neutral";break;case jc:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Yv(e){return""!==e}function $v(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Jv(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Zv=/^[ \t]*#include +<([\w\d./]+)>/gm;function ey(e){return e.replace(Zv,ny)}const ty=new Map;function ny(e,t){let n=tm[t];if(void 0===n){const e=ty.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=tm[e],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return ey(n)}const ry=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function iy(e){return e.replace(ry,oy)}function oy(e,t,n,r){let i="";for(let o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function sy(e){let t=`precision ${e.precision} float;\n\tprecision ${e.precision} int;\n\tprecision ${e.precision} sampler2D;\n\tprecision ${e.precision} samplerCube;\n\tprecision ${e.precision} sampler3D;\n\tprecision ${e.precision} sampler2DArray;\n\tprecision ${e.precision} sampler2DShadow;\n\tprecision ${e.precision} samplerCubeShadow;\n\tprecision ${e.precision} sampler2DArrayShadow;\n\tprecision ${e.precision} isampler2D;\n\tprecision ${e.precision} isampler3D;\n\tprecision ${e.precision} isamplerCube;\n\tprecision ${e.precision} isampler2DArray;\n\tprecision ${e.precision} usampler2D;\n\tprecision ${e.precision} usampler3D;\n\tprecision ${e.precision} usamplerCube;\n\tprecision ${e.precision} usampler2DArray;\n\t`;return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function ay(e,t,n,r){const i=e.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===XA?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===YA?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===$A&&(t="SHADOWMAP_TYPE_VSM"),t}(n),A=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Xc:case Yc:t="ENVMAP_TYPE_CUBE";break;case Zc:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),c=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===Yc&&(t="ENVMAP_MODE_REFRACTION");return t}(n),u=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Rc:t="ENVMAP_BLENDING_MULTIPLY";break;case kc:t="ENVMAP_BLENDING_MIX";break;case Nc:t="ENVMAP_BLENDING_ADD"}return t}(n),h=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),d=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Yv).join("\n")}(n),p=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(o),f=i.createProgram();let g,m,v=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Yv).join("\n"),g.length>0&&(g+="\n"),m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Yv).join("\n"),m.length>0&&(m+="\n")):(g=[sy(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Yv).join("\n"),m=[sy(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+A:"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Dc?"#define TONE_MAPPING":"",n.toneMapping!==Dc?tm.tonemapping_pars_fragment:"",n.toneMapping!==Dc?Xv("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",tm.colorspace_pars_fragment,qv("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Yv).join("\n")),s=ey(s),s=$v(s,n),s=Jv(s,n),a=ey(a),a=$v(a,n),a=Jv(a,n),s=iy(s),a=iy(a),!0!==n.isRawShaderMaterial&&(v="#version 300 es\n",g=[d,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,m=["#define varying in",n.glslVersion===xd?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===xd?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+m);const y=v+g+s,b=v+m+a,w=Vv(i,i.VERTEX_SHADER,y),x=Vv(i,i.FRAGMENT_SHADER,b);function _(t){if(e.debug.checkShaderErrors){const n=i.getProgramInfoLog(f).trim(),r=i.getShaderInfoLog(w).trim(),o=i.getShaderInfoLog(x).trim();let s=!0,a=!0;if(!1===i.getProgramParameter(f,i.LINK_STATUS))if(s=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(i,f,w,x);else{const e=Kv(i,w,"vertex"),r=Kv(i,x,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(f,i.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+n+"\n"+e+"\n"+r)}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):""!==r&&""!==o||(a=!1);a&&(t.diagnostics={runnable:s,programLog:n,vertexShader:{log:r,prefix:g},fragmentShader:{log:o,prefix:m}})}i.deleteShader(w),i.deleteShader(x),S=new jv(i,f),C=function(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),o=r.name;let s=1;r.type===e.FLOAT_MAT2&&(s=2),r.type===e.FLOAT_MAT3&&(s=3),r.type===e.FLOAT_MAT4&&(s=4),n[o]={type:r.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(i,f)}let S,C;i.attachShader(f,w),i.attachShader(f,x),void 0!==n.index0AttributeName?i.bindAttribLocation(f,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(f,0,"position"),i.linkProgram(f),this.getUniforms=function(){return void 0===S&&_(this),S},this.getAttributes=function(){return void 0===C&&_(this),C};let B=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===B&&(B=i.getProgramParameter(f,Wv)),B},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(f),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Gv++,this.cacheKey=t,this.usedTimes=1,this.program=f,this.vertexShader=w,this.fragmentShader=x,this}let ly=0;class Ay{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(i)&&(o.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new cy(e),t.set(e,n)),n}}class cy{constructor(e){this.id=ly++,this.code=e,this.usedTimes=0}}function uy(e,t,n,r,i,o,s){const a=new nf,l=new Ay,A=new Set,c=[],u=i.logarithmicDepthBuffer,h=i.vertexTextures;let d=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function f(e){return A.add(e),0===e?"uv":`uv${e}`}return{getParameters:function(o,a,c,g,m){const v=g.fog,y=m.geometry,b=o.isMeshStandardMaterial?g.environment:null,w=(o.isMeshStandardMaterial?n:t).get(o.envMap||b),x=w&&w.mapping===Zc?w.image.height:null,_=p[o.type];null!==o.precision&&(d=i.getMaxPrecision(o.precision),d!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",d,"instead."));const S=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,C=void 0!==S?S.length:0;let B,E,M,T,F=0;if(void 0!==y.morphAttributes.position&&(F=1),void 0!==y.morphAttributes.normal&&(F=2),void 0!==y.morphAttributes.color&&(F=3),_){const e=rm[_];B=e.vertexShader,E=e.fragmentShader}else B=o.vertexShader,E=o.fragmentShader,l.update(o),M=l.getVertexShaderID(o),T=l.getFragmentShaderID(o);const I=e.getRenderTarget(),L=!0===m.isInstancedMesh,P=!0===m.isBatchedMesh,U=!!o.map,R=!!o.matcap,k=!!w,N=!!o.aoMap,D=!!o.lightMap,O=!!o.bumpMap,Q=!!o.normalMap,H=!!o.displacementMap,z=!!o.emissiveMap,j=!!o.metalnessMap,V=!!o.roughnessMap,W=o.anisotropy>0,G=o.clearcoat>0,K=o.dispersion>0,q=o.iridescence>0,X=o.sheen>0,Y=o.transmission>0,$=W&&!!o.anisotropyMap,J=G&&!!o.clearcoatMap,Z=G&&!!o.clearcoatNormalMap,ee=G&&!!o.clearcoatRoughnessMap,te=q&&!!o.iridescenceMap,ne=q&&!!o.iridescenceThicknessMap,re=X&&!!o.sheenColorMap,ie=X&&!!o.sheenRoughnessMap,oe=!!o.specularMap,se=!!o.specularColorMap,ae=!!o.specularIntensityMap,le=Y&&!!o.transmissionMap,Ae=Y&&!!o.thicknessMap,ce=!!o.gradientMap,ue=!!o.alphaMap,he=o.alphaTest>0,de=!!o.alphaHash,pe=!!o.extensions;let fe=Dc;o.toneMapped&&(null!==I&&!0!==I.isXRRenderTarget||(fe=e.toneMapping));const ge={shaderID:_,shaderType:o.type,shaderName:o.name,vertexShader:B,fragmentShader:E,defines:o.defines,customVertexShaderID:M,customFragmentShaderID:T,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:d,batching:P,instancing:L,instancingColor:L&&null!==m.instanceColor,instancingMorph:L&&null!==m.morphTexture,supportsVertexTextures:h,outputColorSpace:null===I?e.outputColorSpace:!0===I.isXRRenderTarget?I.texture.colorSpace:Rh,alphaToCoverage:!!o.alphaToCoverage,map:U,matcap:R,envMap:k,envMapMode:k&&w.mapping,envMapCubeUVHeight:x,aoMap:N,lightMap:D,bumpMap:O,normalMap:Q,displacementMap:h&&H,emissiveMap:z,normalMapObjectSpace:Q&&o.normalMapType===Lh,normalMapTangentSpace:Q&&o.normalMapType===Ih,metalnessMap:j,roughnessMap:V,anisotropy:W,anisotropyMap:$,clearcoat:G,clearcoatMap:J,clearcoatNormalMap:Z,clearcoatRoughnessMap:ee,dispersion:K,iridescence:q,iridescenceMap:te,iridescenceThicknessMap:ne,sheen:X,sheenColorMap:re,sheenRoughnessMap:ie,specularMap:oe,specularColorMap:se,specularIntensityMap:ae,transmission:Y,transmissionMap:le,thicknessMap:Ae,gradientMap:ce,opaque:!1===o.transparent&&o.blending===nc&&!1===o.alphaToCoverage,alphaMap:ue,alphaTest:he,alphaHash:de,combine:o.combine,mapUv:U&&f(o.map.channel),aoMapUv:N&&f(o.aoMap.channel),lightMapUv:D&&f(o.lightMap.channel),bumpMapUv:O&&f(o.bumpMap.channel),normalMapUv:Q&&f(o.normalMap.channel),displacementMapUv:H&&f(o.displacementMap.channel),emissiveMapUv:z&&f(o.emissiveMap.channel),metalnessMapUv:j&&f(o.metalnessMap.channel),roughnessMapUv:V&&f(o.roughnessMap.channel),anisotropyMapUv:$&&f(o.anisotropyMap.channel),clearcoatMapUv:J&&f(o.clearcoatMap.channel),clearcoatNormalMapUv:Z&&f(o.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ee&&f(o.clearcoatRoughnessMap.channel),iridescenceMapUv:te&&f(o.iridescenceMap.channel),iridescenceThicknessMapUv:ne&&f(o.iridescenceThicknessMap.channel),sheenColorMapUv:re&&f(o.sheenColorMap.channel),sheenRoughnessMapUv:ie&&f(o.sheenRoughnessMap.channel),specularMapUv:oe&&f(o.specularMap.channel),specularColorMapUv:se&&f(o.specularColorMap.channel),specularIntensityMapUv:ae&&f(o.specularIntensityMap.channel),transmissionMapUv:le&&f(o.transmissionMap.channel),thicknessMapUv:Ae&&f(o.thicknessMap.channel),alphaMapUv:ue&&f(o.alphaMap.channel),vertexTangents:!!y.attributes.tangent&&(Q||W),vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,pointsUvs:!0===m.isPoints&&!!y.attributes.uv&&(U||ue),fog:!!v,useFog:!0===o.fog,fogExp2:!!v&&v.isFogExp2,flatShading:!0===o.flatShading,sizeAttenuation:!0===o.sizeAttenuation,logarithmicDepthBuffer:u,skinning:!0===m.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:C,morphTextureStride:F,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numSpotLightMaps:a.spotLightMap.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numSpotLightShadowsWithMaps:a.numSpotLightShadowsWithMaps,numLightProbes:a.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:o.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:fe,useLegacyLights:e._useLegacyLights,decodeVideoTexture:U&&!0===o.map.isVideoTexture&&$d.getTransfer(o.map.colorSpace)===Oh,premultipliedAlpha:o.premultipliedAlpha,doubleSided:o.side===ec,flipSided:o.side===ZA,useDepthPacking:o.depthPacking>=0,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionClipCullDistance:pe&&!0===o.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:pe&&!0===o.extensions.multiDraw&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:o.customProgramCacheKey()};return ge.vertexUv1s=A.has(1),ge.vertexUv2s=A.has(2),ge.vertexUv3s=A.has(3),A.clear(),ge},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){a.disableAll(),t.supportsVertexTextures&&a.enable(0);t.instancing&&a.enable(1);t.instancingColor&&a.enable(2);t.instancingMorph&&a.enable(3);t.matcap&&a.enable(4);t.envMap&&a.enable(5);t.normalMapObjectSpace&&a.enable(6);t.normalMapTangentSpace&&a.enable(7);t.clearcoat&&a.enable(8);t.iridescence&&a.enable(9);t.alphaTest&&a.enable(10);t.vertexColors&&a.enable(11);t.vertexAlphas&&a.enable(12);t.vertexUv1s&&a.enable(13);t.vertexUv2s&&a.enable(14);t.vertexUv3s&&a.enable(15);t.vertexTangents&&a.enable(16);t.anisotropy&&a.enable(17);t.alphaHash&&a.enable(18);t.batching&&a.enable(19);t.dispersion&&a.enable(20);e.push(a.mask),a.disableAll(),t.fog&&a.enable(0);t.useFog&&a.enable(1);t.flatShading&&a.enable(2);t.logarithmicDepthBuffer&&a.enable(3);t.skinning&&a.enable(4);t.morphTargets&&a.enable(5);t.morphNormals&&a.enable(6);t.morphColors&&a.enable(7);t.premultipliedAlpha&&a.enable(8);t.shadowMapEnabled&&a.enable(9);t.useLegacyLights&&a.enable(10);t.doubleSided&&a.enable(11);t.flipSided&&a.enable(12);t.useDepthPacking&&a.enable(13);t.dithering&&a.enable(14);t.transmission&&a.enable(15);t.sheen&&a.enable(16);t.opaque&&a.enable(17);t.pointsUvs&&a.enable(18);t.decodeVideoTexture&&a.enable(19);t.alphaToCoverage&&a.enable(20);e.push(a.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=p[e.type];let n;if(t){const e=rm[t];n=Ug.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,i=c.length;e<i;e++){const t=c[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new ay(e,n,t,o),c.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:c,dispose:function(){l.dispose()}}}function hy(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function dy(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function py(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function fy(){const e=[];let t=0;const n=[],r=[],i=[];function o(n,r,i,o,s,a){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:o,renderOrder:n.renderOrder,z:s,group:a},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=s,l.group=a),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,s,a,l,A){const c=o(e,t,s,a,l,A);s.transmission>0?r.push(c):!0===s.transparent?i.push(c):n.push(c)},unshift:function(e,t,s,a,l,A){const c=o(e,t,s,a,l,A);s.transmission>0?r.unshift(c):!0===s.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||dy),r.length>1&&r.sort(t||py),i.length>1&&i.sort(t||py)}}}function gy(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new fy,e.set(t,[i])):n>=r.length?(i=new fy,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function my(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new fp,color:new Rf};break;case"SpotLight":n={position:new fp,direction:new fp,color:new Rf,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new fp,color:new Rf,distance:0,decay:0};break;case"HemisphereLight":n={direction:new fp,skyColor:new Rf,groundColor:new Rf};break;case"RectAreaLight":n={color:new Rf,position:new fp,halfWidth:new fp,halfHeight:new fp}}return e[t.id]=n,n}}}let vy=0;function yy(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function by(e){const t=new my,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Nd};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Nd,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let a=0;a<9;a++)r.probe.push(new fp);const i=new fp,o=new Wp,s=new Wp;return{setup:function(i,o){let s=0,a=0,l=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let A=0,c=0,u=0,h=0,d=0,p=0,f=0,g=0,m=0,v=0,y=0;i.sort(yy);const b=!0===o?Math.PI:1;for(let e=0,x=i.length;e<x;e++){const o=i[e],w=o.color,x=o.intensity,_=o.distance,S=o.shadow&&o.shadow.map?o.shadow.map.texture:null;if(o.isAmbientLight)s+=w.r*x*b,a+=w.g*x*b,l+=w.b*x*b;else if(o.isLightProbe){for(let e=0;e<9;e++)r.probe[e].addScaledVector(o.sh.coefficients[e],x);y++}else if(o.isDirectionalLight){const e=t.get(o);if(e.color.copy(o.color).multiplyScalar(o.intensity*b),o.castShadow){const e=o.shadow,t=n.get(o);t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,r.directionalShadow[A]=t,r.directionalShadowMap[A]=S,r.directionalShadowMatrix[A]=o.shadow.matrix,p++}r.directional[A]=e,A++}else if(o.isSpotLight){const e=t.get(o);e.position.setFromMatrixPosition(o.matrixWorld),e.color.copy(w).multiplyScalar(x*b),e.distance=_,e.coneCos=Math.cos(o.angle),e.penumbraCos=Math.cos(o.angle*(1-o.penumbra)),e.decay=o.decay,r.spot[u]=e;const i=o.shadow;if(o.map&&(r.spotLightMap[m]=o.map,m++,i.updateMatrices(o),o.castShadow&&v++),r.spotLightMatrix[u]=i.matrix,o.castShadow){const e=n.get(o);e.shadowBias=i.bias,e.shadowNormalBias=i.normalBias,e.shadowRadius=i.radius,e.shadowMapSize=i.mapSize,r.spotShadow[u]=e,r.spotShadowMap[u]=S,g++}u++}else if(o.isRectAreaLight){const e=t.get(o);e.color.copy(w).multiplyScalar(x),e.halfWidth.set(.5*o.width,0,0),e.halfHeight.set(0,.5*o.height,0),r.rectArea[h]=e,h++}else if(o.isPointLight){const e=t.get(o);if(e.color.copy(o.color).multiplyScalar(o.intensity*b),e.distance=o.distance,e.decay=o.decay,o.castShadow){const e=o.shadow,t=n.get(o);t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,r.pointShadow[c]=t,r.pointShadowMap[c]=S,r.pointShadowMatrix[c]=o.shadow.matrix,f++}r.point[c]=e,c++}else if(o.isHemisphereLight){const e=t.get(o);e.skyColor.copy(o.color).multiplyScalar(x*b),e.groundColor.copy(o.groundColor).multiplyScalar(x*b),r.hemi[d]=e,d++}}h>0&&(!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=nm.LTC_FLOAT_1,r.rectAreaLTC2=nm.LTC_FLOAT_2):(r.rectAreaLTC1=nm.LTC_HALF_1,r.rectAreaLTC2=nm.LTC_HALF_2)),r.ambient[0]=s,r.ambient[1]=a,r.ambient[2]=l;const w=r.hash;w.directionalLength===A&&w.pointLength===c&&w.spotLength===u&&w.rectAreaLength===h&&w.hemiLength===d&&w.numDirectionalShadows===p&&w.numPointShadows===f&&w.numSpotShadows===g&&w.numSpotMaps===m&&w.numLightProbes===y||(r.directional.length=A,r.spot.length=u,r.rectArea.length=h,r.point.length=c,r.hemi.length=d,r.directionalShadow.length=p,r.directionalShadowMap.length=p,r.pointShadow.length=f,r.pointShadowMap.length=f,r.spotShadow.length=g,r.spotShadowMap.length=g,r.directionalShadowMatrix.length=p,r.pointShadowMatrix.length=f,r.spotLightMatrix.length=g+m-v,r.spotLightMap.length=m,r.numSpotLightShadowsWithMaps=v,r.numLightProbes=y,w.directionalLength=A,w.pointLength=c,w.spotLength=u,w.rectAreaLength=h,w.hemiLength=d,w.numDirectionalShadows=p,w.numPointShadows=f,w.numSpotShadows=g,w.numSpotMaps=m,w.numLightProbes=y,r.version=vy++)},setupView:function(e,t){let n=0,a=0,l=0,A=0,c=0;const u=t.matrixWorldInverse;for(let h=0,d=e.length;h<d;h++){const t=e[h];if(t.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(u),n++}else if(t.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(u),e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(u),l++}else if(t.isRectAreaLight){const e=r.rectArea[A];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(u),s.identity(),o.copy(t.matrixWorld),o.premultiply(u),s.extractRotation(o),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(s),e.halfHeight.applyMatrix4(s),A++}else if(t.isPointLight){const e=r.point[a];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(u),a++}else if(t.isHemisphereLight){const e=r.hemi[c];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(u),c++}}},state:r}}function wy(e){const t=new by(e),n=[],r=[];const i={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){i.camera=e,n.length=0,r.length=0},state:i,setupLights:function(e){t.setup(n,e)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function xy(e){let t=new WeakMap;return{get:function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=t.get(n);let o;return void 0===i?(o=new wy(e),t.set(n,[o])):r>=i.length?(o=new wy(e),i.push(o)):o=i[r],o},dispose:function(){t=new WeakMap}}}class _y extends Df{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Th,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Sy extends Df{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function Cy(e,t,n){let r=new $g;const i=new Nd,o=new Nd,s=new ap,a=new _y({depthPacking:Fh}),l=new Sy,A={},c=n.maxTextureSize,u={[JA]:ZA,[ZA]:JA,[ec]:ec},h=new Rg({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Nd},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const p=new cg;p.setAttribute("position",new Kf(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const f=new Mg(p,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=XA;let m=this.type;function v(n,r){const o=t.update(f);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,d.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new Ap(i.x,i.y)),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,o,h,f,null),d.uniforms.shadow_pass.value=n.mapPass.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,o,d,f,null)}function y(t,n,r,i){let o=null;const s=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==s)o=s;else if(o=!0===r.isPointLight?l:a,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=o.uuid,t=n.uuid;let r=A[e];void 0===r&&(r={},A[e]=r);let i=r[t];void 0===i&&(i=o.clone(),r[t]=i,n.addEventListener("dispose",w)),o=i}if(o.visible=n.visible,o.wireframe=n.wireframe,o.side=i===$A?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:u[n.side],o.alphaMap=n.alphaMap,o.alphaTest=n.alphaTest,o.map=n.map,o.clipShadows=n.clipShadows,o.clippingPlanes=n.clippingPlanes,o.clipIntersection=n.clipIntersection,o.displacementMap=n.displacementMap,o.displacementScale=n.displacementScale,o.displacementBias=n.displacementBias,o.wireframeLinewidth=n.wireframeLinewidth,o.linewidth=n.linewidth,!0===r.isPointLight&&!0===o.isMeshDistanceMaterial){e.properties.get(o).light=r}return o}function b(n,i,o,s,a){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&a===$A)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const r=t.update(n),l=n.material;if(Array.isArray(l)){const t=r.groups;for(let A=0,c=t.length;A<c;A++){const c=t[A],u=l[c.materialIndex];if(u&&u.visible){const t=y(n,u,s,a);n.onBeforeShadow(e,n,i,o,r,t,c),e.renderBufferDirect(o,null,r,t,n,c),n.onAfterShadow(e,n,i,o,r,t,c)}}}else if(l.visible){const t=y(n,l,s,a);n.onBeforeShadow(e,n,i,o,r,t,null),e.renderBufferDirect(o,null,r,t,n,null),n.onAfterShadow(e,n,i,o,r,t,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)b(l[e],i,o,s,a)}function w(e){e.target.removeEventListener("dispose",w);for(const t in A){const n=A[t],r=e.target.uuid;if(r in n){n[r].dispose(),delete n[r]}}}this.render=function(t,n,a){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),A=e.getActiveCubeFace(),u=e.getActiveMipmapLevel(),h=e.state;h.setBlending(tc),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);const d=m!==$A&&this.type===$A,p=m===$A&&this.type!==$A;for(let f=0,g=t.length;f<g;f++){const l=t[f],A=l.shadow;if(void 0===A){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===A.autoUpdate&&!1===A.needsUpdate)continue;i.copy(A.mapSize);const u=A.getFrameExtents();if(i.multiply(u),o.copy(A.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(o.x=Math.floor(c/u.x),i.x=o.x*u.x,A.mapSize.x=o.x),i.y>c&&(o.y=Math.floor(c/u.y),i.y=o.y*u.y,A.mapSize.y=o.y)),null===A.map||!0===d||!0===p){const e=this.type!==$A?{minFilter:ru,magFilter:ru}:{};null!==A.map&&A.map.dispose(),A.map=new Ap(i.x,i.y,e),A.map.texture.name=l.name+".shadowMap",A.camera.updateProjectionMatrix()}e.setRenderTarget(A.map),e.clear();const g=A.getViewportCount();for(let e=0;e<g;e++){const t=A.getViewport(e);s.set(o.x*t.x,o.y*t.y,o.x*t.z,o.y*t.w),h.viewport(s),A.updateMatrices(l,e),r=A.getFrustum(),b(n,a,A.camera,l,this.type)}!0!==A.isPointLightShadow&&this.type===$A&&v(A,a),A.needsUpdate=!1}m=this.type,g.needsUpdate=!1,e.setRenderTarget(l,A,u)}}function By(e){const t=new function(){let t=!1;const n=new ap;let r=null;const i=new ap(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,s,a){!0===a&&(t*=s,r*=s,o*=s),n.set(t,r,o,s),!1===i.equals(n)&&(e.clearColor(t,r,o,s),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},n=new function(){let t=!1,n=null,r=null,i=null;return{setTest:function(t){t?O(e.DEPTH_TEST):Q(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case Ec:e.depthFunc(e.NEVER);break;case Mc:e.depthFunc(e.ALWAYS);break;case Tc:e.depthFunc(e.LESS);break;case Fc:e.depthFunc(e.LEQUAL);break;case Ic:e.depthFunc(e.EQUAL);break;case Lc:e.depthFunc(e.GEQUAL);break;case Pc:e.depthFunc(e.GREATER);break;case Uc:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},r=new function(){let t=!1,n=null,r=null,i=null,o=null,s=null,a=null,l=null,A=null;return{setTest:function(n){t||(n?O(e.STENCIL_TEST):Q(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,s){r===t&&i===n&&o===s||(e.stencilFunc(t,n,s),r=t,i=n,o=s)},setOp:function(t,n,r){s===t&&a===n&&l===r||(e.stencilOp(t,n,r),s=t,a=n,l=r)},setLocked:function(e){t=e},setClear:function(t){A!==t&&(e.clearStencil(t),A=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,s=null,a=null,l=null,A=null}}},i=new WeakMap,o=new WeakMap;let s={},a={},l=new WeakMap,A=[],c=null,u=!1,h=null,d=null,p=null,f=null,g=null,m=null,v=null,y=new Rf(0,0,0),b=0,w=!1,x=null,_=null,S=null,C=null,B=null;const E=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let M=!1,T=0;const F=e.getParameter(e.VERSION);-1!==F.indexOf("WebGL")?(T=parseFloat(/^WebGL (\d)/.exec(F)[1]),M=T>=1):-1!==F.indexOf("OpenGL ES")&&(T=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),M=T>=2);let I=null,L={};const P=e.getParameter(e.SCISSOR_BOX),U=e.getParameter(e.VIEWPORT),R=(new ap).fromArray(P),k=(new ap).fromArray(U);function N(t,n,r,i){const o=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let a=0;a<r;a++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage2D(n+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o);return s}const D={};function O(t){!0!==s[t]&&(e.enable(t),s[t]=!0)}function Q(t){!1!==s[t]&&(e.disable(t),s[t]=!1)}D[e.TEXTURE_2D]=N(e.TEXTURE_2D,e.TEXTURE_2D,1),D[e.TEXTURE_CUBE_MAP]=N(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),D[e.TEXTURE_2D_ARRAY]=N(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),D[e.TEXTURE_3D]=N(e.TEXTURE_3D,e.TEXTURE_3D,1,1),t.setClear(0,0,0,1),n.setClear(1),r.setClear(0),O(e.DEPTH_TEST),n.setFunc(Fc),V(!1),W(WA),O(e.CULL_FACE),j(tc);const H={[ac]:e.FUNC_ADD,[lc]:e.FUNC_SUBTRACT,[Ac]:e.FUNC_REVERSE_SUBTRACT};H[cc]=e.MIN,H[uc]=e.MAX;const z={[hc]:e.ZERO,[dc]:e.ONE,[pc]:e.SRC_COLOR,[gc]:e.SRC_ALPHA,[xc]:e.SRC_ALPHA_SATURATE,[bc]:e.DST_COLOR,[vc]:e.DST_ALPHA,[fc]:e.ONE_MINUS_SRC_COLOR,[mc]:e.ONE_MINUS_SRC_ALPHA,[wc]:e.ONE_MINUS_DST_COLOR,[yc]:e.ONE_MINUS_DST_ALPHA,[_c]:e.CONSTANT_COLOR,[Sc]:e.ONE_MINUS_CONSTANT_COLOR,[Cc]:e.CONSTANT_ALPHA,[Bc]:e.ONE_MINUS_CONSTANT_ALPHA};function j(t,n,r,i,o,s,a,l,A,c){if(t!==tc){if(!1===u&&(O(e.BLEND),u=!0),t===sc)o=o||n,s=s||r,a=a||i,n===d&&o===g||(e.blendEquationSeparate(H[n],H[o]),d=n,g=o),r===p&&i===f&&s===m&&a===v||(e.blendFuncSeparate(z[r],z[i],z[s],z[a]),p=r,f=i,m=s,v=a),!1!==l.equals(y)&&A===b||(e.blendColor(l.r,l.g,l.b,A),y.copy(l),b=A),h=t,w=!1;else if(t!==h||c!==w){if(d===ac&&g===ac||(e.blendEquation(e.FUNC_ADD),d=ac,g=ac),c)switch(t){case nc:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case rc:e.blendFunc(e.ONE,e.ONE);break;case ic:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case oc:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case nc:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case rc:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case ic:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case oc:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}p=null,f=null,m=null,v=null,y.set(0,0,0),b=0,h=t,w=c}}else!0===u&&(Q(e.BLEND),u=!1)}function V(t){x!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),x=t)}function W(t){t!==VA?(O(e.CULL_FACE),t!==_&&(t===WA?e.cullFace(e.BACK):t===GA?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):Q(e.CULL_FACE),_=t}function G(t,n,r){t?(O(e.POLYGON_OFFSET_FILL),C===n&&B===r||(e.polygonOffset(n,r),C=n,B=r)):Q(e.POLYGON_OFFSET_FILL)}return{buffers:{color:t,depth:n,stencil:r},enable:O,disable:Q,bindFramebuffer:function(t,n){return a[t]!==n&&(e.bindFramebuffer(t,n),a[t]=n,t===e.DRAW_FRAMEBUFFER&&(a[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(a[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let r=A,i=!1;if(t){r=l.get(n),void 0===r&&(r=[],l.set(n,r));const o=t.textures;if(r.length!==o.length||r[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=o.length;t<n;t++)r[t]=e.COLOR_ATTACHMENT0+t;r.length=o.length,i=!0}}else r[0]!==e.BACK&&(r[0]=e.BACK,i=!0);i&&e.drawBuffers(r)},useProgram:function(t){return c!==t&&(e.useProgram(t),c=t,!0)},setBlending:j,setMaterial:function(i,o){i.side===ec?Q(e.CULL_FACE):O(e.CULL_FACE);let s=i.side===ZA;o&&(s=!s),V(s),i.blending===nc&&!1===i.transparent?j(tc):j(i.blending,i.blendEquation,i.blendSrc,i.blendDst,i.blendEquationAlpha,i.blendSrcAlpha,i.blendDstAlpha,i.blendColor,i.blendAlpha,i.premultipliedAlpha),n.setFunc(i.depthFunc),n.setTest(i.depthTest),n.setMask(i.depthWrite),t.setMask(i.colorWrite);const a=i.stencilWrite;r.setTest(a),a&&(r.setMask(i.stencilWriteMask),r.setFunc(i.stencilFunc,i.stencilRef,i.stencilFuncMask),r.setOp(i.stencilFail,i.stencilZFail,i.stencilZPass)),G(i.polygonOffset,i.polygonOffsetFactor,i.polygonOffsetUnits),!0===i.alphaToCoverage?O(e.SAMPLE_ALPHA_TO_COVERAGE):Q(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:V,setCullFace:W,setLineWidth:function(t){t!==S&&(M&&e.lineWidth(t),S=t)},setPolygonOffset:G,setScissorTest:function(t){t?O(e.SCISSOR_TEST):Q(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+E-1),I!==t&&(e.activeTexture(t),I=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===I?e.TEXTURE0+E-1:I);let i=L[r];void 0===i&&(i={type:void 0,texture:void 0},L[r]=i),i.type===t&&i.texture===n||(I!==r&&(e.activeTexture(r),I=r),e.bindTexture(t,n||D[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=L[I];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(pE){console.error("THREE.WebGLState:",pE)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(pE){console.error("THREE.WebGLState:",pE)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(pE){console.error("THREE.WebGLState:",pE)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(pE){console.error("THREE.WebGLState:",pE)}},updateUBOMapping:function(t,n){let r=o.get(n);void 0===r&&(r=new WeakMap,o.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=o.get(n).get(t);i.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),i.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(pE){console.error("THREE.WebGLState:",pE)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(pE){console.error("THREE.WebGLState:",pE)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(pE){console.error("THREE.WebGLState:",pE)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(pE){console.error("THREE.WebGLState:",pE)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(pE){console.error("THREE.WebGLState:",pE)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(pE){console.error("THREE.WebGLState:",pE)}},scissor:function(t){!1===R.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),R.copy(t))},viewport:function(t){!1===k.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),k.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),s={},I=null,L={},a={},l=new WeakMap,A=[],c=null,u=!1,h=null,d=null,p=null,f=null,g=null,m=null,v=null,y=new Rf(0,0,0),b=0,w=!1,x=null,_=null,S=null,C=null,B=null,R.set(0,0,e.canvas.width,e.canvas.height),k.set(0,0,e.canvas.width,e.canvas.height),t.reset(),n.reset(),r.reset()}}}function Ey(e,t,n,r,i,o,s){const a=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),A=new Nd,c=new WeakMap;let u;const h=new WeakMap;let d=!1;try{d="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(Q){}function p(e,t){return d?new OffscreenCanvas(e,t):jd("canvas")}function f(e,t,n){let r=1;const i=O(e);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(r*i.width),o=Math.floor(r*i.height);void 0===u&&(u=p(n,o));const s=t?p(n,o):u;s.width=n,s.height=o;return s.getContext("2d").drawImage(e,0,0,n,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+i.width+"x"+i.height+") to ("+n+"x"+o+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+i.width+"x"+i.height+")."),e}return e}function g(e){return e.generateMipmaps&&e.minFilter!==ru&&e.minFilter!==lu}function m(t){e.generateMipmap(t)}function v(n,r,i,o){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let a=r;if(r===e.RED&&(i===e.FLOAT&&(a=e.R32F),i===e.HALF_FLOAT&&(a=e.R16F),i===e.UNSIGNED_BYTE&&(a=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(a=e.R8UI),i===e.UNSIGNED_SHORT&&(a=e.R16UI),i===e.UNSIGNED_INT&&(a=e.R32UI),i===e.BYTE&&(a=e.R8I),i===e.SHORT&&(a=e.R16I),i===e.INT&&(a=e.R32I)),r===e.RG&&(i===e.FLOAT&&(a=e.RG32F),i===e.HALF_FLOAT&&(a=e.RG16F),i===e.UNSIGNED_BYTE&&(a=e.RG8)),r===e.RG_INTEGER&&(i===e.UNSIGNED_BYTE&&(a=e.RG8UI),i===e.UNSIGNED_SHORT&&(a=e.RG16UI),i===e.UNSIGNED_INT&&(a=e.RG32UI),i===e.BYTE&&(a=e.RG8I),i===e.SHORT&&(a=e.RG16I),i===e.INT&&(a=e.RG32I)),r===e.RGB&&i===e.UNSIGNED_INT_5_9_9_9_REV&&(a=e.RGB9_E5),r===e.RGBA){const t=s?Dh:$d.getTransfer(o);i===e.FLOAT&&(a=e.RGBA32F),i===e.HALF_FLOAT&&(a=e.RGBA16F),i===e.UNSIGNED_BYTE&&(a=t===Oh?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(a=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(a=e.RGB5_A1)}return a!==e.R16F&&a!==e.R32F&&a!==e.RG16F&&a!==e.RG32F&&a!==e.RGBA16F&&a!==e.RGBA32F||t.get("EXT_color_buffer_float"),a}function y(e,t){return!0===g(e)||e.isFramebufferTexture&&e.minFilter!==ru&&e.minFilter!==lu?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function b(e){const t=e.target;t.removeEventListener("dispose",b),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=h.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&x(e),0===Object.keys(i).length&&h.delete(n)}r.remove(e)}(t),t.isVideoTexture&&c.delete(t)}function w(t){const n=t.target;n.removeEventListener("dispose",w),function(t){const n=r.get(t);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let r=0;r<6;r++){if(Array.isArray(n.__webglFramebuffer[r]))for(let t=0;t<n.__webglFramebuffer[r].length;t++)e.deleteFramebuffer(n.__webglFramebuffer[r][t]);else e.deleteFramebuffer(n.__webglFramebuffer[r]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[r])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const i=t.textures;for(let o=0,a=i.length;o<a;o++){const t=r.get(i[o]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),s.memory.textures--),r.remove(i[o])}r.remove(t)}(n)}function x(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete h.get(i)[n.__cacheKey],s.memory.textures--}let _=0;function S(t,i){const o=r.get(t);if(t.isVideoTexture&&function(e){const t=s.render.frame;c.get(e)!==t&&(c.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&o.__version!==t.version){const e=t.image;if(null===e)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void F(o,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,o.__webglTexture,e.TEXTURE0+i)}const C={[eu]:e.REPEAT,[tu]:e.CLAMP_TO_EDGE,[nu]:e.MIRRORED_REPEAT},B={[ru]:e.NEAREST,[iu]:e.NEAREST_MIPMAP_NEAREST,[su]:e.NEAREST_MIPMAP_LINEAR,[lu]:e.LINEAR,[Au]:e.LINEAR_MIPMAP_NEAREST,[uu]:e.LINEAR_MIPMAP_LINEAR},E={[id]:e.NEVER,[ud]:e.ALWAYS,[od]:e.LESS,[ad]:e.LEQUAL,[sd]:e.EQUAL,[cd]:e.GEQUAL,[ld]:e.GREATER,[Ad]:e.NOTEQUAL};function M(n,o){if(o.type!==yu||!1!==t.has("OES_texture_float_linear")||o.magFilter!==lu&&o.magFilter!==Au&&o.magFilter!==su&&o.magFilter!==uu&&o.minFilter!==lu&&o.minFilter!==Au&&o.minFilter!==su&&o.minFilter!==uu||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(n,e.TEXTURE_WRAP_S,C[o.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,C[o.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,C[o.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,B[o.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,B[o.minFilter]),o.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,E[o.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(o.magFilter===ru)return;if(o.minFilter!==su&&o.minFilter!==uu)return;if(o.type===yu&&!1===t.has("OES_texture_float_linear"))return;if(o.anisotropy>1||r.get(o).__currentAnisotropy){const s=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy}}}function T(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",b));const i=n.source;let o=h.get(i);void 0===o&&(o={},h.set(i,o));const a=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(a!==t.__cacheKey){void 0===o[a]&&(o[a]={texture:e.createTexture(),usedTimes:0},s.memory.textures++,r=!0),o[a].usedTimes++;const i=o[t.__cacheKey];void 0!==i&&(o[t.__cacheKey].usedTimes--,0===i.usedTimes&&x(n)),t.__cacheKey=a,t.__webglTexture=o[a].texture}return r}function F(t,s,a){let l=e.TEXTURE_2D;(s.isDataArrayTexture||s.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),s.isData3DTexture&&(l=e.TEXTURE_3D);const A=T(t,s),c=s.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+a);const u=r.get(c);if(c.version!==u.__version||!0===A){n.activeTexture(e.TEXTURE0+a);const t=$d.getPrimaries($d.workingColorSpace),r=s.colorSpace===Ph?null:$d.getPrimaries(s.colorSpace),h=s.colorSpace===Ph||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,s.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,s.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);let d=f(s.image,!1,i.maxTextureSize);d=D(s,d);const p=o.convert(s.format,s.colorSpace),b=o.convert(s.type);let w,x=v(s.internalFormat,p,b,s.colorSpace,s.isVideoTexture);M(l,s);const _=s.mipmaps,S=!0!==s.isVideoTexture,C=void 0===u.__version||!0===A,B=c.dataReady,E=y(s,d);if(s.isDepthTexture)x=e.DEPTH_COMPONENT16,s.type===yu?x=e.DEPTH_COMPONENT32F:s.type===vu?x=e.DEPTH_COMPONENT24:s.type===_u&&(x=e.DEPTH24_STENCIL8),C&&(S?n.texStorage2D(e.TEXTURE_2D,1,x,d.width,d.height):n.texImage2D(e.TEXTURE_2D,0,x,d.width,d.height,0,p,b,null));else if(s.isDataTexture)if(_.length>0){S&&C&&n.texStorage2D(e.TEXTURE_2D,E,x,_[0].width,_[0].height);for(let t=0,r=_.length;t<r;t++)w=_[t],S?B&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,b,w.data):n.texImage2D(e.TEXTURE_2D,t,x,w.width,w.height,0,p,b,w.data);s.generateMipmaps=!1}else S?(C&&n.texStorage2D(e.TEXTURE_2D,E,x,d.width,d.height),B&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,d.width,d.height,p,b,d.data)):n.texImage2D(e.TEXTURE_2D,0,x,d.width,d.height,0,p,b,d.data);else if(s.isCompressedTexture)if(s.isCompressedArrayTexture){S&&C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,E,x,_[0].width,_[0].height,d.depth);for(let t=0,r=_.length;t<r;t++)w=_[t],s.format!==Eu?null!==p?S?B&&n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,w.width,w.height,d.depth,p,w.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,x,w.width,w.height,d.depth,0,w.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):S?B&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,w.width,w.height,d.depth,p,b,w.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,x,w.width,w.height,d.depth,0,p,b,w.data)}else{S&&C&&n.texStorage2D(e.TEXTURE_2D,E,x,_[0].width,_[0].height);for(let t=0,r=_.length;t<r;t++)w=_[t],s.format!==Eu?null!==p?S?B&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,w.data):n.compressedTexImage2D(e.TEXTURE_2D,t,x,w.width,w.height,0,w.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):S?B&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,b,w.data):n.texImage2D(e.TEXTURE_2D,t,x,w.width,w.height,0,p,b,w.data)}else if(s.isDataArrayTexture)S?(C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,E,x,d.width,d.height,d.depth),B&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,d.width,d.height,d.depth,p,b,d.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,x,d.width,d.height,d.depth,0,p,b,d.data);else if(s.isData3DTexture)S?(C&&n.texStorage3D(e.TEXTURE_3D,E,x,d.width,d.height,d.depth),B&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,d.width,d.height,d.depth,p,b,d.data)):n.texImage3D(e.TEXTURE_3D,0,x,d.width,d.height,d.depth,0,p,b,d.data);else if(s.isFramebufferTexture){if(C)if(S)n.texStorage2D(e.TEXTURE_2D,E,x,d.width,d.height);else{let t=d.width,r=d.height;for(let i=0;i<E;i++)n.texImage2D(e.TEXTURE_2D,i,x,t,r,0,p,b,null),t>>=1,r>>=1}}else if(_.length>0){if(S&&C){const t=O(_[0]);n.texStorage2D(e.TEXTURE_2D,E,x,t.width,t.height)}for(let t=0,r=_.length;t<r;t++)w=_[t],S?B&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,p,b,w):n.texImage2D(e.TEXTURE_2D,t,x,p,b,w);s.generateMipmaps=!1}else if(S){if(C){const t=O(d);n.texStorage2D(e.TEXTURE_2D,E,x,t.width,t.height)}B&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,p,b,d)}else n.texImage2D(e.TEXTURE_2D,0,x,p,b,d);g(s)&&m(l),u.__version=c.version,s.onUpdate&&s.onUpdate(s)}t.__version=s.version}function I(t,i,s,l,A,c){const u=o.convert(s.format,s.colorSpace),h=o.convert(s.type),d=v(s.internalFormat,u,h,s.colorSpace);if(!r.get(i).__hasExternalTextures){const t=Math.max(1,i.width>>c),r=Math.max(1,i.height>>c);A===e.TEXTURE_3D||A===e.TEXTURE_2D_ARRAY?n.texImage3D(A,c,d,t,r,i.depth,0,u,h,null):n.texImage2D(A,c,d,t,r,0,u,h,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),N(i)?a.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,l,A,r.get(s).__webglTexture,0,k(i)):(A===e.TEXTURE_2D||A>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&A<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,l,A,r.get(s).__webglTexture,c),n.bindFramebuffer(e.FRAMEBUFFER,null)}function L(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){let i=e.DEPTH_COMPONENT24;if(r||N(n)){const t=n.depthTexture;t&&t.isDepthTexture&&(t.type===yu?i=e.DEPTH_COMPONENT32F:t.type===vu&&(i=e.DEPTH_COMPONENT24));const r=k(n);N(n)?a.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,r,i,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,r,i,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,i,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){const i=k(n);r&&!1===N(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,i,e.DEPTH24_STENCIL8,n.width,n.height):N(n)?a.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,i,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else{const t=n.textures;for(let i=0;i<t.length;i++){const s=t[i],l=o.convert(s.format,s.colorSpace),A=o.convert(s.type),c=v(s.internalFormat,l,A,s.colorSpace),u=k(n);r&&!1===N(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,u,c,n.width,n.height):N(n)?a.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,u,c,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,c,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function P(t){const i=r.get(t),o=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),S(i.depthTexture,0);const o=r.get(i.depthTexture).__webglTexture,s=k(i);if(i.depthTexture.format===Fu)N(i)?a.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0,s):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else{if(i.depthTexture.format!==Iu)throw new Error("Unknown depthTexture format");N(i)?a.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0,s):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0)}}(i.__webglFramebuffer,t)}else if(o){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=e.createRenderbuffer(),L(i.__webglDepthbuffer[r],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),L(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}const U=[],R=[];function k(e){return Math.min(i.maxSamples,e.samples)}function N(e){const n=r.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function D(e,t){const n=e.colorSpace,r=e.format,i=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==Rh&&n!==Ph&&($d.getTransfer(n)===Oh?r===Eu&&i===du||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",n)),t}function O(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?(A.width=e.naturalWidth||e.width,A.height=e.naturalHeight||e.height):"undefined"!==typeof VideoFrame&&e instanceof VideoFrame?(A.width=e.displayWidth,A.height=e.displayHeight):(A.width=e.width,A.height=e.height),A}this.allocateTextureUnit=function(){const e=_;return e>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+i.maxTextures),_+=1,e},this.resetTextureUnits=function(){_=0},this.setTexture2D=S,this.setTexture2DArray=function(t,i){const o=r.get(t);t.version>0&&o.__version!==t.version?F(o,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,o.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){const o=r.get(t);t.version>0&&o.__version!==t.version?F(o,t,i):n.bindTexture(e.TEXTURE_3D,o.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,s){const a=r.get(t);t.version>0&&a.__version!==t.version?function(t,s,a){if(6!==s.image.length)return;const l=T(t,s),A=s.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+a);const c=r.get(A);if(A.version!==c.__version||!0===l){n.activeTexture(e.TEXTURE0+a);const t=$d.getPrimaries($d.workingColorSpace),r=s.colorSpace===Ph?null:$d.getPrimaries(s.colorSpace),u=s.colorSpace===Ph||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,s.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,s.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,u);const h=s.isCompressedTexture||s.image[0].isCompressedTexture,d=s.image[0]&&s.image[0].isDataTexture,p=[];for(let e=0;e<6;e++)p[e]=h||d?d?s.image[e].image:s.image[e]:f(s.image[e],!0,i.maxCubemapSize),p[e]=D(s,p[e]);const b=p[0],w=o.convert(s.format,s.colorSpace),x=o.convert(s.type),_=v(s.internalFormat,w,x,s.colorSpace),S=!0!==s.isVideoTexture,C=void 0===c.__version||!0===l,B=A.dataReady;let E,T=y(s,b);if(M(e.TEXTURE_CUBE_MAP,s),h){S&&C&&n.texStorage2D(e.TEXTURE_CUBE_MAP,T,_,b.width,b.height);for(let t=0;t<6;t++){E=p[t].mipmaps;for(let r=0;r<E.length;r++){const i=E[r];s.format!==Eu?null!==w?S?B&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,w,i.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,_,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):S?B&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,w,x,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,_,i.width,i.height,0,w,x,i.data)}}}else{if(E=s.mipmaps,S&&C){E.length>0&&T++;const t=O(p[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,T,_,t.width,t.height)}for(let t=0;t<6;t++)if(d){S?B&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,p[t].width,p[t].height,w,x,p[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,_,p[t].width,p[t].height,0,w,x,p[t].data);for(let r=0;r<E.length;r++){const i=E[r].image[t].image;S?B&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,i.width,i.height,w,x,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,_,i.width,i.height,0,w,x,i.data)}}else{S?B&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,w,x,p[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,_,w,x,p[t]);for(let r=0;r<E.length;r++){const i=E[r];S?B&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,w,x,i.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,_,w,x,i.image[t])}}}g(s)&&m(e.TEXTURE_CUBE_MAP),c.__version=A.version,s.onUpdate&&s.onUpdate(s)}t.__version=s.version}(a,t,s):n.bindTexture(e.TEXTURE_CUBE_MAP,a.__webglTexture,e.TEXTURE0+s)},this.rebindTextures=function(t,n,i){const o=r.get(t);void 0!==n&&I(o.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&P(t)},this.setupRenderTarget=function(t){const i=t.texture,a=r.get(t),l=r.get(i);t.addEventListener("dispose",w);const A=t.textures,c=!0===t.isWebGLCubeRenderTarget,u=A.length>1;if(u||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=i.version,s.memory.textures++),c){a.__webglFramebuffer=[];for(let t=0;t<6;t++)if(i.mipmaps&&i.mipmaps.length>0){a.__webglFramebuffer[t]=[];for(let n=0;n<i.mipmaps.length;n++)a.__webglFramebuffer[t][n]=e.createFramebuffer()}else a.__webglFramebuffer[t]=e.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){a.__webglFramebuffer=[];for(let t=0;t<i.mipmaps.length;t++)a.__webglFramebuffer[t]=e.createFramebuffer()}else a.__webglFramebuffer=e.createFramebuffer();if(u)for(let t=0,n=A.length;t<n;t++){const n=r.get(A[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),s.memory.textures++)}if(t.samples>0&&!1===N(t)){a.__webglMultisampledFramebuffer=e.createFramebuffer(),a.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,a.__webglMultisampledFramebuffer);for(let n=0;n<A.length;n++){const r=A[n];a.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,a.__webglColorRenderbuffer[n]);const i=o.convert(r.format,r.colorSpace),s=o.convert(r.type),l=v(r.internalFormat,i,s,r.colorSpace,!0===t.isXRRenderTarget),c=k(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,c,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,a.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(a.__webglDepthRenderbuffer=e.createRenderbuffer(),L(a.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(c){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),M(e.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)I(a.__webglFramebuffer[n][r],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else I(a.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);g(i)&&m(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(u){for(let i=0,o=A.length;i<o;i++){const o=A[i],s=r.get(o);n.bindTexture(e.TEXTURE_2D,s.__webglTexture),M(e.TEXTURE_2D,o),I(a.__webglFramebuffer,t,o,e.COLOR_ATTACHMENT0+i,e.TEXTURE_2D,0),g(o)&&m(e.TEXTURE_2D)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),M(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)I(a.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,r,n);else I(a.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0,r,0);g(i)&&m(r),n.unbindTexture()}t.depthBuffer&&P(t)},this.updateRenderTargetMipmap=function(t){const i=t.textures;for(let o=0,s=i.length;o<s;o++){const s=i[o];if(g(s)){const i=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,o=r.get(s).__webglTexture;n.bindTexture(i,o),m(i),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===N(t)){const i=t.textures,o=t.width,s=t.height;let a=e.COLOR_BUFFER_BIT;const A=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=r.get(t),u=i.length>1;if(u)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,c.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglFramebuffer);for(let n=0;n<i.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(a|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(a|=e.STENCIL_BUFFER_BIT)),u){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,c.__webglColorRenderbuffer[n]);const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,o,s,0,0,o,s,a,e.NEAREST),!0===l&&(U.length=0,R.length=0,U.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(U.push(A),R.push(A),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,R)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,U))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),u)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,c.__webglColorRenderbuffer[t]);const o=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,c.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,o,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,c.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&l){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=P,this.setupFrameBufferTexture=I,this.useMultisampledRTT=N}function My(e,t){return{convert:function(n){let r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ph;const o=$d.getTransfer(i);if(n===du)return e.UNSIGNED_BYTE;if(n===wu)return e.UNSIGNED_SHORT_4_4_4_4;if(n===xu)return e.UNSIGNED_SHORT_5_5_5_1;if(n===Su)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===pu)return e.BYTE;if(n===fu)return e.SHORT;if(n===gu)return e.UNSIGNED_SHORT;if(n===mu)return e.INT;if(n===vu)return e.UNSIGNED_INT;if(n===yu)return e.FLOAT;if(n===bu)return e.HALF_FLOAT;if(n===Cu)return e.ALPHA;if(n===Bu)return e.RGB;if(n===Eu)return e.RGBA;if(n===Mu)return e.LUMINANCE;if(n===Tu)return e.LUMINANCE_ALPHA;if(n===Fu)return e.DEPTH_COMPONENT;if(n===Iu)return e.DEPTH_STENCIL;if(n===Lu)return e.RED;if(n===Pu)return e.RED_INTEGER;if(n===Uu)return e.RG;if(n===Ru)return e.RG_INTEGER;if(n===ku)return e.RGBA_INTEGER;if(n===Nu||n===Du||n===Ou||n===Qu)if(o===Oh){if(r=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===r)return null;if(n===Nu)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Du)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Ou)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Qu)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(r=t.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(n===Nu)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Du)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Ou)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Qu)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Hu||n===zu||n===ju||n===Vu){if(r=t.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(n===Hu)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===zu)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===ju)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Vu)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Wu||n===Gu||n===Ku){if(r=t.get("WEBGL_compressed_texture_etc"),null===r)return null;if(n===Wu||n===Gu)return o===Oh?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(n===Ku)return o===Oh?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(n===qu||n===Xu||n===Yu||n===$u||n===Ju||n===Zu||n===eh||n===th||n===nh||n===rh||n===ih||n===oh||n===sh||n===ah){if(r=t.get("WEBGL_compressed_texture_astc"),null===r)return null;if(n===qu)return o===Oh?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Xu)return o===Oh?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Yu)return o===Oh?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===$u)return o===Oh?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Ju)return o===Oh?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Zu)return o===Oh?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===eh)return o===Oh?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===th)return o===Oh?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===nh)return o===Oh?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===rh)return o===Oh?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===ih)return o===Oh?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===oh)return o===Oh?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===sh)return o===Oh?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===ah)return o===Oh?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===lh||n===Ah||n===ch){if(r=t.get("EXT_texture_compression_bptc"),null===r)return null;if(n===lh)return o===Oh?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Ah)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===ch)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===uh||n===hh||n===dh||n===ph){if(r=t.get("EXT_texture_compression_rgtc"),null===r)return null;if(n===lh)return r.COMPRESSED_RED_RGTC1_EXT;if(n===hh)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===dh)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===ph)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===_u?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}class Ty extends Qg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isArrayCamera=!0,this.cameras=e}}class Fy extends yf{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Iy={type:"move"};class Ly{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Fy,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Fy,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new fp,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new fp),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Fy,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new fp,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new fp),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,o=null;const s=this._targetRay,a=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(const o of e.hand.values()){const e=t.getJointPose(o,n),r=this._getHandJoint(l,o);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=e.radius),r.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],s=r.position.distanceTo(i.position),a=.02,A=.005;l.inputState.pinching&&s>a+A?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&s<=a-A&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==a&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1));null!==s&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(Iy)))}return null!==s&&(s.visible=null!==r),null!==a&&(a.visible=null!==i),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new Fy;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Py{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(null===this.texture){const r=new sp;e.properties.get(r).__webglTexture=t.texture,t.depthNear==n.depthNear&&t.depthFar==n.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}render(e,t){if(null!==this.texture){if(null===this.mesh){const e=t.cameras[0].viewport,n=new Rg({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new Mg(new em(20,20),n)}e.render(this.mesh,t)}}reset(){this.texture=null,this.mesh=null}}class Uy extends Cd{constructor(e,t){super();const n=this;let r=null,i=1,o=null,s="local-floor",a=1,l=null,A=null,c=null,u=null,h=null,d=null;const p=new Py,f=t.getContextAttributes();let g=null,m=null;const v=[],y=[],b=new Nd;let w=null;const x=new Qg;x.layers.enable(1),x.viewport=new ap;const _=new Qg;_.layers.enable(2),_.viewport=new ap;const S=[x,_],C=new Ty;C.layers.enable(1),C.layers.enable(2);let B=null,E=null;function M(e){const t=y.indexOf(e.inputSource);if(-1===t)return;const n=v[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||o),n.dispatchEvent({type:e.type,data:e.inputSource}))}function T(){r.removeEventListener("select",M),r.removeEventListener("selectstart",M),r.removeEventListener("selectend",M),r.removeEventListener("squeeze",M),r.removeEventListener("squeezestart",M),r.removeEventListener("squeezeend",M),r.removeEventListener("end",T),r.removeEventListener("inputsourceschange",F);for(let e=0;e<v.length;e++){const t=y[e];null!==t&&(y[e]=null,v[e].disconnect(t))}B=null,E=null,p.reset(),e.setRenderTarget(g),h=null,u=null,c=null,r=null,m=null,R.stop(),n.isPresenting=!1,e.setPixelRatio(w),e.setSize(b.width,b.height,!1),n.dispatchEvent({type:"sessionend"})}function F(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=y.indexOf(n);r>=0&&(y[r]=null,v[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=y.indexOf(n);if(-1===r){for(let e=0;e<v.length;e++){if(e>=y.length){y.push(n),r=e;break}if(null===y[e]){y[e]=n,r=e;break}}if(-1===r)break}const i=v[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=v[e];return void 0===t&&(t=new Ly,v[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=v[e];return void 0===t&&(t=new Ly,v[e]=t),t.getGripSpace()},this.getHand=function(e){let t=v[e];return void 0===t&&(t=new Ly,v[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){s=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==u?u:h},this.getBinding=function(){return c},this.getFrame=function(){return d},this.getSession=function(){return r},this.setSession=async function(A){if(r=A,null!==r){if(g=e.getRenderTarget(),r.addEventListener("select",M),r.addEventListener("selectstart",M),r.addEventListener("selectend",M),r.addEventListener("squeeze",M),r.addEventListener("squeezestart",M),r.addEventListener("squeezeend",M),r.addEventListener("end",T),r.addEventListener("inputsourceschange",F),!0!==f.xrCompatible&&await t.makeXRCompatible(),w=e.getPixelRatio(),e.getSize(b),void 0===r.renderState.layers){const n={antialias:f.antialias,alpha:!0,depth:f.depth,stencil:f.stencil,framebufferScaleFactor:i};h=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),m=new Ap(h.framebufferWidth,h.framebufferHeight,{format:Eu,type:du,colorSpace:e.outputColorSpace,stencilBuffer:f.stencil})}else{let n=null,o=null,s=null;f.depth&&(s=f.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=f.stencil?Iu:Fu,o=f.stencil?_u:vu);const a={colorFormat:t.RGBA8,depthFormat:s,scaleFactor:i};c=new XRWebGLBinding(r,t),u=c.createProjectionLayer(a),r.updateRenderState({layers:[u]}),e.setPixelRatio(1),e.setSize(u.textureWidth,u.textureHeight,!1),m=new Ap(u.textureWidth,u.textureHeight,{format:Eu,type:du,depthTexture:new Dm(u.textureWidth,u.textureHeight,o,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:f.stencil,colorSpace:e.outputColorSpace,samples:f.antialias?4:0,resolveDepthBuffer:!1===u.ignoreDepthValues})}m.isXRRenderTarget=!0,this.setFoveation(a),l=null,o=await r.requestReferenceSpace(s),R.setContext(r),R.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const I=new fp,L=new fp;function P(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;null!==p.texture&&(e.near=p.depthNear,e.far=p.depthFar),C.near=_.near=x.near=e.near,C.far=_.far=x.far=e.far,B===C.near&&E===C.far||(r.updateRenderState({depthNear:C.near,depthFar:C.far}),B=C.near,E=C.far,x.near=B,x.far=E,_.near=B,_.far=E,x.updateProjectionMatrix(),_.updateProjectionMatrix(),e.updateProjectionMatrix());const t=e.parent,n=C.cameras;P(C,t);for(let r=0;r<n.length;r++)P(n[r],t);2===n.length?function(e,t,n){I.setFromMatrixPosition(t.matrixWorld),L.setFromMatrixPosition(n.matrixWorld);const r=I.distanceTo(L),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,s=i[14]/(i[10]-1),a=i[14]/(i[10]+1),l=(i[9]+1)/i[5],A=(i[9]-1)/i[5],c=(i[8]-1)/i[0],u=(o[8]+1)/o[0],h=s*c,d=s*u,p=r/(-c+u),f=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(f),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const g=s+p,m=a+p,v=h-f,y=d+(r-f),b=l*a/m*g,w=A*a/m*g;e.projectionMatrix.makePerspective(v,y,b,w,g,m),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(C,x,_):C.projectionMatrix.copy(x.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Td*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,C,t)},this.getCamera=function(){return C},this.getFoveation=function(){if(null!==u||null!==h)return a},this.setFoveation=function(e){a=e,null!==u&&(u.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==p.texture};let U=null;const R=new Jg;R.setAnimationLoop((function(t,i){if(A=i.getViewerPose(l||o),d=i,null!==A){const t=A.views;null!==h&&(e.setRenderTargetFramebuffer(m,h.framebuffer),e.setRenderTarget(m));let n=!1;t.length!==C.cameras.length&&(C.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const i=t[r];let o=null;if(null!==h)o=h.getViewport(i);else{const t=c.getViewSubImage(u,i);o=t.viewport,0===r&&(e.setRenderTargetTextures(m,t.colorTexture,u.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(m))}let s=S[r];void 0===s&&(s=new Qg,s.layers.enable(r),s.viewport=new ap,S[r]=s),s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.quaternion,s.scale),s.projectionMatrix.fromArray(i.projectionMatrix),s.projectionMatrixInverse.copy(s.projectionMatrix).invert(),s.viewport.set(o.x,o.y,o.width,o.height),0===r&&(C.matrix.copy(s.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),!0===n&&C.cameras.push(s)}const i=r.enabledFeatures;if(i&&i.includes("depth-sensing")){const n=c.getDepthInformation(t[0]);n&&n.isValid&&n.texture&&p.init(e,n,r.renderState)}}for(let e=0;e<v.length;e++){const t=y[e],n=v[e];null!==t&&void 0!==n&&n.update(t,i,l||o)}p.render(e,C),U&&U(t,i),i.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:i}),d=null})),this.setAnimationLoop=function(e){U=e},this.dispose=function(){}}}const Ry=new tf,ky=new Wp;function Ny(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===ZA&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===ZA&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);const o=t.get(i),s=o.envMap,a=o.envMapRotation;if(s&&(r.envMap.value=s,Ry.copy(a),Ry.x*=-1,Ry.y*=-1,Ry.z*=-1,s.isCubeTexture&&!1===s.isRenderTargetTexture&&(Ry.y*=-1,Ry.z*=-1),r.envMapRotation.value.setFromMatrix4(ky.makeRotationFromEuler(Ry)),r.flipEnvMap.value=s.isCubeTexture&&!1===s.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;const t=!0===e._useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*t,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,Pg(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,o,s,a){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform));e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform));t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===ZA&&e.clearcoatNormalScale.value.negate()));t.dispersion>0&&(e.dispersion.value=t.dispersion);t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,a)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,o,s):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Dy(e,t,n,r){let i={},o={},s=[];const a=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,r){const i=e.value,o=t+"_"+n;if(void 0===r[o])return r[o]="number"===typeof i||"boolean"===typeof i?i:i.clone(),!0;{const e=r[o];if("number"===typeof i||"boolean"===typeof i){if(e!==i)return r[o]=i,!0}else if(!1===e.equals(i))return e.copy(i),!0}return!1}function A(e){const t={boundary:0,storage:0};return"number"===typeof e||"boolean"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){const n=t.target;n.removeEventListener("dispose",c);const r=s.indexOf(n.__bindingPointIndex);s.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete o[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,u){let h=i[n.id];void 0===h&&(!function(e){const t=e.uniforms;let n=0;const r=16;for(let o=0,s=t.length;o<s;o++){const e=Array.isArray(t[o])?t[o]:[t[o]];for(let t=0,i=e.length;t<i;t++){const i=e[t],o=Array.isArray(i.value)?i.value:[i.value];for(let e=0,t=o.length;e<t;e++){const t=A(o[e]),s=n%r;0!==s&&r-s<t.boundary&&(n+=r-s),i.__data=new Float32Array(t.storage/Float32Array.BYTES_PER_ELEMENT),i.__offset=n,n+=t.storage}}}const i=n%r;i>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),h=function(t){const n=function(){for(let e=0;e<a;e++)if(-1===s.indexOf(e))return s.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,o=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,o),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=h,n.addEventListener("dispose",c));const d=u.program;r.updateUBOMapping(n,d);const p=t.render.frame;o[n.id]!==p&&(!function(t){const n=i[t.id],r=t.uniforms,o=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let i=0,s=r.length;i<s;i++){const t=Array.isArray(r[i])?r[i]:[r[i]];for(let n=0,r=t.length;n<r;n++){const r=t[n];if(!0===l(r,i,n,o)){const t=r.__offset,n=Array.isArray(r.value)?r.value:[r.value];let i=0;for(let o=0;o<n.length;o++){const s=n[o],a=A(s);"number"===typeof s||"boolean"===typeof s?(r.__data[0]=s,e.bufferSubData(e.UNIFORM_BUFFER,t+i,r.__data)):s.isMatrix3?(r.__data[0]=s.elements[0],r.__data[1]=s.elements[1],r.__data[2]=s.elements[2],r.__data[3]=0,r.__data[4]=s.elements[3],r.__data[5]=s.elements[4],r.__data[6]=s.elements[5],r.__data[7]=0,r.__data[8]=s.elements[6],r.__data[9]=s.elements[7],r.__data[10]=s.elements[8],r.__data[11]=0):(s.toArray(r.__data,i),i+=a.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,r.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),o[n.id]=p)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);s=[],i={},o={}}}}class Oy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{canvas:t=Vd(),context:n=null,depth:r=!0,stencil:i=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:a=!0,preserveDrawingBuffer:l=!1,powerPreference:A="default",failIfMajorPerformanceCaveat:c=!1}=e;let u;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!==typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");u=n.getContextAttributes().alpha}else u=o;const h=new Uint32Array(4),d=new Int32Array(4);let p=null,f=null;const g=[],m=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Uh,this._useLegacyLights=!1,this.toneMapping=Dc,this.toneMappingExposure=1;const v=this;let y=!1,b=0,w=0,x=null,_=-1,S=null;const C=new ap,B=new ap;let E=null;const M=new Rf(0);let T=0,F=t.width,I=t.height,L=1,P=null,U=null;const R=new ap(0,0,F,I),k=new ap(0,0,F,I);let N=!1;const D=new $g;let O=!1,Q=!1;const H=new Wp,z=new fp,j={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function V(){return null===x?L:1}let W,G,K,q,X,Y,$,J,Z,ee,te,ne,re,ie,oe,se,ae,le,Ae,ce,ue,he,de,pe,fe=n;function ge(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:A,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${HA}`),t.addEventListener("webglcontextlost",ye,!1),t.addEventListener("webglcontextrestored",be,!1),t.addEventListener("webglcontextcreationerror",we,!1),null===fe){const t="webgl2";if(fe=ge(t,e),null===fe)throw ge(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(pE){throw console.error("THREE.WebGLRenderer: "+pE.message),pE}function me(){W=new Lm(fe),W.init(),he=new My(fe,W),G=new cm(fe,W,e,he),K=new By(fe),q=new Rm(fe),X=new hy,Y=new Ey(fe,W,K,X,G,he,q),$=new hm(v),J=new Im(v),Z=new Zg(fe),de=new lm(fe,Z),ee=new Pm(fe,Z,q,de),te=new Nm(fe,ee,Z,q),Ae=new km(fe,G,Y),se=new um(X),ne=new uy(v,$,J,W,G,de,se),re=new Ny(v,X),ie=new gy,oe=new xy(W),le=new am(v,$,J,K,te,u,a),ae=new Cy(v,te,G),pe=new Dy(fe,q,G,K),ce=new Am(fe,W,q),ue=new Um(fe,W,q),q.programs=ne.programs,v.capabilities=G,v.extensions=W,v.properties=X,v.renderLists=ie,v.shadowMap=ae,v.state=K,v.info=q}me();const ve=new Uy(v,fe);function ye(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function be(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const e=q.autoReset,t=ae.enabled,n=ae.autoUpdate,r=ae.needsUpdate,i=ae.type;me(),q.autoReset=e,ae.enabled=t,ae.autoUpdate=n,ae.needsUpdate=r,ae.type=i}function we(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function xe(e){const t=e.target;t.removeEventListener("dispose",xe),function(e){(function(e){const t=X.get(e).programs;void 0!==t&&(t.forEach((function(e){ne.releaseProgram(e)})),e.isShaderMaterial&&ne.releaseShaderCache(e))})(e),X.remove(e)}(t)}function _e(e,t,n){!0===e.transparent&&e.side===ec&&!1===e.forceSinglePass?(e.side=ZA,e.needsUpdate=!0,Pe(e,t,n),e.side=JA,e.needsUpdate=!0,Pe(e,t,n),e.side=ec):Pe(e,t,n)}this.xr=ve,this.getContext=function(){return fe},this.getContextAttributes=function(){return fe.getContextAttributes()},this.forceContextLoss=function(){const e=W.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=W.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(e){void 0!==e&&(L=e,this.setSize(F,I,!1))},this.getSize=function(e){return e.set(F,I)},this.setSize=function(e,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];ve.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(F=e,I=n,t.width=Math.floor(e*L),t.height=Math.floor(n*L),!0===r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(F*L,I*L).floor()},this.setDrawingBufferSize=function(e,n,r){F=e,I=n,L=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(C)},this.getViewport=function(e){return e.copy(R)},this.setViewport=function(e,t,n,r){e.isVector4?R.set(e.x,e.y,e.z,e.w):R.set(e,t,n,r),K.viewport(C.copy(R).multiplyScalar(L).round())},this.getScissor=function(e){return e.copy(k)},this.setScissor=function(e,t,n,r){e.isVector4?k.set(e.x,e.y,e.z,e.w):k.set(e,t,n,r),K.scissor(B.copy(k).multiplyScalar(L).round())},this.getScissorTest=function(){return N},this.setScissorTest=function(e){K.setScissorTest(N=e)},this.setOpaqueSort=function(e){P=e},this.setTransparentSort=function(e){U=e},this.getClearColor=function(e){return e.copy(le.getClearColor())},this.setClearColor=function(){le.setClearColor.apply(le,arguments)},this.getClearAlpha=function(){return le.getClearAlpha()},this.setClearAlpha=function(){le.setClearAlpha.apply(le,arguments)},this.clear=function(){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){let e=!1;if(null!==x){const t=x.texture.format;e=t===ku||t===Ru||t===Pu}if(e){const e=x.texture.type,t=e===du||e===vu||e===gu||e===_u||e===wu||e===xu,n=le.getClearColor(),r=le.getClearAlpha(),i=n.r,o=n.g,s=n.b;t?(h[0]=i,h[1]=o,h[2]=s,h[3]=r,fe.clearBufferuiv(fe.COLOR,0,h)):(d[0]=i,d[1]=o,d[2]=s,d[3]=r,fe.clearBufferiv(fe.COLOR,0,d))}else n|=fe.COLOR_BUFFER_BIT}e&&(n|=fe.DEPTH_BUFFER_BIT),t&&(n|=fe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),fe.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ye,!1),t.removeEventListener("webglcontextrestored",be,!1),t.removeEventListener("webglcontextcreationerror",we,!1),ie.dispose(),oe.dispose(),X.dispose(),$.dispose(),J.dispose(),te.dispose(),de.dispose(),pe.dispose(),ne.dispose(),ve.dispose(),ve.removeEventListener("sessionstart",Ce),ve.removeEventListener("sessionend",Be),Ee.stop()},this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=j);const s=i.isMesh&&i.matrixWorld.determinant()<0,a=function(e,t,n,r,i){!0!==t.isScene&&(t=j);Y.resetTextureUnits();const o=t.fog,s=r.isMeshStandardMaterial?t.environment:null,a=null===x?v.outputColorSpace:!0===x.isXRRenderTarget?x.texture.colorSpace:Rh,l=(r.isMeshStandardMaterial?J:$).get(r.envMap||s),A=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),u=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,d=!!n.morphAttributes.color;let p=Dc;r.toneMapped&&(null!==x&&!0!==x.isXRRenderTarget||(p=v.toneMapping));const g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,m=void 0!==g?g.length:0,y=X.get(r),b=f.state.lights;if(!0===O&&(!0===Q||e!==S)){const t=e===S&&r.id===_;se.setState(r,e,t)}let w=!1;r.version===y.__version?y.needsLights&&y.lightsStateVersion!==b.state.version||y.outputColorSpace!==a||i.isBatchedMesh&&!1===y.batching?w=!0:i.isBatchedMesh||!0!==y.batching?i.isInstancedMesh&&!1===y.instancing?w=!0:i.isInstancedMesh||!0!==y.instancing?i.isSkinnedMesh&&!1===y.skinning?w=!0:i.isSkinnedMesh||!0!==y.skinning?i.isInstancedMesh&&!0===y.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===y.instancingColor&&null!==i.instanceColor||i.isInstancedMesh&&!0===y.instancingMorph&&null===i.morphTexture||i.isInstancedMesh&&!1===y.instancingMorph&&null!==i.morphTexture||y.envMap!==l||!0===r.fog&&y.fog!==o?w=!0:void 0===y.numClippingPlanes||y.numClippingPlanes===se.numPlanes&&y.numIntersection===se.numIntersection?(y.vertexAlphas!==A||y.vertexTangents!==c||y.morphTargets!==u||y.morphNormals!==h||y.morphColors!==d||y.toneMapping!==p||y.morphTargetsCount!==m)&&(w=!0):w=!0:w=!0:w=!0:w=!0:(w=!0,y.__version=r.version);let C=y.currentProgram;!0===w&&(C=Pe(r,t,i));let B=!1,E=!1,M=!1;const T=C.getUniforms(),F=y.uniforms;K.useProgram(C.program)&&(B=!0,E=!0,M=!0);r.id!==_&&(_=r.id,E=!0);if(B||S!==e){T.setValue(fe,"projectionMatrix",e.projectionMatrix),T.setValue(fe,"viewMatrix",e.matrixWorldInverse);const t=T.map.cameraPosition;void 0!==t&&t.setValue(fe,z.setFromMatrixPosition(e.matrixWorld)),G.logarithmicDepthBuffer&&T.setValue(fe,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&T.setValue(fe,"isOrthographic",!0===e.isOrthographicCamera),S!==e&&(S=e,E=!0,M=!0)}if(i.isSkinnedMesh){T.setOptional(fe,i,"bindMatrix"),T.setOptional(fe,i,"bindMatrixInverse");const e=i.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),T.setValue(fe,"boneTexture",e.boneTexture,Y))}i.isBatchedMesh&&(T.setOptional(fe,i,"batchingTexture"),T.setValue(fe,"batchingTexture",i._matricesTexture,Y));const P=n.morphAttributes;void 0===P.position&&void 0===P.normal&&void 0===P.color||Ae.update(i,n,C);(E||y.receiveShadow!==i.receiveShadow)&&(y.receiveShadow=i.receiveShadow,T.setValue(fe,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(F.envMap.value=l,F.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);r.isMeshStandardMaterial&&null===r.envMap&&null!==t.environment&&(F.envMapIntensity.value=t.environmentIntensity);E&&(T.setValue(fe,"toneMappingExposure",v.toneMappingExposure),y.needsLights&&(R=M,(U=F).ambientLightColor.needsUpdate=R,U.lightProbe.needsUpdate=R,U.directionalLights.needsUpdate=R,U.directionalLightShadows.needsUpdate=R,U.pointLights.needsUpdate=R,U.pointLightShadows.needsUpdate=R,U.spotLights.needsUpdate=R,U.spotLightShadows.needsUpdate=R,U.rectAreaLights.needsUpdate=R,U.hemisphereLights.needsUpdate=R),o&&!0===r.fog&&re.refreshFogUniforms(F,o),re.refreshMaterialUniforms(F,r,L,I,f.state.transmissionRenderTarget[e.id]),jv.upload(fe,Ue(y),F,Y));var U,R;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(jv.upload(fe,Ue(y),F,Y),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&T.setValue(fe,"center",i.center);if(T.setValue(fe,"modelViewMatrix",i.modelViewMatrix),T.setValue(fe,"normalMatrix",i.normalMatrix),T.setValue(fe,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];pe.update(n,C),pe.bind(n,C)}}return C}(e,t,n,r,i);K.setMaterial(r,s);let l=n.index,A=1;if(!0===r.wireframe){if(l=ee.getWireframeAttribute(n),void 0===l)return;A=2}const c=n.drawRange,u=n.attributes.position;let h=c.start*A,d=(c.start+c.count)*A;null!==o&&(h=Math.max(h,o.start*A),d=Math.min(d,(o.start+o.count)*A)),null!==l?(h=Math.max(h,0),d=Math.min(d,l.count)):void 0!==u&&null!==u&&(h=Math.max(h,0),d=Math.min(d,u.count));const p=d-h;if(p<0||p===1/0)return;let g;de.setup(i,r,a,n,l);let m=ce;if(null!==l&&(g=Z.get(l),m=ue,m.setIndex(g)),i.isMesh)!0===r.wireframe?(K.setLineWidth(r.wireframeLinewidth*V()),m.setMode(fe.LINES)):m.setMode(fe.TRIANGLES);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),K.setLineWidth(e*V()),i.isLineSegments?m.setMode(fe.LINES):i.isLineLoop?m.setMode(fe.LINE_LOOP):m.setMode(fe.LINE_STRIP)}else i.isPoints?m.setMode(fe.POINTS):i.isSprite&&m.setMode(fe.TRIANGLES);if(i.isBatchedMesh)null!==i._multiDrawInstances?m.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances):m.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else if(i.isInstancedMesh)m.renderInstances(h,p,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);m.renderInstances(h,p,t)}else m.render(h,p)},this.compile=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=e),f=oe.get(n),f.init(t),m.push(f),n.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(f.pushLight(e),e.castShadow&&f.pushShadow(e))})),e!==n&&e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(f.pushLight(e),e.castShadow&&f.pushShadow(e))})),f.setupLights(v._useLegacyLights);const r=new Set;return e.traverse((function(e){const t=e.material;if(t)if(Array.isArray(t))for(let i=0;i<t.length;i++){const o=t[i];_e(o,n,e),r.add(o)}else _e(t,n,e),r.add(t)})),m.pop(),f=null,r},this.compileAsync=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=this.compile(e,t,n);return new Promise((t=>{function n(){r.forEach((function(e){X.get(e).currentProgram.isReady()&&r.delete(e)})),0!==r.size?setTimeout(n,10):t(e)}null!==W.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)}))};let Se=null;function Ce(){Ee.stop()}function Be(){Ee.start()}const Ee=new Jg;function Me(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)f.pushLight(e),e.castShadow&&f.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||D.intersectsSprite(e)){r&&z.setFromMatrixPosition(e.matrixWorld).applyMatrix4(H);const t=te.update(e),i=e.material;i.visible&&p.push(e,t,i,n,z.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||D.intersectsObject(e))){const t=te.update(e),i=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),z.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),z.copy(t.boundingSphere.center)),z.applyMatrix4(e.matrixWorld).applyMatrix4(H)),Array.isArray(i)){const r=t.groups;for(let o=0,s=r.length;o<s;o++){const s=r[o],a=i[s.materialIndex];a&&a.visible&&p.push(e,t,a,n,z.z,s)}}else i.visible&&p.push(e,t,i,n,z.z,null)}const i=e.children;for(let o=0,s=i.length;o<s;o++)Me(i[o],t,n,r)}function Te(e,t,n,r){const i=e.opaque,o=e.transmissive,s=e.transparent;f.setupLightsView(n),!0===O&&se.setGlobalState(v.clippingPlanes,n),r&&K.viewport(C.copy(r)),i.length>0&&Ie(i,t,n),o.length>0&&Ie(o,t,n),s.length>0&&Ie(s,t,n),K.buffers.depth.setTest(!0),K.buffers.depth.setMask(!0),K.buffers.color.setMask(!0),K.setPolygonOffset(!1)}function Fe(e,t,n,r){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===f.state.transmissionRenderTarget[r.id]&&(f.state.transmissionRenderTarget[r.id]=new Ap(1,1,{generateMipmaps:!0,type:W.has("EXT_color_buffer_half_float")||W.has("EXT_color_buffer_float")?bu:du,minFilter:uu,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1}));const o=f.state.transmissionRenderTarget[r.id],s=r.viewport||C;o.setSize(s.z,s.w);const a=v.getRenderTarget();v.setRenderTarget(o),v.getClearColor(M),T=v.getClearAlpha(),T<1&&v.setClearColor(16777215,.5),v.clear();const l=v.toneMapping;v.toneMapping=Dc;const A=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),f.setupLightsView(r),!0===O&&se.setGlobalState(v.clippingPlanes,r),Ie(e,n,r),Y.updateMultisampleRenderTarget(o),Y.updateRenderTargetMipmap(o),!1===W.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let i=0,o=t.length;i<o;i++){const o=t[i],s=o.object,a=o.geometry,l=o.material,A=o.group;if(l.side===ec&&s.layers.test(r.layers)){const t=l.side;l.side=ZA,l.needsUpdate=!0,Le(s,n,r,a,l,A),l.side=t,l.needsUpdate=!0,e=!0}}!0===e&&(Y.updateMultisampleRenderTarget(o),Y.updateRenderTargetMipmap(o))}v.setRenderTarget(a),v.setClearColor(M,T),void 0!==A&&(r.viewport=A),v.toneMapping=l}function Ie(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,o=e.length;i<o;i++){const o=e[i],s=o.object,a=o.geometry,l=null===r?o.material:r,A=o.group;s.layers.test(n.layers)&&Le(s,t,n,a,l,A)}}function Le(e,t,n,r,i,o){e.onBeforeRender(v,t,n,r,i,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(v,t,n,r,e,o),!0===i.transparent&&i.side===ec&&!1===i.forceSinglePass?(i.side=ZA,i.needsUpdate=!0,v.renderBufferDirect(n,t,r,i,e,o),i.side=JA,i.needsUpdate=!0,v.renderBufferDirect(n,t,r,i,e,o),i.side=ec):v.renderBufferDirect(n,t,r,i,e,o),e.onAfterRender(v,t,n,r,i,o)}function Pe(e,t,n){!0!==t.isScene&&(t=j);const r=X.get(e),i=f.state.lights,o=f.state.shadowsArray,s=i.state.version,a=ne.getParameters(e,i.state,o,t,n),l=ne.getProgramCacheKey(a);let A=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?J:$).get(e.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===A&&(e.addEventListener("dispose",xe),A=new Map,r.programs=A);let c=A.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===s)return Re(e,a),c}else a.uniforms=ne.getUniforms(e),e.onBuild(n,a,v),e.onBeforeCompile(a,v),c=ne.acquireProgram(a,l),A.set(l,c),r.uniforms=a.uniforms;const u=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(u.clippingPlanes=se.uniform),Re(e,a),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=s,r.needsLights&&(u.ambientLightColor.value=i.state.ambient,u.lightProbe.value=i.state.probe,u.directionalLights.value=i.state.directional,u.directionalLightShadows.value=i.state.directionalShadow,u.spotLights.value=i.state.spot,u.spotLightShadows.value=i.state.spotShadow,u.rectAreaLights.value=i.state.rectArea,u.ltc_1.value=i.state.rectAreaLTC1,u.ltc_2.value=i.state.rectAreaLTC2,u.pointLights.value=i.state.point,u.pointLightShadows.value=i.state.pointShadow,u.hemisphereLights.value=i.state.hemi,u.directionalShadowMap.value=i.state.directionalShadowMap,u.directionalShadowMatrix.value=i.state.directionalShadowMatrix,u.spotShadowMap.value=i.state.spotShadowMap,u.spotLightMatrix.value=i.state.spotLightMatrix,u.spotLightMap.value=i.state.spotLightMap,u.pointShadowMap.value=i.state.pointShadowMap,u.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=c,r.uniformsList=null,c}function Ue(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=jv.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function Re(e,t){const n=X.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Ee.setAnimationLoop((function(e){Se&&Se(e)})),"undefined"!==typeof self&&Ee.setContext(self),this.setAnimationLoop=function(e){Se=e,ve.setAnimationLoop(e),null===e?Ee.stop():Ee.start()},ve.addEventListener("sessionstart",Ce),ve.addEventListener("sessionend",Be),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===y)return;!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===ve.enabled&&!0===ve.isPresenting&&(!0===ve.cameraAutoUpdate&&ve.updateCamera(t),t=ve.getCamera()),!0===e.isScene&&e.onBeforeRender(v,e,t,x),f=oe.get(e,m.length),f.init(t),m.push(f),H.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),D.setFromProjectionMatrix(H),Q=this.localClippingEnabled,O=se.init(this.clippingPlanes,Q),p=ie.get(e,g.length),p.init(),g.push(p),Me(e,t,0,v.sortObjects),p.finish(),!0===v.sortObjects&&p.sort(P,U);const n=!1===ve.enabled||!1===ve.isPresenting||!1===ve.hasDepthSensing();n&&le.addToRenderList(p,e),this.info.render.frame++,!0===O&&se.beginShadows();const r=f.state.shadowsArray;ae.render(r,e,t),!0===O&&se.endShadows(),!0===this.info.autoReset&&this.info.reset();const i=p.opaque,o=p.transmissive;if(f.setupLights(v._useLegacyLights),t.isArrayCamera){const r=t.cameras;if(o.length>0)for(let t=0,n=r.length;t<n;t++){Fe(i,o,e,r[t])}n&&le.render(e);for(let t=0,n=r.length;t<n;t++){const n=r[t];Te(p,e,n,n.viewport)}}else o.length>0&&Fe(i,o,e,t),n&&le.render(e),Te(p,e,t);null!==x&&(Y.updateMultisampleRenderTarget(x),Y.updateRenderTargetMipmap(x)),!0===e.isScene&&e.onAfterRender(v,e,t),de.resetDefaultState(),_=-1,S=null,m.pop(),m.length>0?(f=m[m.length-1],!0===O&&se.setGlobalState(v.clippingPlanes,f.state.camera)):f=null,g.pop(),p=g.length>0?g[g.length-1]:null},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(e,t,n){X.get(e.texture).__webglTexture=t,X.get(e.depthTexture).__webglTexture=n;const r=X.get(e);r.__hasExternalTextures=!0,r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===W.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(e,t){const n=X.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;x=e,b=t,w=n;let r=!0,i=null,o=!1,s=!1;if(e){const a=X.get(e);void 0!==a.__useDefaultFramebuffer?(K.bindFramebuffer(fe.FRAMEBUFFER,null),r=!1):void 0===a.__webglFramebuffer?Y.setupRenderTarget(e):a.__hasExternalTextures&&Y.rebindTextures(e,X.get(e.texture).__webglTexture,X.get(e.depthTexture).__webglTexture);const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(s=!0);const A=X.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(A[t])?A[t][n]:A[t],o=!0):i=e.samples>0&&!1===Y.useMultisampledRTT(e)?X.get(e).__webglMultisampledFramebuffer:Array.isArray(A)?A[n]:A,C.copy(e.viewport),B.copy(e.scissor),E=e.scissorTest}else C.copy(R).multiplyScalar(L).floor(),B.copy(k).multiplyScalar(L).floor(),E=N;if(K.bindFramebuffer(fe.FRAMEBUFFER,i)&&r&&K.drawBuffers(e,i),K.viewport(C),K.scissor(B),K.setScissorTest(E),o){const r=X.get(e.texture);fe.framebufferTexture2D(fe.FRAMEBUFFER,fe.COLOR_ATTACHMENT0,fe.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(s){const r=X.get(e.texture),i=t||0;fe.framebufferTextureLayer(fe.FRAMEBUFFER,fe.COLOR_ATTACHMENT0,r.__webglTexture,n||0,i)}_=-1},this.readRenderTargetPixels=function(e,t,n,r,i,o,s){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=X.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){K.bindFramebuffer(fe.FRAMEBUFFER,a);try{const s=e.texture,a=s.format,l=s.type;if(!G.textureFormatReadable(a))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!G.textureTypeReadable(l))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&fe.readPixels(t,n,r,i,he.convert(a),he.convert(l),o)}finally{const e=null!==x?X.get(x).__webglFramebuffer:null;K.bindFramebuffer(fe.FRAMEBUFFER,e)}}},this.copyFramebufferToTexture=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Math.pow(2,-n),i=Math.floor(t.image.width*r),o=Math.floor(t.image.height*r);Y.setTexture2D(t,0),fe.copyTexSubImage2D(fe.TEXTURE_2D,n,0,0,e.x,e.y,i,o),K.unbindTexture()},this.copyTextureToTexture=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=t.image.width,o=t.image.height,s=he.convert(n.format),a=he.convert(n.type);Y.setTexture2D(n,0),fe.pixelStorei(fe.UNPACK_FLIP_Y_WEBGL,n.flipY),fe.pixelStorei(fe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),fe.pixelStorei(fe.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?fe.texSubImage2D(fe.TEXTURE_2D,r,e.x,e.y,i,o,s,a,t.image.data):t.isCompressedTexture?fe.compressedTexSubImage2D(fe.TEXTURE_2D,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,s,t.mipmaps[0].data):fe.texSubImage2D(fe.TEXTURE_2D,r,e.x,e.y,s,a,t.image),0===r&&n.generateMipmaps&&fe.generateMipmap(fe.TEXTURE_2D),K.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const o=e.max.x-e.min.x,s=e.max.y-e.min.y,a=e.max.z-e.min.z,l=he.convert(r.format),A=he.convert(r.type);let c;if(r.isData3DTexture)Y.setTexture3D(r,0),c=fe.TEXTURE_3D;else{if(!r.isDataArrayTexture&&!r.isCompressedArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Y.setTexture2DArray(r,0),c=fe.TEXTURE_2D_ARRAY}fe.pixelStorei(fe.UNPACK_FLIP_Y_WEBGL,r.flipY),fe.pixelStorei(fe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),fe.pixelStorei(fe.UNPACK_ALIGNMENT,r.unpackAlignment);const u=fe.getParameter(fe.UNPACK_ROW_LENGTH),h=fe.getParameter(fe.UNPACK_IMAGE_HEIGHT),d=fe.getParameter(fe.UNPACK_SKIP_PIXELS),p=fe.getParameter(fe.UNPACK_SKIP_ROWS),f=fe.getParameter(fe.UNPACK_SKIP_IMAGES),g=n.isCompressedTexture?n.mipmaps[i]:n.image;fe.pixelStorei(fe.UNPACK_ROW_LENGTH,g.width),fe.pixelStorei(fe.UNPACK_IMAGE_HEIGHT,g.height),fe.pixelStorei(fe.UNPACK_SKIP_PIXELS,e.min.x),fe.pixelStorei(fe.UNPACK_SKIP_ROWS,e.min.y),fe.pixelStorei(fe.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?fe.texSubImage3D(c,i,t.x,t.y,t.z,o,s,a,l,A,g.data):r.isCompressedArrayTexture?fe.compressedTexSubImage3D(c,i,t.x,t.y,t.z,o,s,a,l,g.data):fe.texSubImage3D(c,i,t.x,t.y,t.z,o,s,a,l,A,g),fe.pixelStorei(fe.UNPACK_ROW_LENGTH,u),fe.pixelStorei(fe.UNPACK_IMAGE_HEIGHT,h),fe.pixelStorei(fe.UNPACK_SKIP_PIXELS,d),fe.pixelStorei(fe.UNPACK_SKIP_ROWS,p),fe.pixelStorei(fe.UNPACK_SKIP_IMAGES,f),0===i&&r.generateMipmaps&&fe.generateMipmap(c),K.unbindTexture()},this.initTexture=function(e){e.isCubeTexture?Y.setTextureCube(e,0):e.isData3DTexture?Y.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?Y.setTexture2DArray(e,0):Y.setTexture2D(e,0),K.unbindTexture()},this.resetState=function(){b=0,w=0,x=null,K.reset(),de.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return _d}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===kh?"display-p3":"srgb",t.unpackColorSpace=$d.workingColorSpace===Nh?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class Qy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;this.isFogExp2=!0,this.name="",this.color=new Rf(e),this.density=t}clone(){return new Qy(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Hy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;this.isFog=!0,this.name="",this.color=new Rf(e),this.near=t,this.far=n}clone(){return new Hy(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class zy extends yf{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new tf,this.environmentIntensity=1,this.environmentRotation=new tf,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class jy{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=hd,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Fd()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}get updateRange(){return Gd("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Fd()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Fd()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Vy=new fp;class Wy{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Vy.fromBufferAttribute(this,t),Vy.applyMatrix4(e),this.setXYZ(t,Vy.x,Vy.y,Vy.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Vy.fromBufferAttribute(this,t),Vy.applyNormalMatrix(e),this.setXYZ(t,Vy.x,Vy.y,Vy.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Vy.fromBufferAttribute(this,t),Vy.transformDirection(e),this.setXYZ(t,Vy.x,Vy.y,Vy.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Ud(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Rd(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Rd(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Rd(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Rd(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Rd(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ud(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ud(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ud(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ud(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Rd(t,this.array),n=Rd(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Rd(t,this.array),n=Rd(n,this.array),r=Rd(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Rd(t,this.array),n=Rd(n,this.array),r=Rd(r,this.array),i=Rd(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new Kf(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Wy(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Gy extends Df{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Rf(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ky;const qy=new fp,Xy=new fp,Yy=new fp,$y=new Nd,Jy=new Nd,Zy=new Wp,eb=new fp,tb=new fp,nb=new fp,rb=new Nd,ib=new Nd,ob=new Nd;class sb extends yf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gy;if(super(),this.isSprite=!0,this.type="Sprite",void 0===Ky){Ky=new cg;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new jy(e,5);Ky.setIndex([0,1,2,0,2,3]),Ky.setAttribute("position",new Wy(t,3,0,!1)),Ky.setAttribute("uv",new Wy(t,2,3,!1))}this.geometry=Ky,this.material=e,this.center=new Nd(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Xy.setFromMatrixScale(this.matrixWorld),Zy.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Yy.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Xy.multiplyScalar(-Yy.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const o=this.center;ab(eb.set(-.5,-.5,0),Yy,o,Xy,r,i),ab(tb.set(.5,-.5,0),Yy,o,Xy,r,i),ab(nb.set(.5,.5,0),Yy,o,Xy,r,i),rb.set(0,0),ib.set(1,0),ob.set(1,1);let s=e.ray.intersectTriangle(eb,tb,nb,!1,qy);if(null===s&&(ab(tb.set(-.5,.5,0),Yy,o,Xy,r,i),ib.set(0,1),s=e.ray.intersectTriangle(eb,nb,tb,!1,qy),null===s))return;const a=e.ray.origin.distanceTo(qy);a<e.near||a>e.far||t.push({distance:a,point:qy.clone(),uv:Ff.getInterpolation(qy,eb,tb,nb,rb,ib,ob,new Nd),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function ab(e,t,n,r,i,o){$y.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(Jy.x=o*$y.x-i*$y.y,Jy.y=i*$y.x+o*$y.y):Jy.copy($y),e.copy(t),e.x+=Jy.x,e.y+=Jy.y,e.applyMatrix4(Zy)}const lb=new fp,Ab=new fp;class cb extends yf{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance,e.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){lb.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(lb);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){lb.setFromMatrixPosition(e.matrixWorld),Ab.setFromMatrixPosition(this.matrixWorld);const n=lb.distanceTo(Ab)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){let e=t[r].distance;if(t[r].object.visible&&(e-=e*t[r].hysteresis),!(n>=e))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,i=n.length;r<i;r++){const e=n[r];t.object.levels.push({object:e.object.uuid,distance:e.distance,hysteresis:e.hysteresis})}return t}}const ub=new fp,hb=new ap,db=new ap,pb=new fp,fb=new Wp,gb=new fp,mb=new kp,vb=new Wp,yb=new Vp;class bb extends Mg{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Gc,this.bindMatrix=new Wp,this.bindMatrixInverse=new Wp,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new vp),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,gb),this.boundingBox.expandByPoint(gb)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new kp),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,gb),this.boundingSphere.expandByPoint(gb)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),mb.copy(this.boundingSphere),mb.applyMatrix4(r),!1!==e.ray.intersectsSphere(mb)&&(vb.copy(r).invert(),yb.copy(e.ray).applyMatrix4(vb),null!==this.boundingBox&&!1===yb.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,yb)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ap,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Gc?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Kc?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;hb.fromBufferAttribute(r.attributes.skinIndex,e),db.fromBufferAttribute(r.attributes.skinWeight,e),ub.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){const e=db.getComponent(i);if(0!==e){const r=hb.getComponent(i);fb.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(pb.copy(ub).applyMatrix4(fb),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}class wb extends yf{constructor(){super(),this.isBone=!0,this.type="Bone"}}class xb extends sp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(null,arguments.length>5?arguments[5]:void 0,arguments.length>6?arguments[6]:void 0,arguments.length>7?arguments[7]:void 0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:ru,arguments.length>9&&void 0!==arguments[9]?arguments[9]:ru,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0,arguments.length>10?arguments[10]:void 0,arguments.length>11?arguments[11]:void 0),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _b=new Wp,Sb=new Wp;class Cb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=Fd(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new Wp)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new Wp;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,o=e.length;i<o;i++){const r=e[i]?e[i].matrixWorld:Sb;_b.multiplyMatrices(r,t[i]),_b.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}clone(){return new Cb(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new xb(t,e,e,Eu,yu);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const r=e.bones[n];let i=t[r];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),i=new wb),this.bones.push(i),this.boneInverses.push((new Wp).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const o=n[r];e.boneInverses.push(o.toArray())}return e}}class Bb extends Kf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Eb=new Wp,Mb=new Wp,Tb=[],Fb=new vp,Ib=new Wp,Lb=new Mg,Pb=new kp;class Ub extends Mg{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Bb(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,Ib)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new vp),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Eb),Fb.copy(e.boundingBox).applyMatrix4(Eb),this.boundingBox.union(Fb)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new kp),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Eb),Pb.copy(e.boundingSphere).applyMatrix4(Eb),this.boundingSphere.union(Pb)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,i=e*(n.length+1)+1;for(let o=0;o<n.length;o++)n[o]=r[i+o]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(Lb.geometry=this.geometry,Lb.material=this.material,void 0!==Lb.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Pb.copy(this.boundingSphere),Pb.applyMatrix4(n),!1!==e.ray.intersectsSphere(Pb)))for(let i=0;i<r;i++){this.getMatrixAt(i,Eb),Mb.multiplyMatrices(n,Eb),Lb.matrixWorld=Mb,Lb.raycast(e,Tb);for(let e=0,n=Tb.length;e<n;e++){const n=Tb[e];n.instanceId=i,n.object=this,t.push(n)}Tb.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Bb(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;null===this.morphTexture&&(this.morphTexture=new xb(new Float32Array(r*this.count),r,this.count,Lu,yu));const i=this.morphTexture.source.data.data;let o=0;for(let l=0;l<n.length;l++)o+=n[l];const s=this.geometry.morphTargetsRelative?1:1-o,a=r*e;i[a]=s,i.set(n,a+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function Rb(e,t){return e.z-t.z}function kb(e,t){return t.z-e.z}class Nb{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const n=this.pool,r=this.list;this.index>=n.length&&n.push({start:-1,count:-1,z:-1});const i=n[this.index];r.push(i),this.index++,i.start=e.start,i.count=e.count,i.z=t}reset(){this.list.length=0,this.index=0}}const Db="batchId",Ob=new Wp,Qb=new Wp,Hb=new Wp,zb=new Wp,jb=new $g,Vb=new vp,Wb=new kp,Gb=new fp,Kb=new Nb,qb=new Mg,Xb=[];function Yb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor){const i=e.count;for(let o=0;o<i;o++)for(let i=0;i<r;i++)t.setComponent(o+n,i,e.getComponent(o,i))}else t.array.set(e.array,n*r);t.needsUpdate=!0}class $b extends Mg{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2*t,r=arguments.length>3?arguments[3]:void 0;super(new cg,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(4*this._maxGeometryCount);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new xb(t,e,e,Eu,yu);this._matricesTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxGeometryCount,i=this._maxIndexCount;if(!1===this._geometryInitialized){for(const r in e.attributes){const i=e.getAttribute(r),{array:o,itemSize:s,normalized:a}=i,l=new o.constructor(n*s),A=new Kf(l,s,a);t.setAttribute(r,A)}if(null!==e.getIndex()){const e=n>65536?new Uint32Array(i):new Uint16Array(i);t.setIndex(new Kf(e,1))}const o=r>65536?new Uint32Array(n):new Uint16Array(n);t.setAttribute(Db,new Kf(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Db))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Db}"`);const t=this.geometry;if(Boolean(e.getIndex())!==Boolean(t.getIndex()))throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(n===Db)continue;if(!e.hasAttribute(n))throw new Error(`BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),i=t.getAttribute(n);if(r.itemSize!==i.itemSize||r.normalized!==i.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new vp);const e=this._geometryCount,t=this.boundingBox,n=this._active;t.makeEmpty();for(let r=0;r<e;r++)!1!==n[r]&&(this.getMatrixAt(r,Ob),this.getBoundingBoxAt(r,Vb).applyMatrix4(Ob),t.union(Vb))}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new kp);const e=this._geometryCount,t=this.boundingSphere,n=this._active;t.makeEmpty();for(let r=0;r<e;r++)!1!==n[r]&&(this.getMatrixAt(r,Ob),this.getBoundingSphereAt(r,Wb).applyMatrix4(Ob),t.union(Wb))}addGeometry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let i=null;const o=this._reservedRanges,s=this._drawRanges,a=this._bounds;0!==this._geometryCount&&(i=o[o.length-1]),r.vertexCount=-1===t?e.getAttribute("position").count:t,r.vertexStart=null===i?0:i.vertexStart+i.vertexCount;const l=e.getIndex(),A=null!==l;if(A&&(r.indexCount=-1===n?l.count:n,r.indexStart=null===i?0:i.indexStart+i.indexCount),-1!==r.indexStart&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const c=this._visibility,u=this._active,h=this._matricesTexture,d=this._matricesTexture.image.data;c.push(!0),u.push(!0);const p=this._geometryCount;this._geometryCount++,Hb.toArray(d,16*p),h.needsUpdate=!0,o.push(r),s.push({start:A?r.indexStart:r.vertexStart,count:-1}),a.push({boxInitialized:!1,box:new vp,sphereInitialized:!1,sphere:new kp});const f=this.geometry.getAttribute(Db);for(let g=0;g<r.vertexCount;g++)f.setX(r.vertexStart+g,p);return f.needsUpdate=!0,this.setGeometryAt(p,e),p}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=null!==n.getIndex(),i=n.getIndex(),o=t.getIndex(),s=this._reservedRanges[e];if(r&&o.count>s.indexCount||t.attributes.position.count>s.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const a=s.vertexStart,l=s.vertexCount;for(const h in n.attributes){if(h===Db)continue;const e=t.getAttribute(h),r=n.getAttribute(h);Yb(e,r,a);const i=e.itemSize;for(let t=e.count,n=l;t<n;t++){const e=a+t;for(let t=0;t<i;t++)r.setComponent(e,t,0)}r.needsUpdate=!0,r.addUpdateRange(a*i,l*i)}if(r){const e=s.indexStart;for(let t=0;t<o.count;t++)i.setX(e+t,a+o.getX(t));for(let t=o.count,n=s.indexCount;t<n;t++)i.setX(e+t,a);i.needsUpdate=!0,i.addUpdateRange(e,s.indexCount)}const A=this._bounds[e];null!==t.boundingBox?(A.box.copy(t.boundingBox),A.boxInitialized=!0):A.boxInitialized=!1,null!==t.boundingSphere?(A.sphere.copy(t.boundingSphere),A.sphereInitialized=!0):A.sphereInitialized=!1;const c=this._drawRanges[e],u=t.getAttribute("position");return c.count=r?o.count:u.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||!1===t[e]||(t[e]=!1,this._visibilityChanged=!0),this}getInstanceCountAt(e){return null===this._multiDrawInstances?null:this._multiDrawInstances[e]}setInstanceCountAt(e,t){return null===this._multiDrawInstances&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[e]=t,e}getBoundingBoxAt(e,t){if(!1===this._active[e])return null;const n=this._bounds[e],r=n.box,i=this.geometry;if(!1===n.boxInitialized){r.makeEmpty();const t=i.index,o=i.attributes.position,s=this._drawRanges[e];for(let e=s.start,n=s.start+s.count;e<n;e++){let n=e;t&&(n=t.getX(n)),r.expandByPoint(Gb.fromBufferAttribute(o,n))}n.boxInitialized=!0}return t.copy(r),t}getBoundingSphereAt(e,t){if(!1===this._active[e])return null;const n=this._bounds[e],r=n.sphere,i=this.geometry;if(!1===n.sphereInitialized){r.makeEmpty(),this.getBoundingBoxAt(e,Vb),Vb.getCenter(r.center);const t=i.index,o=i.attributes.position,s=this._drawRanges[e];let a=0;for(let e=s.start,n=s.start+s.count;e<n;e++){let n=e;t&&(n=t.getX(n)),Gb.fromBufferAttribute(o,n),a=Math.max(a,r.center.distanceToSquared(Gb))}r.radius=Math.sqrt(a),n.sphereInitialized=!0}return t.copy(r),t}setMatrixAt(e,t){const n=this._active,r=this._matricesTexture,i=this._matricesTexture.image.data;return e>=this._geometryCount||!1===n[e]||(t.toArray(i,16*e),r.needsUpdate=!0),this}getMatrixAt(e,t){const n=this._active,r=this._matricesTexture.image.data;return e>=this._geometryCount||!1===n[e]?null:t.fromArray(r,16*e)}setVisibleAt(e,t){const n=this._visibility,r=this._active;return e>=this._geometryCount||!1===r[e]||n[e]===t||(n[e]=t,this._visibilityChanged=!0),this}getVisibleAt(e){const t=this._visibility,n=this._active;return!(e>=this._geometryCount||!1===n[e])&&t[e]}raycast(e,t){const n=this._visibility,r=this._active,i=this._drawRanges,o=this._geometryCount,s=this.matrixWorld,a=this.geometry;qb.material=this.material,qb.geometry.index=a.index,qb.geometry.attributes=a.attributes,null===qb.geometry.boundingBox&&(qb.geometry.boundingBox=new vp),null===qb.geometry.boundingSphere&&(qb.geometry.boundingSphere=new kp);for(let l=0;l<o;l++){if(!n[l]||!r[l])continue;const o=i[l];qb.geometry.setDrawRange(o.start,o.count),this.getMatrixAt(l,qb.matrixWorld).premultiply(s),this.getBoundingBoxAt(l,qb.geometry.boundingBox),this.getBoundingSphereAt(l,qb.geometry.boundingSphere),qb.raycast(e,Xb);for(let e=0,n=Xb.length;e<n;e++){const n=Xb[e];n.object=this,n.batchId=l,t.push(n)}Xb.length=0}qb.material=null,qb.geometry.index=null,qb.geometry.attributes={},qb.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map((e=>({...e}))),this._reservedRanges=e._reservedRanges.map((e=>({...e}))),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map((e=>({boxInitialized:e.boxInitialized,box:e.box.clone(),sphereInitialized:e.sphereInitialized,sphere:e.sphere.clone()}))),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,t,n,r,i){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),s=null===o?1:o.array.BYTES_PER_ELEMENT,a=this._active,l=this._visibility,A=this._multiDrawStarts,c=this._multiDrawCounts,u=this._drawRanges,h=this.perObjectFrustumCulled;h&&(zb.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),jb.setFromProjectionMatrix(zb,e.coordinateSystem));let d=0;if(this.sortObjects){Qb.copy(this.matrixWorld).invert(),Gb.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Qb);for(let n=0,r=l.length;n<r;n++)if(l[n]&&a[n]){this.getMatrixAt(n,Ob),this.getBoundingSphereAt(n,Wb).applyMatrix4(Ob);let e=!1;if(h&&(e=!jb.intersectsSphere(Wb)),!e){const e=Gb.distanceTo(Wb.center);Kb.push(u[n],e)}}const e=Kb.list,t=this.customSort;null===t?e.sort(i.transparent?kb:Rb):t.call(this,e,n);for(let n=0,r=e.length;n<r;n++){const t=e[n];A[d]=t.start*s,c[d]=t.count,d++}Kb.reset()}else for(let p=0,f=l.length;p<f;p++)if(l[p]&&a[p]){let e=!1;if(h&&(this.getMatrixAt(p,Ob),this.getBoundingSphereAt(p,Wb).applyMatrix4(Ob),e=!jb.intersectsSphere(Wb)),!e){const e=u[p];A[d]=e.start*s,c[d]=e.count,d++}}this._multiDrawCount=d,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,i,o){this.onBeforeRender(e,null,r,i,o)}}class Jb extends Df{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Rf(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Zb=new fp,ew=new fp,tw=new Wp,nw=new Vp,rw=new kp,iw=new fp,ow=new fp;class sw extends yf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new cg,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Jb;super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)Zb.fromBufferAttribute(t,e-1),ew.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=Zb.distanceTo(ew);e.setAttribute("lineDistance",new ng(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),rw.copy(n.boundingSphere),rw.applyMatrix4(r),rw.radius+=i,!1===e.ray.intersectsSphere(rw))return;tw.copy(r).invert(),nw.copy(e.ray).applyMatrix4(tw);const s=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,l=this.isLineSegments?2:1,A=n.index,c=n.attributes.position;if(null!==A){const n=Math.max(0,o.start),r=Math.min(A.count,o.start+o.count);for(let i=n,o=r-1;i<o;i+=l){const n=A.getX(i),r=A.getX(i+1),o=aw(this,e,nw,a,n,r);o&&t.push(o)}if(this.isLineLoop){const i=A.getX(r-1),o=A.getX(n),s=aw(this,e,nw,a,i,o);s&&t.push(s)}}else{const n=Math.max(0,o.start),r=Math.min(c.count,o.start+o.count);for(let i=n,o=r-1;i<o;i+=l){const n=aw(this,e,nw,a,i,i+1);n&&t.push(n)}if(this.isLineLoop){const i=aw(this,e,nw,a,r-1,n);i&&t.push(i)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function aw(e,t,n,r,i,o){const s=e.geometry.attributes.position;Zb.fromBufferAttribute(s,i),ew.fromBufferAttribute(s,o);if(n.distanceSqToSegment(Zb,ew,iw,ow)>r)return;iw.applyMatrix4(e.matrixWorld);const a=t.ray.origin.distanceTo(iw);return a<t.near||a>t.far?void 0:{distance:a,point:ow.clone().applyMatrix4(e.matrixWorld),index:i,face:null,faceIndex:null,object:e}}const lw=new fp,Aw=new fp;class cw extends sw{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)lw.fromBufferAttribute(t,e),Aw.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+lw.distanceTo(Aw);e.setAttribute("lineDistance",new ng(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class uw extends sw{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class hw extends Df{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Rf(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const dw=new Wp,pw=new Vp,fw=new kp,gw=new fp;class mw extends yf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new cg,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hw;super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),fw.copy(n.boundingSphere),fw.applyMatrix4(r),fw.radius+=i,!1===e.ray.intersectsSphere(fw))return;dw.copy(r).invert(),pw.copy(e.ray).applyMatrix4(dw);const s=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,l=n.index,A=n.attributes.position;if(null!==l){for(let n=Math.max(0,o.start),i=Math.min(l.count,o.start+o.count);n<i;n++){const i=l.getX(n);gw.fromBufferAttribute(A,i),vw(gw,i,a,r,e,t,this)}}else{for(let n=Math.max(0,o.start),i=Math.min(A.count,o.start+o.count);n<i;n++)gw.fromBufferAttribute(A,n),vw(gw,n,a,r,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function vw(e,t,n,r,i,o,s){const a=pw.distanceSqToPoint(e);if(a<n){const n=new fp;pw.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;o.push({distance:l,distanceToRay:Math.sqrt(a),point:n,index:t,face:null,object:s})}}class yw extends sp{constructor(e,t,n,r,i,o,s,a,l){super(e,t,n,r,i,o,s,a,l),this.isVideoTexture=!0,this.minFilter=void 0!==o?o:lu,this.magFilter=void 0!==i?i:lu,this.generateMipmaps=!1;const A=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){A.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class bw extends sp{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=ru,this.minFilter=ru,this.generateMipmaps=!1,this.needsUpdate=!0}}class ww extends sp{constructor(e,t,n,r,i,o,s,a,l,A,c,u){super(null,o,s,a,l,A,r,i,c,u),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class xw extends ww{constructor(e,t,n,r,i,o){super(e,t,n,i,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=tu}}class _w extends ww{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Xc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Sw extends sp{constructor(e,t,n,r,i,o,s,a,l){super(e,t,n,r,i,o,s,a,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Cw{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const i=n.length;let o;o=t||e*n[i-1];let s,a=0,l=i-1;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),s=n[r]-o,s<0)a=r+1;else{if(!(s>0)){l=r;break}l=r-1}if(r=l,n[r]===o)return r/(i-1);const A=n[r];return(r+(o-A)/(n[r+1]-A))/(i-1)}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const o=this.getPoint(r),s=this.getPoint(i),a=t||(o.isVector2?new Nd:new fp);return a.copy(s).sub(o).normalize(),a}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new fp,r=[],i=[],o=[],s=new fp,a=new Wp;for(let h=0;h<=e;h++){const t=h/e;r[h]=this.getTangentAt(t,new fp)}i[0]=new fp,o[0]=new fp;let l=Number.MAX_VALUE;const A=Math.abs(r[0].x),c=Math.abs(r[0].y),u=Math.abs(r[0].z);A<=l&&(l=A,n.set(1,0,0)),c<=l&&(l=c,n.set(0,1,0)),u<=l&&n.set(0,0,1),s.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],s),o[0].crossVectors(r[0],i[0]);for(let h=1;h<=e;h++){if(i[h]=i[h-1].clone(),o[h]=o[h-1].clone(),s.crossVectors(r[h-1],r[h]),s.length()>Number.EPSILON){s.normalize();const e=Math.acos(Id(r[h-1].dot(r[h]),-1,1));i[h].applyMatrix4(a.makeRotationAxis(s,e))}o[h].crossVectors(r[h],i[h])}if(!0===t){let t=Math.acos(Id(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(s.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(a.makeRotationAxis(r[n],t*n)),o[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Bw extends Cw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=s,this.aRotation=a}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Nd,n=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const i=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=n;for(;r>n;)r-=n;r<Number.EPSILON&&(r=i?0:n),!0!==this.aClockwise||i||(r===n?r=-n:r-=n);const o=this.aStartAngle+e*r;let s=this.aX+this.xRadius*Math.cos(o),a=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=s-this.aX,r=a-this.aY;s=n*e-r*t+this.aX,a=n*t+r*e+this.aY}return t.set(s,a)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Ew extends Bw{constructor(e,t,n,r,i,o){super(e,t,n,n,r,i,o),this.isArcCurve=!0,this.type="ArcCurve"}}function Mw(){let e=0,t=0,n=0,r=0;function i(i,o,s,a){e=i,t=s,n=-3*i+3*o-2*s-a,r=2*i-2*o+s+a}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,s,a){let l=(t-e)/o-(n-e)/(o+s)+(n-t)/s,A=(n-t)/s-(r-t)/(s+a)+(r-n)/a;l*=s,A*=s,i(t,n,l,A)},calc:function(i){const o=i*i;return e+t*i+n*o+r*(o*i)}}}const Tw=new fp,Fw=new Mw,Iw=new Mw,Lw=new Mw;class Pw extends Cw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fp,n=this.points,r=n.length,i=(r-(this.closed?0:1))*e;let o,s,a=Math.floor(i),l=i-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/r)+1)*r:0===l&&a===r-1&&(a=r-2,l=1),this.closed||a>0?o=n[(a-1)%r]:(Tw.subVectors(n[0],n[1]).add(n[0]),o=Tw);const A=n[a%r],c=n[(a+1)%r];if(this.closed||a+2<r?s=n[(a+2)%r]:(Tw.subVectors(n[r-1],n[r-2]).add(n[r-1]),s=Tw),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(o.distanceToSquared(A),e),n=Math.pow(A.distanceToSquared(c),e),r=Math.pow(c.distanceToSquared(s),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),Fw.initNonuniformCatmullRom(o.x,A.x,c.x,s.x,t,n,r),Iw.initNonuniformCatmullRom(o.y,A.y,c.y,s.y,t,n,r),Lw.initNonuniformCatmullRom(o.z,A.z,c.z,s.z,t,n,r)}else"catmullrom"===this.curveType&&(Fw.initCatmullRom(o.x,A.x,c.x,s.x,this.tension),Iw.initCatmullRom(o.y,A.y,c.y,s.y,this.tension),Lw.initCatmullRom(o.z,A.z,c.z,s.z,this.tension));return t.set(Fw.calc(l),Iw.calc(l),Lw.calc(l)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new fp).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Uw(e,t,n,r,i){const o=.5*(r-t),s=.5*(i-n),a=e*e;return(2*n-2*r+o+s)*(e*a)+(-3*n+3*r-2*o-s)*a+o*e+n}function Rw(e,t,n,r){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function kw(e,t,n,r,i){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}class Nw extends Cw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Nd,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Nd,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Nd,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Nd;super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Nd,n=this.v0,r=this.v1,i=this.v2,o=this.v3;return t.set(kw(e,n.x,r.x,i.x,o.x),kw(e,n.y,r.y,i.y,o.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Dw extends Cw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fp,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fp,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new fp,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new fp;super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fp,n=this.v0,r=this.v1,i=this.v2,o=this.v3;return t.set(kw(e,n.x,r.x,i.x,o.x),kw(e,n.y,r.y,i.y,o.y),kw(e,n.z,r.z,i.z,o.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Ow extends Cw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Nd,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Nd;super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Nd;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Nd).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Qw extends Cw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fp,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fp;super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fp;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fp).subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Hw extends Cw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Nd,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Nd,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Nd;super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Nd,n=this.v0,r=this.v1,i=this.v2;return t.set(Rw(e,n.x,r.x,i.x),Rw(e,n.y,r.y,i.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zw extends Cw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fp,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fp,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new fp;super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fp,n=this.v0,r=this.v1,i=this.v2;return t.set(Rw(e,n.x,r.x,i.x),Rw(e,n.y,r.y,i.y),Rw(e,n.z,r.z,i.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class jw extends Cw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Nd,n=this.points,r=(n.length-1)*e,i=Math.floor(r),o=r-i,s=n[0===i?i:i-1],a=n[i],l=n[i>n.length-2?n.length-1:i+1],A=n[i>n.length-3?n.length-1:i+2];return t.set(Uw(o,s.x,a.x,l.x,A.x),Uw(o,s.y,a.y,l.y,A.y)),t}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Nd).fromArray(n))}return this}}var Vw=Object.freeze({__proto__:null,ArcCurve:Ew,CatmullRomCurve3:Pw,CubicBezierCurve:Nw,CubicBezierCurve3:Dw,EllipseCurve:Bw,LineCurve:Ow,LineCurve3:Qw,QuadraticBezierCurve:Hw,QuadraticBezierCurve3:zw,SplineCurve:jw});class Ww extends Cw{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new Vw[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const e=r[i]-n,o=this.curves[i],s=o.getLength(),a=0===s?0:1-e/s;return o.getPointAt(a,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const o=i[r],s=o.isEllipseCurve?2*e:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,a=o.getPoints(s);for(let e=0;e<a.length;e++){const r=a[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new Vw[n.type]).fromJSON(n))}return this}}class Gw extends Ww{constructor(e){super(),this.type="Path",this.currentPoint=new Nd,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new Ow(this.currentPoint.clone(),new Nd(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const i=new Hw(this.currentPoint.clone(),new Nd(e,t),new Nd(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,o){const s=new Nw(this.currentPoint.clone(),new Nd(e,t),new Nd(n,r),new Nd(i,o));return this.curves.push(s),this.currentPoint.set(i,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new jw(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,o){const s=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(e+s,t+a,n,r,i,o),this}absarc(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this}ellipse(e,t,n,r,i,o,s,a){const l=this.currentPoint.x,A=this.currentPoint.y;return this.absellipse(e+l,t+A,n,r,i,o,s,a),this}absellipse(e,t,n,r,i,o,s,a){const l=new Bw(e,t,n,r,i,o,s,a);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const A=l.getPoint(1);return this.currentPoint.copy(A),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Kw extends cg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new Nd(0,-.5),new Nd(.5,0),new Nd(0,.5)],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Id(r,0,2*Math.PI);const i=[],o=[],s=[],a=[],l=[],A=1/t,c=new fp,u=new Nd,h=new fp,d=new fp,p=new fp;let f=0,g=0;for(let m=0;m<=e.length-1;m++)switch(m){case 0:f=e[m+1].x-e[m].x,g=e[m+1].y-e[m].y,h.x=1*g,h.y=-f,h.z=0*g,p.copy(h),h.normalize(),a.push(h.x,h.y,h.z);break;case e.length-1:a.push(p.x,p.y,p.z);break;default:f=e[m+1].x-e[m].x,g=e[m+1].y-e[m].y,h.x=1*g,h.y=-f,h.z=0*g,d.copy(h),h.x+=p.x,h.y+=p.y,h.z+=p.z,h.normalize(),a.push(h.x,h.y,h.z),p.copy(d)}for(let m=0;m<=t;m++){const i=n+m*A*r,h=Math.sin(i),d=Math.cos(i);for(let n=0;n<=e.length-1;n++){c.x=e[n].x*h,c.y=e[n].y,c.z=e[n].x*d,o.push(c.x,c.y,c.z),u.x=m/t,u.y=n/(e.length-1),s.push(u.x,u.y);const r=a[3*n+0]*h,i=a[3*n+1],A=a[3*n+0]*d;l.push(r,i,A)}}for(let m=0;m<t;m++)for(let t=0;t<e.length-1;t++){const n=t+m*e.length,r=n,o=n+e.length,s=n+e.length+1,a=n+1;i.push(r,o,a),i.push(s,a,o)}this.setIndex(i),this.setAttribute("position",new ng(o,3)),this.setAttribute("uv",new ng(s,2)),this.setAttribute("normal",new ng(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kw(e.points,e.segments,e.phiStart,e.phiLength)}}class qw extends Kw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;const i=new Gw;i.absarc(0,-t/2,e,1.5*Math.PI,0),i.absarc(0,t/2,e,0,.5*Math.PI),super(i.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new qw(e.radius,e.length,e.capSegments,e.radialSegments)}}class Xw extends cg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],o=[],s=[],a=[],l=new fp,A=new Nd;o.push(0,0,0),s.push(0,0,1),a.push(.5,.5);for(let c=0,u=3;c<=t;c++,u+=3){const i=n+c/t*r;l.x=e*Math.cos(i),l.y=e*Math.sin(i),o.push(l.x,l.y,l.z),s.push(0,0,1),A.x=(o[u]/e+1)/2,A.y=(o[u+1]/e+1)/2,a.push(A.x,A.y)}for(let c=1;c<=t;c++)i.push(c,c+1,0);this.setIndex(i),this.setAttribute("position",new ng(o,3)),this.setAttribute("normal",new ng(s,3)),this.setAttribute("uv",new ng(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xw(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Yw extends cg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a};const l=this;r=Math.floor(r),i=Math.floor(i);const A=[],c=[],u=[],h=[];let d=0;const p=[],f=n/2;let g=0;function m(n){const i=d,o=new Nd,p=new fp;let m=0;const v=!0===n?e:t,y=!0===n?1:-1;for(let e=1;e<=r;e++)c.push(0,f*y,0),u.push(0,y,0),h.push(.5,.5),d++;const b=d;for(let e=0;e<=r;e++){const t=e/r*a+s,n=Math.cos(t),i=Math.sin(t);p.x=v*i,p.y=f*y,p.z=v*n,c.push(p.x,p.y,p.z),u.push(0,y,0),o.x=.5*n+.5,o.y=.5*i*y+.5,h.push(o.x,o.y),d++}for(let e=0;e<r;e++){const t=i+e,r=b+e;!0===n?A.push(r,r+1,t):A.push(r+1,r,t),m+=3}l.addGroup(g,m,!0===n?1:2),g+=m}!function(){const o=new fp,m=new fp;let v=0;const y=(t-e)/n;for(let l=0;l<=i;l++){const A=[],g=l/i,v=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*a+s,l=Math.sin(i),p=Math.cos(i);m.x=v*l,m.y=-g*n+f,m.z=v*p,c.push(m.x,m.y,m.z),o.set(l,y,p).normalize(),u.push(o.x,o.y,o.z),h.push(t,1-g),A.push(d++)}p.push(A)}for(let e=0;e<r;e++)for(let t=0;t<i;t++){const n=p[t][e],r=p[t+1][e],i=p[t+1][e+1],o=p[t][e+1];A.push(n,r,o),A.push(r,i,o),v+=6}l.addGroup(g,v,0),g+=v}(),!1===o&&(e>0&&m(!0),t>0&&m(!1)),this.setIndex(A),this.setAttribute("position",new ng(c,3)),this.setAttribute("normal",new ng(u,3)),this.setAttribute("uv",new ng(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yw(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class $w extends Yw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;super(0,e,t,n,r,i,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:s}}static fromJSON(e){return new $w(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Jw extends cg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const i=[],o=[];function s(e,t,n,r){const i=r+1,o=[];for(let s=0;s<=i;s++){o[s]=[];const r=e.clone().lerp(n,s/i),a=t.clone().lerp(n,s/i),l=i-s;for(let e=0;e<=l;e++)o[s][e]=0===e&&s===i?r:r.clone().lerp(a,e/l)}for(let s=0;s<i;s++)for(let e=0;e<2*(i-s)-1;e++){const t=Math.floor(e/2);e%2===0?(a(o[s][t+1]),a(o[s+1][t]),a(o[s][t])):(a(o[s][t+1]),a(o[s+1][t+1]),a(o[s+1][t]))}}function a(e){i.push(e.x,e.y,e.z)}function l(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function A(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function c(e){return Math.atan2(e.z,-e.x)}!function(e){const n=new fp,r=new fp,i=new fp;for(let o=0;o<t.length;o+=3)l(t[o+0],n),l(t[o+1],r),l(t[o+2],i),s(n,r,i,e)}(r),function(e){const t=new fp;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){const e=new fp;for(let n=0;n<i.length;n+=3){e.x=i[n+0],e.y=i[n+1],e.z=i[n+2];const r=c(e)/2/Math.PI+.5,s=(t=e,Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5);o.push(r,1-s)}var t;(function(){const e=new fp,t=new fp,n=new fp,r=new fp,s=new Nd,a=new Nd,l=new Nd;for(let u=0,h=0;u<i.length;u+=9,h+=6){e.set(i[u+0],i[u+1],i[u+2]),t.set(i[u+3],i[u+4],i[u+5]),n.set(i[u+6],i[u+7],i[u+8]),s.set(o[h+0],o[h+1]),a.set(o[h+2],o[h+3]),l.set(o[h+4],o[h+5]),r.copy(e).add(t).add(n).divideScalar(3);const d=c(r);A(s,h+0,e,d),A(a,h+2,t,d),A(l,h+4,n,d)}})(),function(){for(let e=0;e<o.length;e+=6){const t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),s=Math.min(t,n,r);i>.9&&s<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}()}(),this.setAttribute("position",new ng(i,3)),this.setAttribute("normal",new ng(i.slice(),3)),this.setAttribute("uv",new ng(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jw(e.vertices,e.indices,e.radius,e.details)}}class Zw extends Jw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Zw(e.radius,e.detail)}}const ex=new fp,tx=new fp,nx=new fp,rx=new Ff;class ix extends cg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,r=Math.pow(10,n),i=Math.cos(Md*t),o=e.getIndex(),s=e.getAttribute("position"),a=o?o.count:s.count,l=[0,0,0],A=["a","b","c"],c=new Array(3),u={},h=[];for(let e=0;e<a;e+=3){o?(l[0]=o.getX(e),l[1]=o.getX(e+1),l[2]=o.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:a}=rx;if(t.fromBufferAttribute(s,l[0]),n.fromBufferAttribute(s,l[1]),a.fromBufferAttribute(s,l[2]),rx.getNormal(nx),c[0]=`${Math.round(t.x*r)},${Math.round(t.y*r)},${Math.round(t.z*r)}`,c[1]=`${Math.round(n.x*r)},${Math.round(n.y*r)},${Math.round(n.z*r)}`,c[2]=`${Math.round(a.x*r)},${Math.round(a.y*r)},${Math.round(a.z*r)}`,c[0]!==c[1]&&c[1]!==c[2]&&c[2]!==c[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=c[e],r=c[t],o=rx[A[e]],s=rx[A[t]],a=`${n}_${r}`,d=`${r}_${n}`;d in u&&u[d]?(nx.dot(u[d].normal)<=i&&(h.push(o.x,o.y,o.z),h.push(s.x,s.y,s.z)),u[d]=null):a in u||(u[a]={index0:l[e],index1:l[t],normal:nx.clone()})}}for(const e in u)if(u[e]){const{index0:t,index1:n}=u[e];ex.fromBufferAttribute(s,t),tx.fromBufferAttribute(s,n),h.push(ex.x,ex.y,ex.z),h.push(tx.x,tx.y,tx.z)}this.setAttribute("position",new ng(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ox extends Gw{constructor(e){super(e),this.uuid=Fd(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new Gw).fromJSON(n))}return this}}const sx=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const r=t&&t.length,i=r?t[0]*n:e.length;let o=ax(e,0,i,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,A,c,u,h,d;if(r&&(o=function(e,t,n,r){const i=[];let o,s,a,l,A;for(o=0,s=t.length;o<s;o++)a=t[o]*r,l=o<s-1?t[o+1]*r:e.length,A=ax(e,a,l,r,!1),A===A.next&&(A.steiner=!0),i.push(vx(A));for(i.sort(px),o=0;o<i.length;o++)n=fx(i[o],n);return n}(e,t,o,n)),e.length>80*n){a=A=e[0],l=c=e[1];for(let t=n;t<i;t+=n)u=e[t],h=e[t+1],u<a&&(a=u),h<l&&(l=h),u>A&&(A=u),h>c&&(c=h);d=Math.max(A-a,c-l),d=0!==d?32767/d:0}return Ax(o,s,n,a,l,d,0),s};function ax(e,t,n,r,i){let o,s;if(i===function(e,t,n,r){let i=0;for(let o=t,s=n-r;o<n;o+=r)i+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)s=Mx(o,e[o],e[o+1],s);else for(o=n-r;o>=t;o-=r)s=Mx(o,e[o],e[o+1],s);return s&&xx(s,s.next)&&(Tx(s),s=s.next),s}function lx(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!xx(r,r.next)&&0!==wx(r.prev,r,r.next))r=r.next;else{if(Tx(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function Ax(e,t,n,r,i,o,s){if(!e)return;!s&&o&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=mx(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n,r,i,o,s,a,l,A=1;do{for(n=e,e=null,o=null,s=0;n;){for(s++,r=n,a=0,t=0;t<A&&(a++,r=r.nextZ,r);t++);for(l=A;a>0||l>0&&r;)0!==a&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,A*=2}while(s>1)}(i)}(e,r,i,o);let a,l,A=e;for(;e.prev!==e.next;)if(a=e.prev,l=e.next,o?ux(e,r,i,o):cx(e))t.push(a.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),Tx(e),e=l.next,A=l.next;else if((e=l)===A){s?1===s?Ax(e=hx(lx(e),t,n),t,n,r,i,o,2):2===s&&dx(e,t,n,r,i,o):Ax(lx(e),t,n,r,i,o,1);break}}function cx(e){const t=e.prev,n=e,r=e.next;if(wx(t,n,r)>=0)return!1;const i=t.x,o=n.x,s=r.x,a=t.y,l=n.y,A=r.y,c=i<o?i<s?i:s:o<s?o:s,u=a<l?a<A?a:A:l<A?l:A,h=i>o?i>s?i:s:o>s?o:s,d=a>l?a>A?a:A:l>A?l:A;let p=r.next;for(;p!==t;){if(p.x>=c&&p.x<=h&&p.y>=u&&p.y<=d&&yx(i,a,o,l,s,A,p.x,p.y)&&wx(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function ux(e,t,n,r){const i=e.prev,o=e,s=e.next;if(wx(i,o,s)>=0)return!1;const a=i.x,l=o.x,A=s.x,c=i.y,u=o.y,h=s.y,d=a<l?a<A?a:A:l<A?l:A,p=c<u?c<h?c:h:u<h?u:h,f=a>l?a>A?a:A:l>A?l:A,g=c>u?c>h?c:h:u>h?u:h,m=mx(d,p,t,n,r),v=mx(f,g,t,n,r);let y=e.prevZ,b=e.nextZ;for(;y&&y.z>=m&&b&&b.z<=v;){if(y.x>=d&&y.x<=f&&y.y>=p&&y.y<=g&&y!==i&&y!==s&&yx(a,c,l,u,A,h,y.x,y.y)&&wx(y.prev,y,y.next)>=0)return!1;if(y=y.prevZ,b.x>=d&&b.x<=f&&b.y>=p&&b.y<=g&&b!==i&&b!==s&&yx(a,c,l,u,A,h,b.x,b.y)&&wx(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;y&&y.z>=m;){if(y.x>=d&&y.x<=f&&y.y>=p&&y.y<=g&&y!==i&&y!==s&&yx(a,c,l,u,A,h,y.x,y.y)&&wx(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=v;){if(b.x>=d&&b.x<=f&&b.y>=p&&b.y<=g&&b!==i&&b!==s&&yx(a,c,l,u,A,h,b.x,b.y)&&wx(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function hx(e,t,n){let r=e;do{const i=r.prev,o=r.next.next;!xx(i,o)&&_x(i,r,r.next,o)&&Bx(i,o)&&Bx(o,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),Tx(r),Tx(r.next),r=e=o),r=r.next}while(r!==e);return lx(r)}function dx(e,t,n,r,i,o){let s=e;do{let e=s.next.next;for(;e!==s.prev;){if(s.i!==e.i&&bx(s,e)){let a=Ex(s,e);return s=lx(s,s.next),a=lx(a,a.next),Ax(s,t,n,r,i,o,0),void Ax(a,t,n,r,i,o,0)}e=e.next}s=s.next}while(s!==e)}function px(e,t){return e.x-t.x}function fx(e,t){const n=function(e,t){let n,r=t,i=-1/0;const o=e.x,s=e.y;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){const e=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=o&&e>i&&(i=e,n=r.x<r.next.x?r:r.next,e===o))return n}r=r.next}while(r!==t);if(!n)return null;const a=n,l=n.x,A=n.y;let c,u=1/0;r=n;do{o>=r.x&&r.x>=l&&o!==r.x&&yx(s<A?o:i,s,l,A,s<A?i:o,s,r.x,r.y)&&(c=Math.abs(s-r.y)/(o-r.x),Bx(r,e)&&(c<u||c===u&&(r.x>n.x||r.x===n.x&&gx(n,r)))&&(n=r,u=c)),r=r.next}while(r!==a);return n}(e,t);if(!n)return t;const r=Ex(n,e);return lx(r,r.next),lx(n,n.next)}function gx(e,t){return wx(e.prev,e,t.prev)<0&&wx(t.next,e,e.next)<0}function mx(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function vx(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function yx(e,t,n,r,i,o,s,a){return(i-s)*(t-a)>=(e-s)*(o-a)&&(e-s)*(r-a)>=(n-s)*(t-a)&&(n-s)*(o-a)>=(i-s)*(r-a)}function bx(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&_x(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Bx(e,t)&&Bx(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(wx(e.prev,e,t.prev)||wx(e,t.prev,t))||xx(e,t)&&wx(e.prev,e,e.next)>0&&wx(t.prev,t,t.next)>0)}function wx(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function xx(e,t){return e.x===t.x&&e.y===t.y}function _x(e,t,n,r){const i=Cx(wx(e,t,n)),o=Cx(wx(e,t,r)),s=Cx(wx(n,r,e)),a=Cx(wx(n,r,t));return i!==o&&s!==a||(!(0!==i||!Sx(e,n,t))||(!(0!==o||!Sx(e,r,t))||(!(0!==s||!Sx(n,e,r))||!(0!==a||!Sx(n,t,r)))))}function Sx(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Cx(e){return e>0?1:e<0?-1:0}function Bx(e,t){return wx(e.prev,e,e.next)<0?wx(e,t,e.next)>=0&&wx(e,e.prev,t)>=0:wx(e,t,e.prev)<0||wx(e,e.next,t)<0}function Ex(e,t){const n=new Fx(e.i,e.x,e.y),r=new Fx(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Mx(e,t,n,r){const i=new Fx(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Tx(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Fx(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class Ix{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return Ix.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];Lx(e),Px(n,e);let o=e.length;t.forEach(Lx);for(let a=0;a<t.length;a++)r.push(o),o+=t[a].length,Px(n,t[a]);const s=sx(n,r);for(let a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}}function Lx(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Px(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class Ux extends cg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ox([new Nd(.5,.5),new Nd(-.5,.5),new Nd(-.5,-.5),new Nd(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let s=0,a=e.length;s<a;s++){o(e[s])}function o(e){const o=[],s=void 0!==t.curveSegments?t.curveSegments:12,a=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let A=void 0===t.bevelEnabled||t.bevelEnabled,c=void 0!==t.bevelThickness?t.bevelThickness:.2,u=void 0!==t.bevelSize?t.bevelSize:c-.1,h=void 0!==t.bevelOffset?t.bevelOffset:0,d=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,f=void 0!==t.UVGenerator?t.UVGenerator:Rx;let g,m,v,y,b,w=!1;p&&(g=p.getSpacedPoints(a),w=!0,A=!1,m=p.computeFrenetFrames(a,!1),v=new fp,y=new fp,b=new fp),A||(d=0,c=0,u=0,h=0);const x=e.extractPoints(s);let _=x.shape;const S=x.holes;if(!Ix.isClockWise(_)){_=_.reverse();for(let e=0,t=S.length;e<t;e++){const t=S[e];Ix.isClockWise(t)&&(S[e]=t.reverse())}}const C=Ix.triangulateShape(_,S),B=_;for(let t=0,n=S.length;t<n;t++){const e=S[t];_=_.concat(e)}function E(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}const M=_.length,T=C.length;function F(e,t,n){let r,i,o;const s=e.x-t.x,a=e.y-t.y,l=n.x-e.x,A=n.y-e.y,c=s*s+a*a,u=s*A-a*l;if(Math.abs(u)>Number.EPSILON){const u=Math.sqrt(c),h=Math.sqrt(l*l+A*A),d=t.x-a/u,p=t.y+s/u,f=((n.x-A/h-d)*A-(n.y+l/h-p)*l)/(s*A-a*l);r=d+s*f-e.x,i=p+a*f-e.y;const g=r*r+i*i;if(g<=2)return new Nd(r,i);o=Math.sqrt(g/2)}else{let e=!1;s>Number.EPSILON?l>Number.EPSILON&&(e=!0):s<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(a)===Math.sign(A)&&(e=!0),e?(r=-a,i=s,o=Math.sqrt(c)):(r=s,i=a,o=Math.sqrt(c/2))}return new Nd(r/o,i/o)}const I=[];for(let t=0,n=B.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),I[t]=F(B[t],B[r],B[i]);const L=[];let P,U=I.concat();for(let t=0,n=S.length;t<n;t++){const e=S[t];P=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),P[t]=F(e[t],e[r],e[i]);L.push(P),U=U.concat(P)}for(let t=0;t<d;t++){const e=t/d,n=c*Math.cos(e*Math.PI/2),r=u*Math.sin(e*Math.PI/2)+h;for(let t=0,i=B.length;t<i;t++){const e=E(B[t],I[t],r);N(e.x,e.y,-n)}for(let t=0,i=S.length;t<i;t++){const e=S[t];P=L[t];for(let t=0,i=e.length;t<i;t++){const i=E(e[t],P[t],r);N(i.x,i.y,-n)}}}const R=u+h;for(let t=0;t<M;t++){const e=A?E(_[t],U[t],R):_[t];w?(y.copy(m.normals[0]).multiplyScalar(e.x),v.copy(m.binormals[0]).multiplyScalar(e.y),b.copy(g[0]).add(y).add(v),N(b.x,b.y,b.z)):N(e.x,e.y,0)}for(let t=1;t<=a;t++)for(let e=0;e<M;e++){const n=A?E(_[e],U[e],R):_[e];w?(y.copy(m.normals[t]).multiplyScalar(n.x),v.copy(m.binormals[t]).multiplyScalar(n.y),b.copy(g[t]).add(y).add(v),N(b.x,b.y,b.z)):N(n.x,n.y,l/a*t)}for(let t=d-1;t>=0;t--){const e=t/d,n=c*Math.cos(e*Math.PI/2),r=u*Math.sin(e*Math.PI/2)+h;for(let t=0,i=B.length;t<i;t++){const e=E(B[t],I[t],r);N(e.x,e.y,l+n)}for(let t=0,i=S.length;t<i;t++){const e=S[t];P=L[t];for(let t=0,i=e.length;t<i;t++){const i=E(e[t],P[t],r);w?N(i.x,i.y+g[a-1].y,g[a-1].x+n):N(i.x,i.y,l+n)}}}function k(e,t){let n=e.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=a+2*d;e<n;e++){const n=M*e,o=M*(e+1);O(t+r+n,t+i+n,t+i+o,t+r+o)}}}function N(e,t,n){o.push(e),o.push(t),o.push(n)}function D(e,t,i){Q(e),Q(t),Q(i);const o=r.length/3,s=f.generateTopUV(n,r,o-3,o-2,o-1);H(s[0]),H(s[1]),H(s[2])}function O(e,t,i,o){Q(e),Q(t),Q(o),Q(t),Q(i),Q(o);const s=r.length/3,a=f.generateSideWallUV(n,r,s-6,s-3,s-2,s-1);H(a[0]),H(a[1]),H(a[3]),H(a[1]),H(a[2]),H(a[3])}function Q(e){r.push(o[3*e+0]),r.push(o[3*e+1]),r.push(o[3*e+2])}function H(e){i.push(e.x),i.push(e.y)}!function(){const e=r.length/3;if(A){let e=0,t=M*e;for(let n=0;n<T;n++){const e=C[n];D(e[2]+t,e[1]+t,e[0]+t)}e=a+2*d,t=M*e;for(let n=0;n<T;n++){const e=C[n];D(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<T;e++){const t=C[e];D(t[2],t[1],t[0])}for(let e=0;e<T;e++){const t=C[e];D(t[0]+M*a,t[1]+M*a,t[2]+M*a)}}n.addGroup(e,r.length/3-e,0)}(),function(){const e=r.length/3;let t=0;k(B,t),t+=B.length;for(let n=0,r=S.length;n<r;n++){const e=S[n];k(e,t),t+=e.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new ng(r,3)),this.setAttribute("uv",new ng(i,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let r=0,i=e.length;r<i;r++){const t=e[r];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let i=0,o=e.shapes.length;i<o;i++){const r=t[e.shapes[i]];n.push(r)}const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new Vw[r.type]).fromJSON(r)),new Ux(n,e.options)}}const Rx={generateTopUV:function(e,t,n,r,i){const o=t[3*n],s=t[3*n+1],a=t[3*r],l=t[3*r+1],A=t[3*i],c=t[3*i+1];return[new Nd(o,s),new Nd(a,l),new Nd(A,c)]},generateSideWallUV:function(e,t,n,r,i,o){const s=t[3*n],a=t[3*n+1],l=t[3*n+2],A=t[3*r],c=t[3*r+1],u=t[3*r+2],h=t[3*i],d=t[3*i+1],p=t[3*i+2],f=t[3*o],g=t[3*o+1],m=t[3*o+2];return Math.abs(a-c)<Math.abs(s-A)?[new Nd(s,1-l),new Nd(A,1-u),new Nd(h,1-p),new Nd(f,1-m)]:[new Nd(a,1-l),new Nd(c,1-u),new Nd(d,1-p),new Nd(g,1-m)]}};class kx extends Jw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kx(e.radius,e.detail)}}class Nx extends Jw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Nx(e.radius,e.detail)}}class Dx extends cg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},n=Math.max(3,n),r=Math.max(1,r);const s=[],a=[],l=[],A=[];let c=e;const u=(t-e)/r,h=new fp,d=new Nd;for(let p=0;p<=r;p++){for(let e=0;e<=n;e++){const r=i+e/n*o;h.x=c*Math.cos(r),h.y=c*Math.sin(r),a.push(h.x,h.y,h.z),l.push(0,0,1),d.x=(h.x/t+1)/2,d.y=(h.y/t+1)/2,A.push(d.x,d.y)}c+=u}for(let p=0;p<r;p++){const e=p*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,o=r+n+1,a=r+n+2,l=r+1;s.push(i,o,l),s.push(o,a,l)}}this.setIndex(s),this.setAttribute("position",new ng(a,3)),this.setAttribute("normal",new ng(l,3)),this.setAttribute("uv",new ng(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dx(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Ox extends cg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ox([new Nd(0,.5),new Nd(-.5,-.5),new Nd(.5,-.5)]),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],i=[],o=[];let s=0,a=0;if(!1===Array.isArray(e))l(e);else for(let A=0;A<e.length;A++)l(e[A]),this.addGroup(s,a,A),s+=a,a=0;function l(e){const s=r.length/3,l=e.extractPoints(t);let A=l.shape;const c=l.holes;!1===Ix.isClockWise(A)&&(A=A.reverse());for(let t=0,n=c.length;t<n;t++){const e=c[t];!0===Ix.isClockWise(e)&&(c[t]=e.reverse())}const u=Ix.triangulateShape(A,c);for(let t=0,n=c.length;t<n;t++){const e=c[t];A=A.concat(e)}for(let t=0,n=A.length;t<n;t++){const e=A[t];r.push(e.x,e.y,0),i.push(0,0,1),o.push(e.x,e.y)}for(let t=0,r=u.length;t<r;t++){const e=u[t],r=e[0]+s,i=e[1]+s,o=e[2]+s;n.push(r,i,o),a+=3}}this.setIndex(n),this.setAttribute("position",new ng(r,3)),this.setAttribute("normal",new ng(i,3)),this.setAttribute("uv",new ng(o,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}return new Ox(n,e.curveSegments)}}class Qx extends cg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:s},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const a=Math.min(o+s,Math.PI);let l=0;const A=[],c=new fp,u=new fp,h=[],d=[],p=[],f=[];for(let g=0;g<=n;g++){const h=[],m=g/n;let v=0;0===g&&0===o?v=.5/t:g===n&&a===Math.PI&&(v=-.5/t);for(let n=0;n<=t;n++){const a=n/t;c.x=-e*Math.cos(r+a*i)*Math.sin(o+m*s),c.y=e*Math.cos(o+m*s),c.z=e*Math.sin(r+a*i)*Math.sin(o+m*s),d.push(c.x,c.y,c.z),u.copy(c).normalize(),p.push(u.x,u.y,u.z),f.push(a+v,1-m),h.push(l++)}A.push(h)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=A[g][e+1],r=A[g][e],i=A[g+1][e],s=A[g+1][e+1];(0!==g||o>0)&&h.push(t,r,s),(g!==n-1||a<Math.PI)&&h.push(r,i,s)}this.setIndex(h),this.setAttribute("position",new ng(d,3)),this.setAttribute("normal",new ng(p,3)),this.setAttribute("uv",new ng(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Hx extends Jw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Hx(e.radius,e.detail)}}class zx extends cg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const o=[],s=[],a=[],l=[],A=new fp,c=new fp,u=new fp;for(let h=0;h<=n;h++)for(let o=0;o<=r;o++){const d=o/r*i,p=h/n*Math.PI*2;c.x=(e+t*Math.cos(p))*Math.cos(d),c.y=(e+t*Math.cos(p))*Math.sin(d),c.z=t*Math.sin(p),s.push(c.x,c.y,c.z),A.x=e*Math.cos(d),A.y=e*Math.sin(d),u.subVectors(c,A).normalize(),a.push(u.x,u.y,u.z),l.push(o/r),l.push(h/n)}for(let h=1;h<=n;h++)for(let e=1;e<=r;e++){const t=(r+1)*h+e-1,n=(r+1)*(h-1)+e-1,i=(r+1)*(h-1)+e,s=(r+1)*h+e;o.push(t,n,s),o.push(n,i,s)}this.setIndex(o),this.setAttribute("position",new ng(s,3)),this.setAttribute("normal",new ng(a,3)),this.setAttribute("uv",new ng(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zx(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class jx extends cg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},n=Math.floor(n),r=Math.floor(r);const s=[],a=[],l=[],A=[],c=new fp,u=new fp,h=new fp,d=new fp,p=new fp,f=new fp,g=new fp;for(let v=0;v<=n;++v){const s=v/n*i*Math.PI*2;m(s,i,o,e,h),m(s+.01,i,o,e,d),f.subVectors(d,h),g.addVectors(d,h),p.crossVectors(f,g),g.crossVectors(p,f),p.normalize(),g.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,o=-t*Math.cos(i),s=t*Math.sin(i);c.x=h.x+(o*g.x+s*p.x),c.y=h.y+(o*g.y+s*p.y),c.z=h.z+(o*g.z+s*p.z),a.push(c.x,c.y,c.z),u.subVectors(c,h).normalize(),l.push(u.x,u.y,u.z),A.push(v/n),A.push(e/r)}}for(let v=1;v<=n;v++)for(let e=1;e<=r;e++){const t=(r+1)*(v-1)+(e-1),n=(r+1)*v+(e-1),i=(r+1)*v+e,o=(r+1)*(v-1)+e;s.push(t,n,o),s.push(n,i,o)}function m(e,t,n,r,i){const o=Math.cos(e),s=Math.sin(e),a=n/t*e,l=Math.cos(a);i.x=r*(2+l)*.5*o,i.y=r*(2+l)*s*.5,i.z=r*Math.sin(a)*.5}this.setIndex(s),this.setAttribute("position",new ng(a,3)),this.setAttribute("normal",new ng(l,3)),this.setAttribute("uv",new ng(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jx(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Vx extends cg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new zw(new fp(-1,-1,0),new fp(-1,1,0),new fp(1,1,0)),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new fp,a=new fp,l=new Nd;let A=new fp;const c=[],u=[],h=[],d=[];function p(i){A=e.getPointAt(i/t,A);const l=o.normals[i],h=o.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),o=-Math.cos(t);a.x=o*l.x+i*h.x,a.y=o*l.y+i*h.y,a.z=o*l.z+i*h.z,a.normalize(),u.push(a.x,a.y,a.z),s.x=A.x+n*a.x,s.y=A.y+n*a.y,s.z=A.z+n*a.z,c.push(s.x,s.y,s.z)}}!function(){for(let e=0;e<t;e++)p(e);p(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,h.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),o=(r+1)*e+t,s=(r+1)*(e-1)+t;d.push(n,i,s),d.push(i,o,s)}}()}(),this.setIndex(d),this.setAttribute("position",new ng(c,3)),this.setAttribute("normal",new ng(u,3)),this.setAttribute("uv",new ng(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Vx((new Vw[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Wx extends cg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,r=new fp,i=new fp;if(null!==e.index){const o=e.attributes.position,s=e.index;let a=e.groups;0===a.length&&(a=[{start:0,count:s.count,materialIndex:0}]);for(let e=0,l=a.length;e<l;++e){const l=a[e],A=l.start;for(let e=A,a=A+l.count;e<a;e+=3)for(let l=0;l<3;l++){const a=s.getX(e+l),A=s.getX(e+(l+1)%3);r.fromBufferAttribute(o,a),i.fromBufferAttribute(o,A),!0===Gx(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}}else{const o=e.attributes.position;for(let e=0,s=o.count/3;e<s;e++)for(let a=0;a<3;a++){const s=3*e+a,l=3*e+(a+1)%3;r.fromBufferAttribute(o,s),i.fromBufferAttribute(o,l),!0===Gx(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new ng(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Gx(e,t,n){const r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var Kx=Object.freeze({__proto__:null,BoxGeometry:Fg,CapsuleGeometry:qw,CircleGeometry:Xw,ConeGeometry:$w,CylinderGeometry:Yw,DodecahedronGeometry:Zw,EdgesGeometry:ix,ExtrudeGeometry:Ux,IcosahedronGeometry:kx,LatheGeometry:Kw,OctahedronGeometry:Nx,PlaneGeometry:em,PolyhedronGeometry:Jw,RingGeometry:Dx,ShapeGeometry:Ox,SphereGeometry:Qx,TetrahedronGeometry:Hx,TorusGeometry:zx,TorusKnotGeometry:jx,TubeGeometry:Vx,WireframeGeometry:Wx});class qx extends Df{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Rf(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Xx extends Rg{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Yx extends Df{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Rf(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rf(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ih,this.normalScale=new Nd(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tf,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $x extends Yx{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Nd(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Id(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Rf(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Rf(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Rf(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!==e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!==e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Jx extends Df{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Rf(16777215),this.specular=new Rf(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rf(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ih,this.normalScale=new Nd(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tf,this.combine=Rc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Zx extends Df{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Rf(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rf(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ih,this.normalScale=new Nd(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class e_ extends Df{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ih,this.normalScale=new Nd(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class t_ extends Df{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Rf(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rf(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ih,this.normalScale=new Nd(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tf,this.combine=Rc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class n_ extends Df{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Rf(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ih,this.normalScale=new Nd(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class r_ extends Jb{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function i_(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function o_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function s_(e){const t=e.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function a_(e,t,n){const r=e.length,i=new e.constructor(r);for(let o=0,s=0;s!==r;++o){const r=n[o]*t;for(let n=0;n!==t;++n)i[s++]=e[r+n]}return i}function l_(e,t,n,r){let i=1,o=e[0];for(;void 0!==o&&void 0===o[r];)o=e[i++];if(void 0===o)return;let s=o[r];if(void 0!==s)if(Array.isArray(s))do{s=o[r],void 0!==s&&(t.push(o.time),n.push.apply(n,s)),o=e[i++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[r],void 0!==s&&(t.push(o.time),s.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{s=o[r],void 0!==s&&(t.push(o.time),n.push(s)),o=e[i++]}while(void 0!==o)}const A_={convertArray:i_,isTypedArray:o_,getKeyframeOrder:s_,sortedArray:a_,flattenJSON:l_,subclip:function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30;const o=e.clone();o.name=t;const s=[];for(let l=0;l<o.tracks.length;++l){const e=o.tracks[l],t=e.getValueSize(),a=[],A=[];for(let o=0;o<e.times.length;++o){const s=e.times[o]*i;if(!(s<n||s>=r)){a.push(e.times[o]);for(let n=0;n<t;++n)A.push(e.values[o*t+n])}}0!==a.length&&(e.times=i_(a,e.times.constructor),e.values=i_(A,e.values.constructor),s.push(e))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);const i=n.tracks.length,o=t/r;for(let s=0;s<i;++s){const t=n.tracks[s],r=t.ValueTypeName;if("bool"===r||"string"===r)continue;const i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)continue;let a=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=l/3);let A=0;const c=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(A=c/3);const u=t.times.length-1;let h;if(o<=t.times[0]){const e=a,n=l-a;h=t.values.slice(e,n)}else if(o>=t.times[u]){const e=u*l+a,n=e+l-a;h=t.values.slice(e,n)}else{const e=t.createInterpolant(),n=a,r=l-a;e.evaluate(o),h=e.resultBuffer.slice(n,r)}if("quaternion"===r){(new pp).fromArray(h).normalize().conjugate().toArray(h)}const d=i.times.length;for(let e=0;e<d;++e){const t=e*c+A;if("quaternion"===r)pp.multiplyQuaternionsFlat(i.values,t,h,0,i.values,t);else{const e=c-2*A;for(let n=0;n<e;++n)i.values[t+n]-=h[n]}}}return e.blendMode=Ch,e}};class c_{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let o;n:{r:if(!(e<r)){for(let o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}if(e>=i)break e;{const s=t[1];e<s&&(n=2,i=s);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===o)break;if(r=i,i=t[--n-1],e>=i)break t}o=n,n=0}}for(;n<o;){const r=n+o>>>1;e<t[r]?o=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let o=0;o!==r;++o)t[o]=n[i+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class u_ extends c_{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:wh,endingEnd:wh}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,o=e+1,s=r[i],a=r[o];if(void 0===s)switch(this.getSettings_().endingStart){case xh:i=e,s=2*t-n;break;case _h:i=r.length-2,s=t+r[i]-r[i+1];break;default:i=e,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case xh:o=e,a=2*n-t;break;case _h:o=1,a=n+r[1]-r[0];break;default:o=e-1,a=t}const l=.5*(n-t),A=this.valueSize;this._weightPrev=l/(t-s),this._weightNext=l/(a-n),this._offsetPrev=i*A,this._offsetNext=o*A}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,A=this._offsetPrev,c=this._offsetNext,u=this._weightPrev,h=this._weightNext,d=(n-t)/(r-t),p=d*d,f=p*d,g=-u*f+2*u*p-u*d,m=(1+u)*f+(-1.5-2*u)*p+(-.5+u)*d+1,v=(-1-h)*f+(1.5+h)*p+.5*d,y=h*f-h*p;for(let b=0;b!==s;++b)i[b]=g*o[A+b]+m*o[l+b]+v*o[a+b]+y*o[c+b];return i}}class h_ extends c_{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,A=(n-t)/(r-t),c=1-A;for(let u=0;u!==s;++u)i[u]=o[l+u]*c+o[a+u]*A;return i}}class d_ extends c_{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class p_{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=i_(t,this.TimeBufferType),this.values=i_(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:i_(e.times,Array),values:i_(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new d_(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new h_(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new u_(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case vh:t=this.InterpolantFactoryMethodDiscrete;break;case yh:t=this.InterpolantFactoryMethodLinear;break;case bh:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return vh;case this.InterpolantFactoryMethodLinear:return yh;case this.InterpolantFactoryMethodSmooth:return bh}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,o=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const e=this.getValueSize();this.times=n.slice(i,o),this.values=this.values.slice(i*e,o*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==i;s++){const t=n[s];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,t),e=!1;break}if(null!==o&&o>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,t,o),e=!1;break}o=t}if(void 0!==r&&o_(r))for(let s=0,a=r.length;s!==a;++s){const t=r[s];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,t),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===bh,i=e.length-1;let o=1;for(let s=1;s<i;++s){let i=!1;const a=e[s];if(a!==e[s+1]&&(1!==s||a!==e[0]))if(r)i=!0;else{const e=s*n,r=e-n,o=e+n;for(let s=0;s!==n;++s){const n=t[e+s];if(n!==t[r+s]||n!==t[o+s]){i=!0;break}}}if(i){if(s!==o){e[o]=e[s];const r=s*n,i=o*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++o}}if(i>0){e[o]=e[i];for(let e=i*n,r=o*n,s=0;s!==n;++s)t[r+s]=t[e+s];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}p_.prototype.TimeBufferType=Float32Array,p_.prototype.ValueBufferType=Float32Array,p_.prototype.DefaultInterpolation=yh;class f_ extends p_{}f_.prototype.ValueTypeName="bool",f_.prototype.ValueBufferType=Array,f_.prototype.DefaultInterpolation=vh,f_.prototype.InterpolantFactoryMethodLinear=void 0,f_.prototype.InterpolantFactoryMethodSmooth=void 0;class g_ extends p_{}g_.prototype.ValueTypeName="color";class m_ extends p_{}m_.prototype.ValueTypeName="number";class v_ extends c_{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-t)/(r-t);let l=e*s;for(let A=l+s;l!==A;l+=4)pp.slerpFlat(i,0,o,l-s,o,l,a);return i}}class y_ extends p_{InterpolantFactoryMethodLinear(e){return new v_(this.times,this.values,this.getValueSize(),e)}}y_.prototype.ValueTypeName="quaternion",y_.prototype.DefaultInterpolation=yh,y_.prototype.InterpolantFactoryMethodSmooth=void 0;class b_ extends p_{}b_.prototype.ValueTypeName="string",b_.prototype.ValueBufferType=Array,b_.prototype.DefaultInterpolation=vh,b_.prototype.InterpolantFactoryMethodLinear=void 0,b_.prototype.InterpolantFactoryMethodSmooth=void 0;class w_ extends p_{}w_.prototype.ValueTypeName="vector";class x_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Sh;this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Fd(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let o=0,s=n.length;o!==s;++o)t.push(__(n[o]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let i=0,o=n.length;i!==o;++i)t.push(p_.toJSON(n[i]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,o=[];for(let s=0;s<i;s++){let e=[],a=[];e.push((s+i-1)%i,s,(s+1)%i),a.push(0,1,0);const l=s_(e);e=a_(e,1,l),a=a_(a,1,l),r||0!==e[0]||(e.push(i),a.push(a[0])),o.push(new m_(".morphTargetInfluences["+t[s].name+"]",e,a).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let s=0,a=e.length;s<a;s++){const t=e[s],n=t.name.match(i);if(n&&n.length>1){const e=n[1];let i=r[e];i||(r[e]=i=[]),i.push(t)}}const o=[];for(const s in r)o.push(this.CreateFromMorphTargetSequence(s,r[s],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,r,i){if(0!==n.length){const o=[],s=[];l_(n,o,s,r),0!==o.length&&i.push(new e(t,o,s))}},r=[],i=e.name||"default",o=e.fps||30,s=e.blendMode;let a=e.length||-1;const l=e.hierarchy||[];for(let A=0;A<l.length;A++){const e=l[A].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let r=0;r<e[n].morphTargets.length;r++)t[e[n].morphTargets[r]]=-1;for(const i in t){const t=[],o=[];for(let r=0;r!==e[n].morphTargets.length;++r){const r=e[n];t.push(r.time),o.push(r.morphTarget===i?1:0)}r.push(new m_(".morphTargetInfluence["+i+"]",t,o))}a=t.length*o}else{const i=".bones["+t[A].name+"]";n(w_,i+".position",e,"pos",r),n(y_,i+".quaternion",e,"rot",r),n(w_,i+".scale",e,"scl",r)}}if(0===r.length)return null;return new this(i,a,r,s)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function __(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return m_;case"vector":case"vector2":case"vector3":case"vector4":return w_;case"color":return g_;case"quaternion":return y_;case"bool":case"boolean":return f_;case"string":return b_}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];l_(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const S_={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class C_{constructor(e,t,n){const r=this;let i,o=!1,s=0,a=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===o&&void 0!==r.onStart&&r.onStart(e,s,a),o=!0},this.itemEnd=function(e){s++,void 0!==r.onProgress&&r.onProgress(e,s,a),s===a&&(o=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const B_=new C_;class E_{constructor(e){this.manager=void 0!==e?e:B_,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}E_.DEFAULT_MATERIAL_NAME="__DEFAULT";const M_={};class T_ extends Error{constructor(e,t){super(e),this.response=t}}class F_ extends E_{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=S_.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout((()=>{t&&t(i),this.manager.itemEnd(e)}),0),i;if(void 0!==M_[e])return void M_[e].push({onLoad:t,onProgress:n,onError:r});M_[e]=[],M_[e].push({onLoad:t,onProgress:n,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,a=this.responseType;fetch(o).then((t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=M_[e],r=t.body.getReader(),i=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),o=i?parseInt(i):0,s=0!==o;let a=0;const l=new ReadableStream({start(e){!function t(){r.read().then((r=>{let{done:i,value:l}=r;if(i)e.close();else{a+=l.byteLength;const r=new ProgressEvent("progress",{lengthComputable:s,loaded:a,total:o});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(l),t()}}))}()}});return new Response(l)}throw new T_(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)})).then((e=>{switch(a){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((e=>(new DOMParser).parseFromString(e,s)));case"json":return e.json();default:if(void 0===s)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((e=>r.decode(e)))}}})).then((t=>{S_.add(e,t);const n=M_[e];delete M_[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}})).catch((t=>{const n=M_[e];if(void 0===n)throw this.manager.itemError(e),t;delete M_[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)})).finally((()=>{this.manager.itemEnd(e)})),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class I_ extends E_{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new F_(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=x_.parse(e[n]);t.push(r)}return t}}class L_ extends E_{constructor(e){super(e)}load(e,t,n,r){const i=this,o=[],s=new ww,a=new F_(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(i.withCredentials);let l=0;function A(A){a.load(e[A],(function(e){const n=i.parse(e,!0);o[A]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(s.minFilter=lu),s.image=o,s.format=n.format,s.needsUpdate=!0,t&&t(s))}),n,r)}if(Array.isArray(e))for(let c=0,u=e.length;c<u;++c)A(c);else a.load(e,(function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){o[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)o[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),o[t].format=n.format,o[t].width=n.width,o[t].height=n.height}s.image=o}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=lu),s.format=n.format,s.needsUpdate=!0,t&&t(s)}),n,r);return s}}class P_ extends E_{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=S_.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;const s=jd("img");function a(){A(),S_.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){A(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function A(){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1)}return s.addEventListener("load",a,!1),s.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),i.manager.itemStart(e),s.src=e,s}}class U_ extends E_{constructor(e){super(e)}load(e,t,n,r){const i=new jg;i.colorSpace=Uh;const o=new P_(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function a(n){o.load(e[n],(function(e){i.images[n]=e,s++,6===s&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(let l=0;l<e.length;++l)a(l);return i}}class R_ extends E_{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new xb,s=new F_(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(i.withCredentials),s.load(e,(function(e){let n;try{n=i.parse(e)}catch(pE){if(void 0===r)return void console.error(pE);r(pE)}void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:tu,o.wrapT=void 0!==n.wrapT?n.wrapT:tu,o.magFilter=void 0!==n.magFilter?n.magFilter:lu,o.minFilter=void 0!==n.minFilter?n.minFilter:lu,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(o.colorSpace=n.colorSpace),void 0!==n.flipY&&(o.flipY=n.flipY),void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=uu),1===n.mipmapCount&&(o.minFilter=lu),void 0!==n.generateMipmaps&&(o.generateMipmaps=n.generateMipmaps),o.needsUpdate=!0,t&&t(o,n)}),n,r),o}}class k_ extends E_{constructor(e){super(e)}load(e,t,n,r){const i=new sp,o=new P_(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}class N_ extends yf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(),this.isLight=!0,this.type="Light",this.color=new Rf(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}class D_ extends N_{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(yf.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Rf(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const O_=new Wp,Q_=new fp,H_=new fp;class z_{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Nd(512,512),this.map=null,this.mapPass=null,this.matrix=new Wp,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $g,this._frameExtents=new Nd(1,1),this._viewportCount=1,this._viewports=[new ap(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Q_.setFromMatrixPosition(e.matrixWorld),t.position.copy(Q_),H_.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(H_),t.updateMatrixWorld(),O_.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(O_),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(O_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class j_ extends z_{constructor(){super(new Qg(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*Td*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class V_ extends N_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(yf.DEFAULT_UP),this.updateMatrix(),this.target=new yf,this.distance=n,this.angle=r,this.penumbra=i,this.decay=o,this.map=null,this.shadow=new j_}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const W_=new Wp,G_=new fp,K_=new fp;class q_ extends z_{constructor(){super(new Qg(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Nd(4,2),this._viewportCount=6,this._viewports=[new ap(2,1,1,1),new ap(0,1,1,1),new ap(3,1,1,1),new ap(1,1,1,1),new ap(3,0,1,1),new ap(1,0,1,1)],this._cubeDirections=[new fp(1,0,0),new fp(-1,0,0),new fp(0,0,1),new fp(0,0,-1),new fp(0,1,0),new fp(0,-1,0)],this._cubeUps=[new fp(0,1,0),new fp(0,1,0),new fp(0,1,0),new fp(0,1,0),new fp(0,0,1),new fp(0,0,-1)]}updateMatrices(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),G_.setFromMatrixPosition(e.matrixWorld),n.position.copy(G_),K_.copy(n.position),K_.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(K_),n.updateMatrixWorld(),r.makeTranslation(-G_.x,-G_.y,-G_.z),W_.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(W_)}}class X_ extends N_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new q_}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Y_ extends z_{constructor(){super(new dm(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class $_ extends N_{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(yf.DEFAULT_UP),this.updateMatrix(),this.target=new yf,this.shadow=new Y_}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class J_ extends N_{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Z_ extends N_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class eS{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new fp)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*i),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*r*1.092548),t.addScaledVector(o[5],r*i*1.092548),t.addScaledVector(o[6],.315392*(3*i*i-1)),t.addScaledVector(o[7],n*i*1.092548),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*r),t.addScaledVector(o[2],1.023328*i),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*r),t.addScaledVector(o[5],.858086*r*i),t.addScaledVector(o[6],.743125*i*i-.247708),t.addScaledVector(o[7],.858086*n*i),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}class tS extends N_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new eS;super(void 0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class nS extends E_{constructor(e){super(e),this.textures={}}load(e,t,n,r){const i=this,o=new F_(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const r=nS.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new Rf).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(r.dispersion=e.dispersion),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(r.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(r.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(r.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(r.depthFunc=e.depthFunc),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(r.blendSrc=e.blendSrc),void 0!==e.blendDst&&(r.blendDst=e.blendDst),void 0!==e.blendEquation&&(r.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(r.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(r.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(r.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==r.blendColor&&r.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(r.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),void 0!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(r.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const i in e.uniforms){const t=e.uniforms[i];switch(r.uniforms[i]={},t.type){case"t":r.uniforms[i].value=n(t.value);break;case"c":r.uniforms[i].value=(new Rf).setHex(t.value);break;case"v2":r.uniforms[i].value=(new Nd).fromArray(t.value);break;case"v3":r.uniforms[i].value=(new fp).fromArray(t.value);break;case"v4":r.uniforms[i].value=(new ap).fromArray(t.value);break;case"m3":r.uniforms[i].value=(new Dd).fromArray(t.value);break;case"m4":r.uniforms[i].value=(new Wp).fromArray(t.value);break;default:r.uniforms[i].value=t.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(const i in e.extensions)r.extensions[i]=e.extensions[i];if(void 0!==e.lights&&(r.lights=e.lights),void 0!==e.clipping&&(r.clipping=e.clipping),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new Nd).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapRotation&&r.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Nd).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.anisotropyMap&&(r.anisotropyMap=n(e.anisotropyMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){return new{ShadowMaterial:qx,SpriteMaterial:Gy,RawShaderMaterial:Xx,ShaderMaterial:Rg,PointsMaterial:hw,MeshPhysicalMaterial:$x,MeshStandardMaterial:Yx,MeshPhongMaterial:Jx,MeshToonMaterial:Zx,MeshNormalMaterial:e_,MeshLambertMaterial:t_,MeshDepthMaterial:_y,MeshDistanceMaterial:Sy,MeshBasicMaterial:Of,MeshMatcapMaterial:n_,LineDashedMaterial:r_,LineBasicMaterial:Jb,Material:Df}[e]}}class rS{static decodeText(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class iS extends cg{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class oS extends E_{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new F_(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}parse(e){const t={},n={};function r(e,r){if(void 0!==t[r])return t[r];const i=e.interleavedBuffers[r],o=function(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers,i=r[t],o=new Uint32Array(i).buffer;return n[t]=o,o}(e,i.buffer),s=zd(i.type,o),a=new jy(s,i.stride);return a.uuid=i.uuid,t[r]=a,a}const i=e.isInstancedBufferGeometry?new iS:new cg,o=e.data.index;if(void 0!==o){const e=zd(o.type,o.array);i.setIndex(new Kf(e,1))}const s=e.data.attributes;for(const c in s){const t=s[c];let n;if(t.isInterleavedBufferAttribute){const i=r(e.data,t.data);n=new Wy(i,t.itemSize,t.offset,t.normalized)}else{const e=zd(t.type,t.array);n=new(t.isInstancedBufferAttribute?Bb:Kf)(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),i.setAttribute(c,n)}const a=e.data.morphAttributes;if(a)for(const c in a){const t=a[c],n=[];for(let i=0,o=t.length;i<o;i++){const o=t[i];let s;if(o.isInterleavedBufferAttribute){const t=r(e.data,o.data);s=new Wy(t,o.itemSize,o.offset,o.normalized)}else{const e=zd(o.type,o.array);s=new Kf(e,o.itemSize,o.normalized)}void 0!==o.name&&(s.name=o.name),n.push(s)}i.morphAttributes[c]=n}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let c=0,u=l.length;c!==u;++c){const e=l[c];i.addGroup(e.start,e.count,e.materialIndex)}const A=e.data.boundingSphere;if(void 0!==A){const e=new fp;void 0!==A.center&&e.fromArray(A.center),i.boundingSphere=new kp(e,A.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}class sS extends E_{constructor(e){super(e)}load(e,t,n,r){const i=this,o=""===this.path?rS.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new F_(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){let o=null;try{o=JSON.parse(n)}catch(pE){return void 0!==r&&r(pE),void console.error("THREE:ObjectLoader: Can't parse "+e+".",pE.message)}const s=o.metadata;if(void 0===s||void 0===s.type||"geometry"===s.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);i.parse(o,t)}),n,r)}async loadAsync(e,t){const n=""===this.path?rS.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const r=new F_(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const i=await r.loadAsync(e,t),o=JSON.parse(i),s=o.metadata;if(void 0===s||void 0===s.type||"geometry"===s.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(o)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,a,s,n),A=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,A),void 0!==t){let e=!1;for(const t in o)if(o[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,i),s=this.parseMaterials(e.materials,o),a=this.parseObject(e.object,r,s,o,t),l=this.parseSkeletons(e.skeletons,a);return this.bindSkeletons(a,l),a}parseShapes(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new ox).fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(let i=0,o=e.length;i<o;i++){const t=(new Cb).fromJSON(e[i],r);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const r=new oS;for(let i=0,o=e.length;i<o;i++){let o;const s=e[i];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;default:s.type in Kx?o=Kx[s.type].fromJSON(s,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${s.type}"`)}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new nS;i.setTextures(t);for(let t=0,o=e.length;t<o;t++){const o=e[t];void 0===n[o.uuid]&&(n[o.uuid]=i.parse(o)),r[o.uuid]=n[o.uuid]}}return r}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const r=e[n],i=x_.parse(r);t[i.uuid]=i}return t}parseImages(e,t){const n=this,r={};let i;function o(e){if("string"===typeof e){const t=e;return function(e){return n.manager.itemStart(e),i.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:zd(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new C_(t);i=new P_(n),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const n=e[t],i=n.url;if(Array.isArray(i)){const e=[];for(let t=0,n=i.length;t<n;t++){const n=o(i[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new xb(n.data,n.width,n.height)))}r[n.uuid]=new rp(e)}else{const e=o(n.url);r[n.uuid]=new rp(e)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function i(e){if("string"===typeof e){const n=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await r.loadAsync(i)}return e.data?{data:zd(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){r=new P_(this.manager),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],o=r.url;if(Array.isArray(o)){const e=[];for(let t=0,n=o.length;t<n;t++){const n=o[t],r=await i(n);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new xb(r.data,r.width,r.height)))}n[r.uuid]=new rp(e)}else{const e=await i(r.url);n[r.uuid]=new rp(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const r={};if(void 0!==e)for(let i=0,o=e.length;i<o;i++){const o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const s=t[o.image],a=s.data;let l;Array.isArray(a)?(l=new jg,6===a.length&&(l.needsUpdate=!0)):(l=a&&a.data?new xb:new sp,a&&(l.needsUpdate=!0)),l.source=s,l.uuid=o.uuid,void 0!==o.name&&(l.name=o.name),void 0!==o.mapping&&(l.mapping=n(o.mapping,aS)),void 0!==o.channel&&(l.channel=o.channel),void 0!==o.offset&&l.offset.fromArray(o.offset),void 0!==o.repeat&&l.repeat.fromArray(o.repeat),void 0!==o.center&&l.center.fromArray(o.center),void 0!==o.rotation&&(l.rotation=o.rotation),void 0!==o.wrap&&(l.wrapS=n(o.wrap[0],lS),l.wrapT=n(o.wrap[1],lS)),void 0!==o.format&&(l.format=o.format),void 0!==o.internalFormat&&(l.internalFormat=o.internalFormat),void 0!==o.type&&(l.type=o.type),void 0!==o.colorSpace&&(l.colorSpace=o.colorSpace),void 0!==o.minFilter&&(l.minFilter=n(o.minFilter,AS)),void 0!==o.magFilter&&(l.magFilter=n(o.magFilter,AS)),void 0!==o.anisotropy&&(l.anisotropy=o.anisotropy),void 0!==o.flipY&&(l.flipY=o.flipY),void 0!==o.generateMipmaps&&(l.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(l.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(l.unpackAlignment=o.unpackAlignment),void 0!==o.compareFunction&&(l.compareFunction=o.compareFunction),void 0!==o.userData&&(l.userData=o.userData),r[o.uuid]=l}return r}parseObject(e,t,n,r,i){let o,s,a;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function A(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),t.push(n[i])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":o=new zy,void 0!==e.background&&(Number.isInteger(e.background)?o.background=new Rf(e.background):o.background=c(e.background)),void 0!==e.environment&&(o.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?o.fog=new Hy(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(o.fog=new Qy(e.fog.color,e.fog.density)),""!==e.fog.name&&(o.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(o.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(o.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&o.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(o.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Qg(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new dm(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new J_(e.color,e.intensity);break;case"DirectionalLight":o=new $_(e.color,e.intensity);break;case"PointLight":o=new X_(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Z_(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new V_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new D_(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=(new tS).fromJSON(e);break;case"SkinnedMesh":s=l(e.geometry),a=A(e.material),o=new bb(s,a),void 0!==e.bindMode&&(o.bindMode=e.bindMode),void 0!==e.bindMatrix&&o.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(o.skeleton=e.skeleton);break;case"Mesh":s=l(e.geometry),a=A(e.material),o=new Mg(s,a);break;case"InstancedMesh":s=l(e.geometry),a=A(e.material);const t=e.count,n=e.instanceMatrix,r=e.instanceColor;o=new Ub(s,a,t),o.instanceMatrix=new Bb(new Float32Array(n.array),16),void 0!==r&&(o.instanceColor=new Bb(new Float32Array(r.array),r.itemSize));break;case"BatchedMesh":s=l(e.geometry),a=A(e.material),o=new $b(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,a),o.geometry=s,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map((e=>{const t=new vp;t.min.fromArray(e.boxMin),t.max.fromArray(e.boxMax);const n=new kp;return n.radius=e.sphereRadius,n.center.fromArray(e.sphereCenter),{boxInitialized:e.boxInitialized,box:t,sphereInitialized:e.sphereInitialized,sphere:n}})),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new cb;break;case"Line":o=new sw(l(e.geometry),A(e.material));break;case"LineLoop":o=new uw(l(e.geometry),A(e.material));break;case"LineSegments":o=new cw(l(e.geometry),A(e.material));break;case"PointCloud":case"Points":o=new mw(l(e.geometry),A(e.material));break;case"Sprite":o=new sb(A(e.material));break;case"Group":o=new Fy;break;case"Bone":o=new wb;break;default:o=new yf}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(o.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.up&&o.up.fromArray(e.up),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(o.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.frustumCulled&&(o.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(o.renderOrder=e.renderOrder),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.layers&&(o.layers.mask=e.layers),void 0!==e.children){const s=e.children;for(let e=0;e<s.length;e++)o.add(this.parseObject(s[e],t,n,r,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];o.animations.push(i[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(o.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],r=o.getObjectByProperty("uuid",n.object);void 0!==r&&o.addLevel(r,n.distance,n.hysteresis)}}return o}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}const aS={UVMapping:qc,CubeReflectionMapping:Xc,CubeRefractionMapping:Yc,EquirectangularReflectionMapping:$c,EquirectangularRefractionMapping:Jc,CubeUVReflectionMapping:Zc},lS={RepeatWrapping:eu,ClampToEdgeWrapping:tu,MirroredRepeatWrapping:nu},AS={NearestFilter:ru,NearestMipmapNearestFilter:iu,NearestMipmapLinearFilter:su,LinearFilter:lu,LinearMipmapNearestFilter:Au,LinearMipmapLinearFilter:uu};class cS extends E_{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=S_.get(e);if(void 0!==o)return i.manager.itemStart(e),o.then?void o.then((n=>{t&&t(n),i.manager.itemEnd(e)})).catch((e=>{r&&r(e)})):(setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o);const s={};s.credentials="anonymous"===this.crossOrigin?"same-origin":"include",s.headers=this.requestHeader;const a=fetch(e,s).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){return S_.add(e,n),t&&t(n),i.manager.itemEnd(e),n})).catch((function(t){r&&r(t),S_.remove(e),i.manager.itemError(e),i.manager.itemEnd(e)}));S_.add(e,a),i.manager.itemStart(e)}}let uS;class hS{static getContext(){return void 0===uS&&(uS=new(window.AudioContext||window.webkitAudioContext)),uS}static setContext(e){uS=e}}class dS extends E_{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new F_(this.manager);function s(t){r?r(t):console.error(t),i.manager.itemError(e)}o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(e){try{const n=e.slice(0);hS.getContext().decodeAudioData(n,(function(e){t(e)})).catch(s)}catch(n){s(n)}}),n,r)}}const pS=new Wp,fS=new Wp,gS=new Wp;class mS{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Qg,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Qg,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,gS.copy(e.projectionMatrix);const n=t.eyeSep/2,r=n*t.near/t.focus,i=t.near*Math.tan(Md*t.fov*.5)/t.zoom;let o,s;fS.elements[12]=-n,pS.elements[12]=n,o=-i*t.aspect+r,s=i*t.aspect+r,gS.elements[0]=2*t.near/(s-o),gS.elements[8]=(s+o)/(s-o),this.cameraL.projectionMatrix.copy(gS),o=-i*t.aspect-r,s=i*t.aspect-r,gS.elements[0]=2*t.near/(s-o),gS.elements[8]=(s+o)/(s-o),this.cameraR.projectionMatrix.copy(gS)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(fS),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(pS)}}class vS{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=yS(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=yS();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function yS(){return("undefined"===typeof performance?Date:performance).now()}const bS=new fp,wS=new pp,xS=new fp,_S=new fp;class SS extends yf{constructor(){super(),this.type="AudioListener",this.context=hS.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new vS}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(bS,wS,xS),_S.set(0,0,-1).applyQuaternion(wS),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(bS.x,e),t.positionY.linearRampToValueAtTime(bS.y,e),t.positionZ.linearRampToValueAtTime(bS.z,e),t.forwardX.linearRampToValueAtTime(_S.x,e),t.forwardY.linearRampToValueAtTime(_S.y,e),t.forwardZ.linearRampToValueAtTime(_S.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(bS.x,bS.y,bS.z),t.setOrientation(_S.x,_S.y,_S.z,n.x,n.y,n.z)}}class CS extends yf{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const BS=new fp,ES=new pp,MS=new fp,TS=new fp;class FS extends CS{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(BS,ES,MS),TS.set(0,0,1).applyQuaternion(ES);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(BS.x,e),t.positionY.linearRampToValueAtTime(BS.y,e),t.positionZ.linearRampToValueAtTime(BS.z,e),t.orientationX.linearRampToValueAtTime(TS.x,e),t.orientationY.linearRampToValueAtTime(TS.y,e),t.orientationZ.linearRampToValueAtTime(TS.z,e)}else t.setPosition(BS.x,BS.y,BS.z),t.setOrientation(TS.x,TS.y,TS.z)}}class IS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class LS{constructor(e,t,n){let r,i,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let o=this.cumulativeWeight;if(0===o){for(let e=0;e!==r;++e)n[i+e]=n[e];o=t}else{o+=t;const e=t/o;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let a=t,l=t+t;a!==l;++a)if(n[a]!==n[a+t]){s.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let o=0;o!==i;++o)e[t+o]=e[n+o]}_slerp(e,t,n,r){pp.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const o=this._workIndex*i;pp.multiplyQuaternionsFlat(e,o,e,t,e,n),pp.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,n,r,i){const o=1-r;for(let s=0;s!==i;++s){const i=t+s;e[i]=e[i]*o+e[n+s]*r}}_lerpAdditive(e,t,n,r,i){for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]+e[n+o]*r}}}const PS="\\[\\]\\.:\\/",US=new RegExp("["+PS+"]","g"),RS="[^"+PS+"]",kS="[^"+PS.replace("\\.","")+"]",NS=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",RS)+/(WCOD+)?/.source.replace("WCOD",kS)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",RS)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",RS)+"$"),DS=["material","materials","bones","map"];class OS{constructor(e,t,n){this.path=t,this.parsedPath=n||OS.parseTrackName(t),this.node=OS.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new OS.Composite(e,t,n):new OS(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(US,"")}static parseTrackName(e){const t=NS.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==DS.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const o=n(i.children);if(o)return o}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=OS.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const o=e[r];if(void 0===o){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e)}let s=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}OS.Composite=class{constructor(e,t,n){const r=n||OS.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},OS.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},OS.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},OS.prototype.GetterByBindingType=[OS.prototype._getValue_direct,OS.prototype._getValue_array,OS.prototype._getValue_arrayElement,OS.prototype._getValue_toArray],OS.prototype.SetterByBindingTypeAndVersioning=[[OS.prototype._setValue_direct,OS.prototype._setValue_direct_setNeedsUpdate,OS.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[OS.prototype._setValue_array,OS.prototype._setValue_array_setNeedsUpdate,OS.prototype._setValue_array_setMatrixWorldNeedsUpdate],[OS.prototype._setValue_arrayElement,OS.prototype._setValue_arrayElement_setNeedsUpdate,OS.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[OS.prototype._setValue_fromArray,OS.prototype._setValue_fromArray_setNeedsUpdate,OS.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class QS{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Fd(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length;let s,a=e.length,l=this.nCachedObjects_;for(let A=0,c=arguments.length;A!==c;++A){const c=arguments[A],u=c.uuid;let h=t[u];if(void 0===h){h=a++,t[u]=h,e.push(c);for(let e=0,t=o;e!==t;++e)i[e].push(new OS(c,n[e],r[e]))}else if(h<l){s=e[h];const a=--l,A=e[a];t[A.uuid]=h,e[h]=A,t[u]=a,e[a]=c;for(let e=0,t=o;e!==t;++e){const t=i[e],o=t[a];let s=t[h];t[h]=o,void 0===s&&(s=new OS(c,n[e],r[e])),t[a]=s}}else e[h]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o],a=s.uuid,l=t[a];if(void 0!==l&&l>=i){const o=i++,A=e[o];t[A.uuid]=l,e[l]=A,t[a]=o,e[o]=s;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[o],i=t[l];t[l]=r,t[o]=i}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,o=e.length;for(let s=0,a=arguments.length;s!==a;++s){const a=arguments[s].uuid,l=t[a];if(void 0!==l)if(delete t[a],l<i){const s=--i,a=e[s],A=--o,c=e[A];t[a.uuid]=l,e[l]=a,t[c.uuid]=s,e[s]=c,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[s],i=t[A];t[l]=r,t[s]=i,t.pop()}}else{const i=--o,s=e[i];i>0&&(t[s.uuid]=l),e[l]=s,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[l]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const o=this._paths,s=this._parsedPaths,a=this._objects,l=a.length,A=this.nCachedObjects_,c=new Array(l);r=i.length,n[e]=r,o.push(e),s.push(t),i.push(c);for(let u=A,h=a.length;u!==h;++u){const n=a[u];c[u]=new OS(n,e,t)}return c}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length-1,a=o[s];t[e[s]]=n,o[n]=a,o.pop(),i[n]=i[s],i.pop(),r[n]=r[s],r.pop()}}}class HS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.blendMode;this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,o=i.length,s=new Array(o),a={endingStart:wh,endingEnd:wh};for(let l=0;l!==o;++l){const e=i[l].createInterpolant(null);s[l]=e,e.settings=a}this._interpolantSettings=a,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=gh,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,r=e._clip.duration,i=r/n,o=n/r;e.warp(1,i,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,o=this.timeScale;let s=this._timeScaleInterpolant;null===s&&(s=r._lendControlInterpolant(),this._timeScaleInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=i,a[1]=i+n,l[0]=e/o,l[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;r<0||0===n?t=0:(this._startTime=null,t=n*r)}t*=this._updateTimeScale(e);const o=this._updateTime(t),s=this._updateWeight(e);if(s>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===Ch)for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(o),t[n].accumulateAdditive(s);else for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(o),t[n].accumulate(r,s)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const o=n===mh;if(0===e)return-1===i?r:o&&1===(1&i)?t-r:r;if(n===fh){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){const t=e<0;this._setEndings(t,!t,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(o&&1===(1&i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=xh,r.endingEnd=xh):(r.endingStart=e?this.zeroSlopeAtStart?xh:wh:_h,r.endingEnd=t?this.zeroSlopeAtEnd?xh:wh:_h)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,a=o.sampleValues;return s[0]=i,a[0]=t,s[1]=i+e,a[1]=n,this}}const zS=new Float32Array(1);class jS extends Cd{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,s=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName;let A=l[a];void 0===A&&(A={},l[a]=A);for(let c=0;c!==i;++c){const e=r[c],i=e.name;let l=A[i];if(void 0!==l)++l.referenceCount,o[c]=l;else{if(l=o[c],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,a,i));continue}const r=t&&t._propertyBindings[c].binding.parsedPath;l=new LS(OS.create(n,i,r),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,a,i),o[c]=l}s[c].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{const t=o.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,o=this._actionsByClip,s=o[i],a=s.knownActions,l=a[a.length-1],A=e._byClipCacheIndex;l._byClipCacheIndex=A,a[A]=l,a.pop(),e._byClipCacheIndex=null;delete s.actionByRoot[(e._localRoot||this._root).uuid],0===a.length&&delete o[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let o=r[t];void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,s=o[r],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete s[i],0===Object.keys(s).length&&delete o[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new h_(new Float32Array(2),new Float32Array(2),1,zS),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let o="string"===typeof e?x_.findByName(r,e):e;const s=null!==o?o.uuid:e,a=this._actionsByClip[s];let l=null;if(void 0===n&&(n=null!==o?o.blendMode:Sh),void 0!==a){const e=a.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=a.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;const A=new HS(this,o,t,n);return this._bindAction(A,l),this._addInactiveAction(A,s,i),A}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"===typeof e?x_.findByName(n,e):e,o=i?i.uuid:e,s=this._actionsByClip[o];return void 0!==s&&s.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1;for(let l=0;l!==n;++l){t[l]._update(r,e,i,o)}const s=this._bindings,a=this._nActiveBindings;for(let l=0;l!==a;++l)s[l].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,o=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,o._cacheIndex=i,t[i]=o,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const i in n){const e=n[i].actionByRoot[t];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const i in r){const e=r[i];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class VS{constructor(e){this.value=e}clone(){return new VS(void 0===this.value.clone?this.value:this.value.clone())}}let WS=0;class GS extends Cd{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:WS++}),this.name="",this.usage=hd,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const e=Array.isArray(t[n])?t[n]:[t[n]];for(let t=0;t<e.length;t++)this.uniforms.push(e[t].clone())}return this}clone(){return(new this.constructor).copy(this)}}class KS extends jy{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class qS{constructor(e,t,n,r,i){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const XS=new Wp;class YS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;this.ray=new Vp(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new nf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return XS.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(XS),this}intersectObject(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return JS(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort($S),t}intersectObjects(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let r=0,i=e.length;r<i;r++)JS(e[r],this,n,t);return n.sort($S),n}}function $S(e,t){return e.distance-t.distance}function JS(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)JS(r[e],t,n,!0)}}class ZS{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Id(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class eC{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}}const tC=new Nd;class nC{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Nd(1/0,1/0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Nd(-1/0,-1/0);this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=tC.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,tC).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const rC=new fp,iC=new fp;class oC{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fp,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fp;this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){rC.subVectors(e,this.start),iC.subVectors(this.end,this.start);const n=iC.dot(iC);let r=iC.dot(rC)/n;return t&&(r=Id(r,0,1)),r}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const sC=new fp;class aC extends yf{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new cg,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,a=32;o<a;o++,s++){const e=o/a*Math.PI*2,t=s/a*Math.PI*2;r.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new ng(r,3));const i=new Jb({fog:!1,toneMapped:!1});this.cone=new cw(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),sC.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(sC),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const lC=new fp,AC=new Wp,cC=new Wp;class uC extends cw{constructor(e){const t=hC(e),n=new cg,r=[],i=[],o=new Rf(0,0,1),s=new Rf(0,1,0);for(let a=0;a<t.length;a++){const e=t[a];e.parent&&e.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(s.r,s.g,s.b))}n.setAttribute("position",new ng(r,3)),n.setAttribute("color",new ng(i,3));super(n,new Jb({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");cC.copy(this.root.matrixWorld).invert();for(let i=0,o=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&(AC.multiplyMatrices(cC,e.matrixWorld),lC.setFromMatrixPosition(AC),r.setXYZ(o,lC.x,lC.y,lC.z),AC.multiplyMatrices(cC,e.parent.matrixWorld),lC.setFromMatrixPosition(AC),r.setXYZ(o+1,lC.x,lC.y,lC.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function hC(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,hC(e.children[n]));return t}class dC extends Mg{constructor(e,t,n){super(new Qx(t,4,2),new Of({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const pC=new fp,fC=new Rf,gC=new Rf;class mC extends yf{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new Nx(t);r.rotateY(.5*Math.PI),this.material=new Of({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.setAttribute("color",new Kf(o,3)),this.add(new Mg(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");fC.copy(this.light.color),gC.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?fC:gC;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(pC.setFromMatrixPosition(this.light.matrixWorld).negate())}}class vC extends cw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;n=new Rf(n),r=new Rf(r);const i=t/2,o=e/t,s=e/2,a=[],l=[];for(let c=0,u=0,h=-s;c<=t;c++,h+=o){a.push(-s,0,h,s,0,h),a.push(h,0,-s,h,0,s);const e=c===i?n:r;e.toArray(l,u),u+=3,e.toArray(l,u),u+=3,e.toArray(l,u),u+=3,e.toArray(l,u),u+=3}const A=new cg;A.setAttribute("position",new ng(a,3)),A.setAttribute("color",new ng(l,3));super(A,new Jb({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class yC extends cw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;i=new Rf(i),o=new Rf(o);const s=[],a=[];if(t>1)for(let A=0;A<t;A++){const n=A/t*(2*Math.PI),r=Math.sin(n)*e,l=Math.cos(n)*e;s.push(0,0,0),s.push(r,0,l);const c=1&A?i:o;a.push(c.r,c.g,c.b),a.push(c.r,c.g,c.b)}for(let A=0;A<n;A++){const t=1&A?i:o,l=e-e/n*A;for(let e=0;e<r;e++){let n=e/r*(2*Math.PI),i=Math.sin(n)*l,o=Math.cos(n)*l;s.push(i,0,o),a.push(t.r,t.g,t.b),n=(e+1)/r*(2*Math.PI),i=Math.sin(n)*l,o=Math.cos(n)*l,s.push(i,0,o),a.push(t.r,t.g,t.b)}}const l=new cg;l.setAttribute("position",new ng(s,3)),l.setAttribute("color",new ng(a,3));super(l,new Jb({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const bC=new fp,wC=new fp,xC=new fp;class _C extends yf{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let r=new cg;r.setAttribute("position",new ng([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new Jb({fog:!1,toneMapped:!1});this.lightPlane=new sw(r,i),this.add(this.lightPlane),r=new cg,r.setAttribute("position",new ng([0,0,0,0,0,1],3)),this.targetLine=new sw(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),bC.setFromMatrixPosition(this.light.matrixWorld),wC.setFromMatrixPosition(this.light.target.matrixWorld),xC.subVectors(wC,bC),this.lightPlane.lookAt(wC),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(wC),this.targetLine.scale.z=xC.length()}}const SC=new fp,CC=new kg;class BC extends cw{constructor(e){const t=new cg,n=new Jb({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],o={};function s(e,t){a(e),a(t)}function a(e){r.push(0,0,0),i.push(0,0,0),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4"),t.setAttribute("position",new ng(r,3)),t.setAttribute("color",new ng(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const l=new Rf(16755200),A=new Rf(16711680),c=new Rf(43775),u=new Rf(16777215),h=new Rf(3355443);this.setColors(l,A,c,u,h)}setColors(e,t,n,r,i){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,i.r,i.g,i.b),o.setXYZ(41,i.r,i.g,i.b),o.setXYZ(42,i.r,i.g,i.b),o.setXYZ(43,i.r,i.g,i.b),o.setXYZ(44,i.r,i.g,i.b),o.setXYZ(45,i.r,i.g,i.b),o.setXYZ(46,i.r,i.g,i.b),o.setXYZ(47,i.r,i.g,i.b),o.setXYZ(48,i.r,i.g,i.b),o.setXYZ(49,i.r,i.g,i.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;CC.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),EC("c",t,e,CC,0,0,-1),EC("t",t,e,CC,0,0,1),EC("n1",t,e,CC,-1,-1,-1),EC("n2",t,e,CC,1,-1,-1),EC("n3",t,e,CC,-1,1,-1),EC("n4",t,e,CC,1,1,-1),EC("f1",t,e,CC,-1,-1,1),EC("f2",t,e,CC,1,-1,1),EC("f3",t,e,CC,-1,1,1),EC("f4",t,e,CC,1,1,1),EC("u1",t,e,CC,.7,1.1,-1),EC("u2",t,e,CC,-.7,1.1,-1),EC("u3",t,e,CC,0,2,-1),EC("cf1",t,e,CC,-1,0,1),EC("cf2",t,e,CC,1,0,1),EC("cf3",t,e,CC,0,-1,1),EC("cf4",t,e,CC,0,1,1),EC("cn1",t,e,CC,-1,0,-1),EC("cn2",t,e,CC,1,0,-1),EC("cn3",t,e,CC,0,-1,-1),EC("cn4",t,e,CC,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function EC(e,t,n,r,i,o,s){SC.set(i,o,s).unproject(r);const a=t[e];if(void 0!==a){const e=n.getAttribute("position");for(let t=0,n=a.length;t<n;t++)e.setXYZ(a[t],SC.x,SC.y,SC.z)}}const MC=new vp;class TC extends cw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new cg;i.setIndex(new Kf(n,1)),i.setAttribute("position",new Kf(r,3)),super(i,new Jb({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&MC.setFromObject(this.object),MC.isEmpty())return;const t=MC.min,n=MC.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class FC extends cw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new cg;r.setIndex(new Kf(n,1)),r.setAttribute("position",new ng([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new Jb({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class IC extends sw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960,r=new cg;r.setAttribute("position",new ng([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),r.computeBoundingSphere(),super(r,new Jb({color:n,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const i=new cg;i.setAttribute("position",new ng([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new Mg(i,new Of({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const LC=new fp;let PC,UC;class RC extends yf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fp(0,0,1),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fp(0,0,0),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*n,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*i;super(),this.type="ArrowHelper",void 0===PC&&(PC=new cg,PC.setAttribute("position",new ng([0,0,0,0,1,0],3)),UC=new Yw(0,.5,1,5,1),UC.translate(0,-.5,0)),this.position.copy(t),this.line=new sw(PC,new Jb({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mg(UC,new Of({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{LC.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(LC,t)}}setLength(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class kC extends cw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new cg;n.setAttribute("position",new ng(t,3)),n.setAttribute("color",new ng([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new Jb({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const r=new Rf,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class NC{constructor(){this.type="ShapePath",this.color=new Rf,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Gw,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,o){return this.currentPath.bezierCurveTo(e,t,n,r,i,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let r=!1;for(let i=n-1,o=0;o<n;i=o++){let n=t[i],s=t[o],a=s.x-n.x,l=s.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[o],a=-a,s=t[i],l=-l),e.y<n.y||e.y>s.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-a*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(s.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=s.x)return!0}}return r}const n=Ix.isClockWise,r=this.subPaths;if(0===r.length)return[];let i,o,s;const a=[];if(1===r.length)return o=r[0],s=new ox,s.curves=o.curves,a.push(s),a;let l=!n(r[0].getPoints());l=e?!l:l;const A=[],c=[];let u,h,d=[],p=0;c[p]=void 0,d[p]=[];for(let f=0,g=r.length;f<g;f++)o=r[f],u=o.getPoints(),i=n(u),i=e?!i:i,i?(!l&&c[p]&&p++,c[p]={s:new ox,p:u},c[p].s.curves=o.curves,l&&p++,d[p]=[]):d[p].push({h:o,p:u[0]});if(!c[0])return function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new ox;i.curves=r.curves,t.push(i)}return t}(r);if(c.length>1){let e=!1,n=0;for(let t=0,r=c.length;t<r;t++)A[t]=[];for(let r=0,i=c.length;r<i;r++){const i=d[r];for(let o=0;o<i.length;o++){const s=i[o];let a=!0;for(let i=0;i<c.length;i++)t(s.p,c[i].p)&&(r!==i&&n++,a?(a=!1,A[i].push(s)):e=!0);a&&A[r].push(s)}}n>0&&!1===e&&(d=A)}for(let f=0,g=c.length;f<g;f++){s=c[f].s,a.push(s),h=d[f];for(let e=0,t=h.length;e<t;e++)s.holes.push(h[e].h)}return a}}class DC extends Ap{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...r,count:n}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:HA}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=HA);var OC=n(7205);function QC(e){let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(i!==t){const e=t;t=r?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,o={setState:r,getState:i,subscribe:(e,r,o)=>r||o?function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let s=r(t);function a(){const n=r(t);if(!o(s,n)){const t=s;e(s=n,t)}}return n.add(a),()=>n.delete(a)}(e,r,o):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,o),o}const HC="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?t.useEffect:t.useLayoutEffect;const zC=[];function jC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;if(e===t)return!0;if(!e||!t)return!1;const r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function VC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null===t&&(t=[e]);for(const s of zC)if(jC(t,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:t,equal:r.equal,remove:()=>{const e=zC.indexOf(i);-1!==e&&zC.splice(e,1)},promise:(o=e,"object"===typeof o&&"function"===typeof o.then?e:e(...t)).then((e=>{i.response=e,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))})).catch((e=>i.error=e))};var o;if(zC.push(i),!n)throw i.promise}var WC=n(2016),GC=n.n(WC),KC=n(8853);const qC={};var XC,YC;const $C=e=>"colorSpace"in e||"outputColorSpace"in e,JC=()=>{var e;return null!=(e=qC.ColorManagement)?e:null},ZC=e=>e&&e.isOrthographicCamera,eB="undefined"!==typeof window&&(null!=(XC=window.document)&&XC.createElement||"ReactNative"===(null==(YC=window.navigator)?void 0:YC.product))?t.useLayoutEffect:t.useEffect;function tB(e){const n=t.useRef(e);return eB((()=>{n.current=e}),[e]),n}function nB(e){let{set:t}=e;return eB((()=>(t(new Promise((()=>null))),()=>t(!1))),[t]),null}class rB extends t.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}rB.getDerivedStateFromError=()=>({error:!0});const iB="__default",oB=new Map,sB=e=>e&&!!e.memoized&&!!e.changes;function aB(e){var t;const n="undefined"!==typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}const lB=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()};function AB(e){let t=e.__r3f.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const cB={obj:e=>e===Object(e)&&!cB.arr(e)&&"function"!==typeof e,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,boo:e=>"boolean"===typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t){let{arrays:n="shallow",objects:r="reference",strict:i=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(typeof e!==typeof t||!!e!==!!t)return!1;if(cB.str(e)||cB.num(e)||cB.boo(e))return e===t;const o=cB.obj(e);if(o&&"reference"===r)return e===t;const s=cB.arr(e);if(s&&"reference"===n)return e===t;if((s||o)&&e===t)return!0;let a;for(a in e)if(!(a in t))return!1;if(o&&"shallow"===n&&"shallow"===r){for(a in i?t:e)if(!cB.equ(e[a],t[a],{strict:i,objects:"reference"}))return!1}else for(a in i?t:e)if(e[a]!==t[a])return!1;if(cB.und(a)){if(s&&0===e.length&&0===t.length)return!0;if(o&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function uB(e){const t={nodes:{},materials:{}};return e&&e.traverse((e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function hB(e,t){return e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},e}function dB(e,t){let n=e;if(t.includes("-")){const r=t.split("-"),i=r.pop();return n=r.reduce(((e,t)=>e[t]),e),{target:n,key:i}}return{target:n,key:t}}const pB=/-\d+$/;function fB(e,t,n){if(cB.str(n)){if(pB.test(n)){const t=n.replace(pB,""),{target:r,key:i}=dB(e,t);Array.isArray(r[i])||(r[i]=[])}const{target:r,key:i}=dB(e,n);t.__r3f.previousAttach=r[i],r[i]=t}else t.__r3f.previousAttach=n(e,t)}function gB(e,t,n){var r,i;if(cB.str(n)){const{target:r,key:i}=dB(e,n),o=t.__r3f.previousAttach;void 0===o?delete r[i]:r[i]=o}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function mB(e,t){let{children:n,key:r,ref:i,...o}=t,{children:s,key:a,ref:l,...A}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const u=e.__r3f,h=Object.entries(o),d=[];if(c){const e=Object.keys(A);for(let t=0;t<e.length;t++)o.hasOwnProperty(e[t])||h.unshift([e[t],iB+"remove"])}h.forEach((t=>{let[n,r]=t;var i;if(null!=(i=e.__r3f)&&i.primitive&&"object"===n)return;if(cB.equ(r,A[n]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(n))return d.push([n,r,!0,[]]);let s=[];n.includes("-")&&(s=n.split("-")),d.push([n,r,!1,s]);for(const e in o){const t=o[e];e.startsWith(`${n}-`)&&d.push([e,t,!1,e.split("-")])}}));const p={...o};return null!=u&&u.memoizedProps&&null!=u&&u.memoizedProps.args&&(p.args=u.memoizedProps.args),null!=u&&u.memoizedProps&&null!=u&&u.memoizedProps.attach&&(p.attach=u.memoizedProps.attach),{memoized:p,changes:d}}const vB="undefined"!==typeof process&&!1;function yB(e,t){var n;const r=e.__r3f,i=null==r?void 0:r.root,o=null==i||null==i.getState?void 0:i.getState(),{memoized:s,changes:a}=sB(t)?t:mB(e,t),l=null==r?void 0:r.eventCount;e.__r3f&&(e.__r3f.memoizedProps=s);for(let A=0;A<a.length;A++){let[t,n,i,s]=a[A];if($C(e)){const e=3001,r="srgb",i="srgb-linear";"encoding"===t?(t="colorSpace",n=n===e?r:i):"outputEncoding"===t&&(t="outputColorSpace",n=n===e?r:i)}let l=e,c=l[t];if(s.length&&(c=s.reduce(((e,t)=>e[t]),e),!c||!c.set)){const[n,...r]=s.reverse();l=r.reverse().reduce(((e,t)=>e[t]),e),t=n}if(n===iB+"remove")if(l.constructor){let e=oB.get(l.constructor);e||(e=new l.constructor,oB.set(l.constructor,e)),n=e[t]}else n=0;if(i&&r)n?r.handlers[t]=n:delete r.handlers[t],r.eventCount=Object.keys(r.handlers).length;else if(c&&c.set&&(c.copy||c instanceof nf)){if(Array.isArray(n))c.fromArray?c.fromArray(n):c.set(...n);else if(c.copy&&n&&n.constructor&&(vB?c.constructor.name===n.constructor.name:c.constructor===n.constructor))c.copy(n);else if(void 0!==n){const e=c instanceof Rf;!e&&c.setScalar?c.setScalar(n):c instanceof nf&&n instanceof nf?c.mask=n.mask:c.set(n),!JC()&&o&&!o.linear&&e&&c.convertSRGBToLinear()}}else if(l[t]=n,l[t]instanceof sp&&l[t].format===Eu&&l[t].type===du&&o){const e=l[t];$C(e)&&$C(o.gl)?e.colorSpace=o.gl.outputColorSpace:e.encoding=o.gl.outputEncoding}bB(e)}if(r&&r.parent&&e.raycast&&l!==r.eventCount){const t=AB(e).getState().internal,n=t.interaction.indexOf(e);n>-1&&t.interaction.splice(n,1),r.eventCount&&t.interaction.push(e)}return!(1===a.length&&"onUpdate"===a[0][0])&&a.length&&null!=(n=e.__r3f)&&n.parent&&wB(e),e}function bB(e){var t,n;const r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function wB(e){null==e.onUpdate||e.onUpdate(e)}function xB(e,t){e.manual||(ZC(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function _B(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function SB(e,t,n,r){const i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function CB(e){function t(e){return e.filter((e=>["Move","Over","Enter","Out","Leave"].some((t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))))}function n(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find((t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId))){const r=e.eventObject.__r3f,i=null==r?void 0:r.handlers;if(n.hovered.delete(_B(e)),null!=r&&r.eventCount){const n={...e,intersections:t};null==i.onPointerOut||i.onPointerOut(n),null==i.onPointerLeave||i.onPointerLeave(n)}}}function r(e,t){for(let n=0;n<t.length;n++){const r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{const{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(o){const{onPointerMissed:s,internal:a}=e.getState();a.lastEvent.current=o;const l="onPointerMove"===i,A="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,c=function(t,n){const r=e.getState(),i=new Set,o=[],s=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<s.length;e++){const t=lB(s[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let a=s.flatMap((function(e){const n=lB(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r})).sort(((e,t)=>{const n=lB(e.object),r=lB(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((e=>{const t=_B(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(a=r.events.filter(a,r));for(const e of a){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&o.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has(_B(e.intersection))||o.push(e.intersection);return o}(o,l?t:void 0),u=A?function(t){const{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(o):0;"onPointerDown"===i&&(a.initialClick=[o.offsetX,o.offsetY],a.initialHits=c.map((e=>e.eventObject))),A&&!c.length&&u<=2&&(r(o,a.interaction),s&&s(o)),l&&n(c),function(t,r,i,o){const s=e.getState();if(t.length){const e={stopped:!1};for(const a of t){const l=lB(a.object)||s,{raycaster:A,pointer:c,camera:u,internal:h}=l,d=new fp(c.x,c.y,0).unproject(u),p=e=>{var t,n;return null!=(t=null==(n=h.capturedMap.get(e))?void 0:n.has(a.eventObject))&&t},f=e=>{const t={intersection:a,target:r.target};h.capturedMap.has(e)?h.capturedMap.get(e).set(a.eventObject,t):h.capturedMap.set(e,new Map([[a.eventObject,t]])),r.target.setPointerCapture(e)},g=e=>{const t=h.capturedMap.get(e);t&&SB(h.capturedMap,a.eventObject,t,e)};let m={};for(let e in r){let t=r[e];"function"!==typeof t&&(m[e]=t)}let v={...a,...m,pointer:c,intersections:t,stopped:e.stopped,delta:i,unprojectedPoint:d,ray:A.ray,camera:u,stopPropagation(){const i="pointerId"in r&&h.capturedMap.get(r.pointerId);(!i||i.has(a.eventObject))&&(v.stopped=e.stopped=!0,h.hovered.size&&Array.from(h.hovered.values()).find((e=>e.eventObject===a.eventObject)))&&n([...t.slice(0,t.indexOf(a)),a])},target:{hasPointerCapture:p,setPointerCapture:f,releasePointerCapture:g},currentTarget:{hasPointerCapture:p,setPointerCapture:f,releasePointerCapture:g},nativeEvent:r};if(o(v),!0===e.stopped)break}}}(c,o,u,(function(e){const t=e.eventObject,n=t.__r3f,s=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(s.onPointerOver||s.onPointerEnter||s.onPointerOut||s.onPointerLeave){const t=_B(e),n=a.hovered.get(t);n?n.stopped&&e.stopPropagation():(a.hovered.set(t,e),null==s.onPointerOver||s.onPointerOver(e),null==s.onPointerEnter||s.onPointerEnter(e))}null==s.onPointerMove||s.onPointerMove(e)}else{const n=s[i];n?A&&!a.initialHits.includes(t)||(r(o,a.interaction.filter((e=>!a.initialHits.includes(e)))),n(e)):A&&a.initialHits.includes(t)&&r(o,a.interaction.filter((e=>!a.initialHits.includes(e))))}}))}}}}const BB=e=>!(null==e||!e.render),EB=t.createContext(null),MB=(e,n)=>{const r=function(e){const n="function"===typeof e?QC(e):e,r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.getState,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is;const[,i]=(0,t.useReducer)((e=>e+1),0),o=n.getState(),s=(0,t.useRef)(o),a=(0,t.useRef)(e),l=(0,t.useRef)(r),A=(0,t.useRef)(!1),c=(0,t.useRef)();let u;void 0===c.current&&(c.current=e(o));let h=!1;(s.current!==o||a.current!==e||l.current!==r||A.current)&&(u=e(o),h=!r(c.current,u)),HC((()=>{h&&(c.current=u),s.current=o,a.current=e,l.current=r,A.current=!1}));const d=(0,t.useRef)(o);HC((()=>{const e=()=>{try{const e=n.getState(),t=a.current(e);l.current(c.current,t)||(s.current=e,c.current=t,i())}catch(pE){A.current=!0,i()}},t=n.subscribe(e);return n.getState()!==d.current&&e(),t}),[]);const p=h?u:c.current;return(0,t.useDebugValue)(p),p};return Object.assign(r,n),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[r,n];return{next(){const t=e.length<=0;return{value:e.shift(),done:t}}}},r}(((r,i)=>{const o=new fp,s=new fp,a=new fp;function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i().size;const{width:r,height:l,top:A,left:c}=n,u=r/l;t instanceof fp?a.copy(t):a.set(...t);const h=e.getWorldPosition(o).distanceTo(a);if(ZC(e))return{width:r/e.zoom,height:l/e.zoom,top:A,left:c,factor:1,distance:h,aspect:u};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*h,i=n*(r/l);return{width:i,height:n,top:A,left:c,factor:r/i,distance:h,aspect:u}}}let A;const c=e=>r((t=>({performance:{...t.performance,current:e}}))),u=new Nd,h={set:r,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(i(),t)},advance:(e,t)=>n(e,t,i()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new vS,pointer:u,mouse:u,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=i();A&&clearTimeout(A),e.performance.current!==e.performance.min&&c(e.performance.min),A=setTimeout((()=>c(i().performance.max)),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:e=>r((t=>({...t,events:{...t.events,...e}}))),setSize:(e,t,n,o,a)=>{const A=i().camera,c={width:e,height:t,top:o||0,left:a||0,updateStyle:n};r((e=>({size:c,viewport:{...e.viewport,...l(A,s,c)}})))},setDpr:e=>r((t=>{const n=aB(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}})),setFrameloop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always";const t=i().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),r((()=>({frameloop:e})))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:t.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{const r=i().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort(((e,t)=>e.priority-t.priority)),()=>{const n=i().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((t=>t.ref!==e)))}}}};return h})),i=r.getState();let o=i.size,s=i.viewport.dpr,a=i.camera;return r.subscribe((()=>{const{camera:e,size:t,viewport:n,gl:i,set:l}=r.getState();if(t.width!==o.width||t.height!==o.height||n.dpr!==s){var A;o=t,s=n.dpr,xB(e,t),i.setPixelRatio(n.dpr);const r=null!=(A=t.updateStyle)?A:"undefined"!==typeof HTMLCanvasElement&&i.domElement instanceof HTMLCanvasElement;i.setSize(t.width,t.height,r)}e!==a&&(a=e,l((t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}}))))})),r.subscribe((t=>e(t))),r};let TB,FB=new Set,IB=new Set,LB=new Set;function PB(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function UB(e,t){switch(e){case"before":return PB(FB,t);case"after":return PB(IB,t);case"tail":return PB(LB,t)}}let RB,kB;function NB(e,t,n){let r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),RB=t.internal.subscribers,TB=0;TB<RB.length;TB++)kB=RB[TB],kB.ref.current(kB.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function DB(){const e=t.useContext(EB);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}const OB=new WeakMap;function QB(e,t){return function(n){let r=OB.get(n);r||(r=new n,OB.set(n,r)),e&&e(r);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return Promise.all(o.map((e=>new Promise(((n,i)=>r.load(e,(e=>{e.scene&&Object.assign(e,uB(e.scene)),n(e)}),t,(t=>i(new Error(`Could not load ${e}: ${null==t?void 0:t.message}`)))))))))}}function HB(e,t,n,r){const i=Array.isArray(t)?t:[t],o=((e,t,n)=>VC(e,t,!1,n))(QB(n,r),[e,...i],{equal:cB.equ});return Array.isArray(t)?o:o[0]}HB.preload=function(e,t,n){const r=Array.isArray(t)?t:[t];return((e,t,n)=>{VC(e,t,!0,n)})(QB(n),[e,...r])},HB.clear=function(e,t){return(e=>{if(void 0===e||0===e.length)zC.splice(0,zC.length);else{const t=zC.find((t=>jC(e,t.keys,t.equal)));t&&t.remove()}})([e,...Array.isArray(t)?t:[t]])};const zB=new Map,{invalidate:jB,advance:VB}=function(e){let t,n,r,i=!1,o=!1;function s(a){n=requestAnimationFrame(s),i=!0,t=0,UB("before",a),o=!0;for(const n of e.values()){var l;r=n.store.getState(),!r.internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(l=r.gl.xr)&&l.isPresenting||(t+=NB(a,r))}if(o=!1,UB("after",a),0===t)return UB("tail",a),i=!1,cancelAnimationFrame(n)}return{loop:s,invalidate:function t(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;var a;if(!n)return e.forEach((e=>t(e.store.getState(),r)));null!=(a=n.gl.xr)&&a.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=r>1?Math.min(60,n.internal.frames+r):o?2:1,i||(i=!0,requestAnimationFrame(s)))},advance:function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(n&&UB("before",t),r)NB(t,r,i);else for(const o of e.values())NB(t,o.store.getState());n&&UB("after",t)}}}(zB),{reconciler:WB,applyProps:GB}=function(e,t){function n(e,t,n){let r,{args:i=[],attach:o,...s}=t,a=`${e[0].toUpperCase()}${e.slice(1)}`;if("primitive"===e){if(void 0===s.object)throw new Error("R3F: Primitives without 'object' are invalid!");r=hB(s.object,{type:e,root:n,attach:o,primitive:!0})}else{const t=qC[a];if(!t)throw new Error(`R3F: ${a} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(i))throw new Error("R3F: The args prop must be an array!");r=hB(new t(...i),{type:e,root:n,attach:o,memoizedProps:{args:i}})}return void 0===r.__r3f.attach&&(r instanceof cg?r.__r3f.attach="geometry":r instanceof Df&&(r.__r3f.attach="material")),"inject"!==a&&yB(r,s),r}function r(e,t){let n=!1;var r,i;t&&(null!=(r=t.__r3f)&&r.attach?fB(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||hB(t,{}),t.__r3f.parent=e,wB(t),bB(t))}function i(e,t,n){let r=!1;if(t){var i,o;if(null!=(i=t.__r3f)&&i.attach)fB(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"}),e.dispatchEvent({type:"childadded",child:t});const i=e.children.filter((e=>e!==t)),o=i.indexOf(n);e.children=[...i.slice(0,o),t,...i.slice(o)],r=!0}r||null==(o=e.__r3f)||o.objects.push(t),t.__r3f||hB(t,{}),t.__r3f.parent=e,wB(t),bB(t)}}function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&[...e].forEach((e=>s(t,e,n)))}function s(e,t,n){if(t){var r,i,s;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((e=>e!==t))),null!=(i=t.__r3f)&&i.attach)gB(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var a;e.remove(t),null!=(a=t.__r3f)&&a.root&&function(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter((e=>e!==t)),n.initialHits=n.initialHits.filter((e=>e!==t)),n.hovered.forEach(((e,r)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach(((e,r)=>{SB(n.capturedMap,t,e,r)}))}(AB(t),t)}const A=null==(s=t.__r3f)?void 0:s.primitive,c=!A&&(void 0===n?null!==t.dispose:n);var l;if(!A)o(null==(l=t.__r3f)?void 0:l.objects,t,c),o(t.children,t,c);if(delete t.__r3f,c&&t.dispose&&"Scene"!==t.type){const e=()=>{try{t.dispose()}catch(e){}};"undefined"===typeof IS_REACT_ACT_ENVIRONMENT?(0,KC.unstable_scheduleCallback)(KC.unstable_IdlePriority,e):e()}bB(e)}}const a=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters."),l=GC()({createInstance:n,removeChild:s,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;const n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))},removeChildFromContainer:(e,t)=>{t&&s(e.getState().scene,t)},insertInContainerBefore:(e,t,n)=>{if(!t||!n)return;const r=e.getState().scene;r.__r3f&&i(r,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;const n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate(e,t,n,r){var i;if((null!=(i=null==e?void 0:e.__r3f)?i:{}).primitive&&r.object&&r.object!==e)return[!0];{const{args:t=[],children:i,...o}=r,{args:s=[],children:a,...l}=n;if(!Array.isArray(t))throw new Error("R3F: the args prop must be an array!");if(t.some(((e,t)=>e!==s[t])))return[!0];const A=mB(e,o,l,!0);return A.changes.length?[!1,A]:null}},commitUpdate(e,t,i,o,a,l){let[A,c]=t;A?function(e,t,i,o){var a;const l=null==(a=e.__r3f)?void 0:a.parent;if(!l)return;const A=n(t,i,e.__r3f.root);if(e.children){for(const t of e.children)t.__r3f&&r(A,t);e.children=e.children.filter((e=>!e.__r3f))}e.__r3f.objects.forEach((e=>r(A,e))),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||s(l,e),A.parent&&(A.__r3f.autoRemovedBeforeAppend=!0),r(l,A),A.raycast&&A.__r3f.eventCount&&AB(A).getState().internal.interaction.push(A);[o,o.alternate].forEach((e=>{null!==e&&(e.stateNode=A,e.ref&&("function"===typeof e.ref?e.ref(A):e.ref.current=A))}))}(e,i,a,l):yB(e,c)},commitMount(e,t,n,r){var i;const o=null!=(i=e.__r3f)?i:{};e.raycast&&o.handlers&&o.eventCount&&AB(e).getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>hB(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;const{attach:n,parent:r}=null!=(t=e.__r3f)?t:{};n&&r&&gB(r,e,n),e.isObject3D&&(e.visible=!1),bB(e)},unhideInstance(e,t){var n;const{attach:r,parent:i}=null!=(n=e.__r3f)?n:{};r&&i&&fB(i,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),bB(e)},createTextInstance:a,hideTextInstance:a,unhideTextInstance:a,getCurrentEventPriority:()=>t?t():OC.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!==typeof performance&&cB.fun(performance.now)?performance.now:cB.fun(Date.now)?Date.now:()=>0,scheduleTimeout:cB.fun(setTimeout)?setTimeout:void 0,cancelTimeout:cB.fun(clearTimeout)?clearTimeout:void 0});return{reconciler:l,applyProps:yB}}(0,(function(){var e;const t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return OC.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return OC.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return OC.ContinuousEventPriority;default:return OC.DefaultEventPriority}})),KB={objects:"shallow",strict:!1},qB=(e,t)=>{const n="function"===typeof e?e(t):e;return BB(n)?n:new Oy({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function XB(e){const t=zB.get(e),n=null==t?void 0:t.fiber,r=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const i="function"===typeof reportError?reportError:console.error,o=r||MB(jB,VB),s=n||WB.createContainer(o,OC.ConcurrentRoot,null,!1,null,"",i,null);let a;t||zB.set(e,{fiber:s,store:o});let l,A=!1;return{configure(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{gl:n,size:r,scene:i,events:s,onCreated:c,shadows:u=!1,linear:h=!1,flat:d=!1,legacy:p=!1,orthographic:f=!1,frameloop:g="always",dpr:m=[1,2],performance:v,raycaster:y,camera:b,onPointerMissed:w}=t,x=o.getState(),_=x.gl;x.gl||x.set({gl:_=qB(n,e)});let S=x.raycaster;S||x.set({raycaster:S=new YS});const{params:C,...B}=y||{};if(cB.equ(B,S,KB)||GB(S,{...B}),cB.equ(C,S.params,KB)||GB(S,{params:{...S.params,...C}}),!x.camera||x.camera===l&&!cB.equ(l,b,KB)){l=b;const e=b instanceof kg,t=e?b:f?new dm(0,0,0,0,.1,1e3):new Qg(75,0,.1,1e3);e||(t.position.z=5,b&&(GB(t,b),("aspect"in b||"left"in b||"right"in b||"bottom"in b||"top"in b)&&(t.manual=!0,t.updateProjectionMatrix())),x.camera||null!=b&&b.rotation||t.lookAt(0,0,0)),x.set({camera:t}),S.camera=t}if(!x.scene){let e;i instanceof zy?e=i:(e=new zy,i&&GB(e,i)),x.set({scene:hB(e)})}if(!x.xr){var E;const e=(e,t)=>{const n=o.getState();"never"!==n.frameloop&&VB(e,!0,n,t)},t=()=>{const t=o.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||jB(t)},n={connect(){const e=o.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){const e=o.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"===typeof(null==(E=_.xr)?void 0:E.addEventListener)&&n.connect(),x.set({xr:n})}if(_.shadowMap){const e=_.shadowMap.enabled,t=_.shadowMap.type;if(_.shadowMap.enabled=!!u,cB.boo(u))_.shadowMap.type=YA;else if(cB.str(u)){var M;const e={basic:qA,percentage:XA,soft:YA,variance:$A};_.shadowMap.type=null!=(M=e[u])?M:YA}else cB.obj(u)&&Object.assign(_.shadowMap,u);e===_.shadowMap.enabled&&t===_.shadowMap.type||(_.shadowMap.needsUpdate=!0)}const T=JC();if(T&&("enabled"in T?T.enabled=!p:"legacyMode"in T&&(T.legacyMode=p)),!A){GB(_,{outputEncoding:h?3e3:3001,toneMapping:d?Dc:zc})}x.legacy!==p&&x.set((()=>({legacy:p}))),x.linear!==h&&x.set((()=>({linear:h}))),x.flat!==d&&x.set((()=>({flat:d}))),!n||cB.fun(n)||BB(n)||cB.equ(n,_,KB)||GB(_,n),s&&!x.events.handlers&&x.set({events:s(o)});const F=function(e,t){const n="undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){const{width:e,height:r,top:i,left:o,updateStyle:s=n}=t;return{width:e,height:r,top:i,left:o,updateStyle:s}}if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:r,top:i,left:o}=e.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:o,updateStyle:n}}return"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:n}:{width:0,height:0,top:0,left:0}}(e,r);return cB.equ(F,x.size,KB)||x.setSize(F.width,F.height,F.updateStyle,F.top,F.left),m&&x.viewport.dpr!==aB(m)&&x.setDpr(m),x.frameloop!==g&&x.setFrameloop(g),x.onPointerMissed||x.set({onPointerMissed:w}),v&&!cB.equ(v,x.performance,KB)&&x.set((e=>({performance:{...e.performance,...v}}))),a=c,A=!0,this},render(t){return A||this.configure(),WB.updateContainer((0,g.jsx)(YB,{store:o,children:t,onCreated:a,rootElement:e}),s,null,(()=>{})),o},unmount(){$B(e)}}}function YB(e){let{store:t,children:n,onCreated:r,rootElement:i}=e;return eB((()=>{const e=t.getState();e.set((e=>({internal:{...e.internal,active:!0}}))),r&&r(e),t.getState().events.connected||null==e.events.connect||e.events.connect(i)}),[]),(0,g.jsx)(EB.Provider,{value:t,children:n})}function $B(e,t){const n=zB.get(e),r=null==n?void 0:n.fiber;if(r){const i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),WB.updateContainer(null,r,null,(()=>{i&&setTimeout((()=>{try{var n,r,o,s;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(o=i.gl)||null==o.forceContextLoss||o.forceContextLoss(),null!=(s=i.gl)&&s.xr&&i.xr.disconnect(),function(e){e.dispose&&"Scene"!==e.type&&e.dispose();for(const t in e)null==t.dispose||t.dispose(),delete e[t]}(i),zB.delete(e),t&&t(e)}catch(a){}}),500)}))}}WB.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:t.version});t.unstable_act;const JB={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ZB(e){const{handlePointer:t}=CB(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(JB).reduce(((e,n)=>({...e,[n]:t(n)})),{}),update:()=>{var t;const{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:i}=e.getState();null==i.disconnect||i.disconnect(),r((e=>({events:{...e.events,connected:t}}))),Object.entries(null!=(n=i.handlers)?n:[]).forEach((e=>{let[n,r]=e;const[i,o]=JB[n];t.addEventListener(i,r,{passive:o})}))},disconnect:()=>{const{set:t,events:n}=e.getState();var r;n.connected&&(Object.entries(null!=(r=n.handlers)?r:[]).forEach((e=>{let[t,r]=e;if(n&&n.connected instanceof HTMLElement){const[e]=JB[t];n.connected.removeEventListener(e,r)}})),t((e=>({events:{...e.events,connected:void 0}}))))}}}var eE,tE,nE=n(4695),rE=n.n(nE),iE=Object.defineProperty,oE=Object.defineProperties,sE=Object.getOwnPropertyDescriptors,aE=Object.getOwnPropertySymbols,lE=Object.prototype.hasOwnProperty,AE=Object.prototype.propertyIsEnumerable,cE=(e,t,n)=>t in e?iE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uE=(e,t)=>{for(var n in t||(t={}))lE.call(t,n)&&cE(e,n,t[n]);if(aE)for(var n of aE(t))AE.call(t,n)&&cE(e,n,t[n]);return e};"undefined"===typeof window||!(null==(eE=window.document)?void 0:eE.createElement)&&"ReactNative"!==(null==(tE=window.navigator)?void 0:tE.product)?t.useEffect:t.useLayoutEffect;function hE(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){const e=hE(r,t,n);if(e)return e;r=t?null:r.sibling}}function dE(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(ge){return e}}const pE=console.error;console.error=function(){const e=[...arguments].join("");if(!(null==e?void 0:e.startsWith("Warning:"))||!e.includes("useContext"))return pE.apply(this,arguments);console.error=pE};const fE=dE(t.createContext(null));class gE extends t.Component{render(){return t.createElement(fE.Provider,{value:this._reactInternals},this.props.children)}}function mE(){const e=t.useContext(fE);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const n=t.useId();return t.useMemo((()=>{for(const t of[e,null==e?void 0:e.alternate]){if(!t)continue;const e=hE(t,!1,(e=>{let t=e.memoizedState;for(;t;){if(t.memoizedState===n)return!0;t=t.next}}));if(e)return e}}),[e,n])}function vE(){const e=function(){const e=mE(),[n]=t.useState((()=>new Map));n.clear();let r=e;for(;r;){if(r.type&&"object"===typeof r.type){const e=void 0===r.type._context&&r.type.Provider===r.type?r.type:r.type._context;e&&e!==fE&&!n.has(e)&&n.set(e,t.useContext(dE(e)))}r=r.return}return n}();return t.useMemo((()=>Array.from(e.keys()).reduce(((n,r)=>i=>t.createElement(n,null,t.createElement(r.Provider,((e,t)=>oE(e,sE(t)))(uE({},i),{value:e.get(r)})))),(e=>t.createElement(gE,uE({},e))))),[e])}function yE(){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debounce:0,scroll:!1,offsetSize:!1};const o=r||"undefined"!==typeof window&&window.ResizeObserver,[s,a]=(0,t.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!o)return s.width=1280,s.height=800,[()=>{},s,()=>{}];const l=(0,t.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),A=e?"number"===typeof e?e:e.scroll:null,c=e?"number"===typeof e?e:e.resize:null,u=(0,t.useRef)(!1);(0,t.useEffect)((()=>(u.current=!0,()=>{u.current=!1})));const[h,d,p]=(0,t.useMemo)((()=>{const e=()=>{if(!l.current.element)return;const{left:e,top:t,width:n,height:r,bottom:o,right:s,x:A,y:c}=l.current.element.getBoundingClientRect(),h={left:e,top:t,width:n,height:r,bottom:o,right:s,x:A,y:c};l.current.element instanceof HTMLElement&&i&&(h.height=l.current.element.offsetHeight,h.width=l.current.element.offsetWidth),Object.freeze(h),u.current&&!xE(l.current.lastBounds,h)&&a(l.current.lastBounds=h)};return[e,c?rE()(e,c):e,A?rE()(e,A):e]}),[a,i,A,c]);function f(){l.current.scrollContainers&&(l.current.scrollContainers.forEach((e=>e.removeEventListener("scroll",p,!0))),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function g(){l.current.element&&(l.current.resizeObserver=new o(p),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach((e=>e.addEventListener("scroll",p,{capture:!0,passive:!0}))))}var m,v;return m=p,v=Boolean(n),(0,t.useEffect)((()=>{if(v){const e=m;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",e,!0)}}}),[m,v]),function(e){(0,t.useEffect)((()=>{const t=e;return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[e])}(d),(0,t.useEffect)((()=>{f(),g()}),[n,p,d]),(0,t.useEffect)((()=>f),[]),[e=>{e&&e!==l.current.element&&(f(),l.current.element=e,l.current.scrollContainers=bE(e),g())},s,h]}function bE(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some((e=>"auto"===e||"scroll"===e))&&t.push(e),[...t,...bE(e.parentElement)]}const wE=["x","y","top","bottom","left","right","width","height"],xE=(e,t)=>wE.every((n=>e[n]===t[n])),_E=t.forwardRef((function(n,r){let{children:i,fallback:o,resize:s,style:a,gl:l,events:A=ZB,eventSource:c,eventPrefix:u,shadows:h,linear:d,flat:p,legacy:f,orthographic:m,frameloop:v,dpr:y,performance:b,raycaster:w,camera:x,scene:_,onPointerMissed:S,onCreated:C,...B}=n;t.useMemo((()=>{return t=e,void Object.assign(qC,t);var t}),[]);const E=vE(),[M,T]=yE({scroll:!0,debounce:{scroll:50,resize:0},...s}),F=t.useRef(null),I=t.useRef(null);t.useImperativeHandle(r,(()=>F.current));const L=tB(S),[P,U]=t.useState(!1),[R,k]=t.useState(!1);if(P)throw P;if(R)throw R;const N=t.useRef(null);eB((()=>{const e=F.current;T.width>0&&T.height>0&&e&&(N.current||(N.current=XB(e)),N.current.configure({gl:l,events:A,shadows:h,linear:d,flat:p,legacy:f,orthographic:m,frameloop:v,dpr:y,performance:b,raycaster:w,camera:x,scene:_,size:T,onPointerMissed:function(){return null==L.current?void 0:L.current(...arguments)},onCreated:e=>{var t;null==e.events.connect||e.events.connect(c?(t=c)&&t.hasOwnProperty("current")?c.current:c:I.current),u&&e.setEvents({compute:(e,t)=>{const n=e[u+"X"],r=e[u+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==C||C(e)}}),N.current.render((0,g.jsx)(E,{children:(0,g.jsx)(rB,{set:k,children:(0,g.jsx)(t.Suspense,{fallback:(0,g.jsx)(nB,{set:U}),children:i})})})))})),t.useEffect((()=>{const e=F.current;if(e)return()=>$B(e)}),[]);const D=c?"none":"auto";return(0,g.jsx)("div",{ref:I,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:D,...a},...B,children:(0,g.jsx)("div",{ref:M,style:{width:"100%",height:"100%"},children:(0,g.jsx)("canvas",{ref:F,style:{display:"block"},children:o})})})})),SE=t.forwardRef((function(e,t){return(0,g.jsx)(gE,{children:(0,g.jsx)(_E,{...e,ref:t})})})),CE=e=>{let{hrv:n}=e;const r=(0,t.useRef)();return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=DB(),r=n.getState().internal.subscribe,i=tB(e);eB((()=>r(i,t,n)),[t,r,n])}((()=>{const e=n?.02*n:1;r.current.scale.set(e,e,e)})),(0,g.jsxs)("mesh",{ref:r,children:[(0,g.jsx)("sphereGeometry",{args:[1,32,32]}),(0,g.jsx)("meshStandardMaterial",{color:"blue"})]})},BE=e=>{let{hrv:t}=e;return(0,g.jsxs)(SE,{children:[(0,g.jsx)("ambientLight",{intensity:.5}),(0,g.jsx)("pointLight",{position:[10,10,10]}),(0,g.jsx)(CE,{hrv:t})]})};function EE(e){return e+.5|0}const ME=(e,t,n)=>Math.max(Math.min(e,n),t);function TE(e){return ME(EE(2.55*e),0,255)}function FE(e){return ME(EE(255*e),0,255)}function IE(e){return ME(EE(e/2.55)/100,0,1)}function LE(e){return ME(EE(100*e),0,100)}const PE={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},UE=[..."0123456789ABCDEF"],RE=e=>UE[15&e],kE=e=>UE[(240&e)>>4]+UE[15&e],NE=e=>(240&e)>>4===(15&e);function DE(e){var t=(e=>NE(e.r)&&NE(e.g)&&NE(e.b)&&NE(e.a))(e)?RE:kE;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const OE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function QE(e,t,n){const r=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function HE(e,t,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function zE(e,t,n){const r=QE(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function jE(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),o=Math.min(t,n,r),s=(i+o)/2;let a,l,A;return i!==o&&(A=i-o,l=s>.5?A/(2-i-o):A/(i+o),a=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,A,i),a=60*a+.5),[0|a,l||0,s]}function VE(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(FE)}function WE(e,t,n){return VE(QE,e,t,n)}function GE(e){return(e%360+360)%360}function KE(e){const t=OE.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?TE(+t[5]):FE(+t[5]));const i=GE(+t[2]),o=+t[3]/100,s=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return VE(zE,e,t,n)}(i,o,s):"hsv"===t[1]?function(e,t,n){return VE(HE,e,t,n)}(i,o,s):WE(i,o,s),{r:n[0],g:n[1],b:n[2],a:r}}const qE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},XE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let YE;function $E(e){YE||(YE=function(){const e={},t=Object.keys(XE),n=Object.keys(qE);let r,i,o,s,a;for(r=0;r<t.length;r++){for(s=a=t[r],i=0;i<n.length;i++)o=n[i],a=a.replace(o,qE[o]);o=parseInt(XE[s],16),e[a]=[o>>16&255,o>>8&255,255&o]}return e}(),YE.transparent=[0,0,0,0]);const t=YE[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const JE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const ZE=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,eM=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function tM(e,t,n){if(e){let r=jE(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=WE(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function nM(e,t){return e?Object.assign(t||{},e):e}function rM(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=FE(e[3]))):(t=nM(e,{r:0,g:0,b:0,a:1})).a=FE(t.a),t}function iM(e){return"r"===e.charAt(0)?function(e){const t=JE.exec(e);let n,r,i,o=255;if(t){if(t[7]!==n){const e=+t[7];o=t[8]?TE(e):ME(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?TE(n):ME(n,0,255)),r=255&(t[4]?TE(r):ME(r,0,255)),i=255&(t[6]?TE(i):ME(i,0,255)),{r:n,g:r,b:i,a:o}}}(e):KE(e)}class oM{constructor(e){if(e instanceof oM)return e;const t=typeof e;let n;"object"===t?n=rM(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*PE[e[1]],g:255&17*PE[e[2]],b:255&17*PE[e[3]],a:5===n?17*PE[e[4]]:255}:7!==n&&9!==n||(t={r:PE[e[1]]<<4|PE[e[2]],g:PE[e[3]]<<4|PE[e[4]],b:PE[e[5]]<<4|PE[e[6]],a:9===n?PE[e[7]]<<4|PE[e[8]]:255})),t}(e)||$E(e)||iM(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=nM(this._rgb);return e&&(e.a=IE(e.a)),e}set rgb(e){this._rgb=rM(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${IE(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?DE(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=jE(e),n=t[0],r=LE(t[1]),i=LE(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${IE(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const o=t===i?.5:t,s=2*o-1,a=n.a-r.a,l=((s*a===-1?s:(s+a)/(1+s*a))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=eM(IE(e.r)),i=eM(IE(e.g)),o=eM(IE(e.b));return{r:FE(ZE(r+n*(eM(IE(t.r))-r))),g:FE(ZE(i+n*(eM(IE(t.g))-i))),b:FE(ZE(o+n*(eM(IE(t.b))-o))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new oM(this.rgb)}alpha(e){return this._rgb.a=FE(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=EE(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return tM(this._rgb,2,e),this}darken(e){return tM(this._rgb,2,-e),this}saturate(e){return tM(this._rgb,1,e),this}desaturate(e){return tM(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=jE(e);n[0]=GE(n[0]+t),n=WE(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function sM(){}const aM=(()=>{let e=0;return()=>e++})();function lM(e){return null===e||"undefined"===typeof e}function AM(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function cM(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function uM(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function hM(e,t){return uM(e)?e:t}function dM(e,t){return"undefined"===typeof e?t:e}const pM=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function fM(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function gM(e,t,n,r){let i,o,s;if(AM(e))if(o=e.length,r)for(i=o-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<o;i++)t.call(n,e[i],i);else if(cM(e))for(s=Object.keys(e),o=s.length,i=0;i<o;i++)t.call(n,e[s[i]],s[i])}function mM(e,t){let n,r,i,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],o=t[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function vM(e){if(AM(e))return e.map(vM);if(cM(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=vM(e[n[i]]);return t}return e}function yM(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function bM(e,t,n,r){if(!yM(e))return;const i=t[e],o=n[e];cM(i)&&cM(o)?wM(i,o,r):t[e]=vM(o)}function wM(e,t,n){const r=AM(t)?t:[t],i=r.length;if(!cM(e))return e;const o=(n=n||{}).merger||bM;let s;for(let a=0;a<i;++a){if(s=r[a],!cM(s))continue;const t=Object.keys(s);for(let r=0,i=t.length;r<i;++r)o(t[r],e,s,n)}return e}function xM(e,t){return wM(e,t,{merger:_M})}function _M(e,t,n){if(!yM(e))return;const r=t[e],i=n[e];cM(r)&&cM(i)?xM(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=vM(i))}const SM={"":e=>e,x:e=>e.x,y:e=>e.y};function CM(e,t){const n=SM[t]||(SM[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function BM(e){return e.charAt(0).toUpperCase()+e.slice(1)}const EM=e=>"undefined"!==typeof e,MM=e=>"function"===typeof e,TM=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const FM=Math.PI,IM=2*FM,LM=IM+FM,PM=Number.POSITIVE_INFINITY,UM=FM/180,RM=FM/2,kM=FM/4,NM=2*FM/3,DM=Math.log10,OM=Math.sign;function QM(e,t,n){return Math.abs(e-t)<n}function HM(e){const t=Math.round(e);e=QM(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(DM(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function zM(e){return!isNaN(parseFloat(e))&&isFinite(e)}function jM(e,t,n){let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function VM(e){return e*(FM/180)}function WM(e){return e*(180/FM)}function GM(e){if(!uM(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function KM(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*FM&&(o+=IM),{angle:o,distance:i}}function qM(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function XM(e,t){return(e-t+LM)%IM-FM}function YM(e){return(e%IM+IM)%IM}function $M(e,t,n,r){const i=YM(e),o=YM(t),s=YM(n),a=YM(o-i),l=YM(s-i),A=YM(i-o),c=YM(i-s);return i===o||i===s||r&&o===s||a>l&&A<c}function JM(e,t,n){return Math.max(t,Math.min(n,e))}function ZM(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function eT(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,o=0;for(;i-o>1;)r=o+i>>1,n(r)?o=r:i=r;return{lo:o,hi:i}}const tT=(e,t,n,r)=>eT(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),nT=(e,t,n)=>eT(e,n,(r=>e[r][t]>=n));const rT=["push","pop","shift","splice","unshift"];function iT(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(rT.forEach((t=>{delete e[t]})),delete e._chartjs)}function oT(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const sT="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function aT(e,t){let n=[],r=!1;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];n=o,r||(r=!0,sT.call(window,(()=>{r=!1,e.apply(t,n)})))}}const lT=e=>"start"===e?"left":"end"===e?"right":"center",AT=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function cT(e,t,n){const r=t.length;let i=0,o=r;if(e._sorted){const{iScale:s,_parsed:a}=e,l=s.axis,{min:A,max:c,minDefined:u,maxDefined:h}=s.getUserBounds();u&&(i=JM(Math.min(tT(a,l,A).lo,n?r:tT(t,l,s.getPixelForValue(A)).lo),0,r-1)),o=h?JM(Math.max(tT(a,s.axis,c,!0).hi+1,n?0:tT(t,l,s.getPixelForValue(c),!0).hi+1),i,r)-i:r-i}return{start:i,count:o}}function uT(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const o=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}const hT=e=>0===e||1===e,dT=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*IM/n),pT=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*IM/n)+1,fT={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*RM),easeOutSine:e=>Math.sin(e*RM),easeInOutSine:e=>-.5*(Math.cos(FM*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>hT(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>hT(e)?e:dT(e,.075,.3),easeOutElastic:e=>hT(e)?e:pT(e,.075,.3),easeInOutElastic(e){const t=.1125;return hT(e)?e:e<.5?.5*dT(2*e,t,.45):.5+.5*pT(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-fT.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*fT.easeInBounce(2*e):.5*fT.easeOutBounce(2*e-1)+.5};function gT(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function mT(e){return gT(e)?e:new oM(e)}function vT(e){return gT(e)?e:new oM(e).saturate(.5).darken(.1).hexString()}const yT=["x","y","borderWidth","radius","tension"],bT=["color","borderColor","backgroundColor"];const wT=new Map;function xT(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=wT.get(n);return r||(r=new Intl.NumberFormat(e,t),wT.set(n,r)),r}(t,n).format(e)}const _T={values:e=>AM(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,o=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),o=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const s=DM(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),xT(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(DM(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?_T.numeric.call(this,e,t,n):""}};var ST={formatters:_T};const CT=Object.create(null),BT=Object.create(null);function ET(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function MT(e,t,n){return"string"===typeof t?wM(ET(e,t),n):wM(ET(e,""),t)}class TT{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>vT(t.backgroundColor),this.hoverBorderColor=(e,t)=>vT(t.borderColor),this.hoverColor=(e,t)=>vT(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return MT(this,e,t)}get(e){return ET(this,e)}describe(e,t){return MT(BT,e,t)}override(e,t){return MT(CT,e,t)}route(e,t,n,r){const i=ET(this,e),o=ET(this,n),s="_"+t;Object.defineProperties(i,{[s]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[s],t=o[r];return cM(e)?Object.assign({},t,e):dM(e,t)},set(e){this[s]=e}}})}apply(e){e.forEach((e=>e(this)))}}var FT=new TT({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:bT},numbers:{type:"number",properties:yT}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ST.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function IT(e,t,n,r,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,n.push(i)),o>r&&(r=o),r}function LT(e,t,n,r){let i=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},o=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let s=0;const a=n.length;let l,A,c,u,h;for(l=0;l<a;l++)if(u=n[l],void 0===u||null===u||AM(u)){if(AM(u))for(A=0,c=u.length;A<c;A++)h=u[A],void 0===h||null===h||AM(h)||(s=IT(e,i,o,s,h))}else s=IT(e,i,o,s,u);e.restore();const d=o.length/2;if(d>n.length){for(l=0;l<d;l++)delete i[o[l]];o.splice(0,d)}return s}function PT(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function UT(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function RT(e,t,n,r){kT(e,t,n,r,null)}function kT(e,t,n,r,i){let o,s,a,l,A,c,u,h;const d=t.pointStyle,p=t.rotation,f=t.radius;let g=(p||0)*UM;if(d&&"object"===typeof d&&(o=d.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),void e.restore();if(!(isNaN(f)||f<=0)){switch(e.beginPath(),d){default:i?e.ellipse(n,r,i/2,f,0,0,IM):e.arc(n,r,f,0,IM),e.closePath();break;case"triangle":c=i?i/2:f,e.moveTo(n+Math.sin(g)*c,r-Math.cos(g)*f),g+=NM,e.lineTo(n+Math.sin(g)*c,r-Math.cos(g)*f),g+=NM,e.lineTo(n+Math.sin(g)*c,r-Math.cos(g)*f),e.closePath();break;case"rectRounded":A=.516*f,l=f-A,s=Math.cos(g+kM)*l,u=Math.cos(g+kM)*(i?i/2-A:l),a=Math.sin(g+kM)*l,h=Math.sin(g+kM)*(i?i/2-A:l),e.arc(n-u,r-a,A,g-FM,g-RM),e.arc(n+h,r-s,A,g-RM,g),e.arc(n+u,r+a,A,g,g+RM),e.arc(n-h,r+s,A,g+RM,g+FM),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*f,c=i?i/2:l,e.rect(n-c,r-l,2*c,2*l);break}g+=kM;case"rectRot":u=Math.cos(g)*(i?i/2:f),s=Math.cos(g)*f,a=Math.sin(g)*f,h=Math.sin(g)*(i?i/2:f),e.moveTo(n-u,r-a),e.lineTo(n+h,r-s),e.lineTo(n+u,r+a),e.lineTo(n-h,r+s),e.closePath();break;case"crossRot":g+=kM;case"cross":u=Math.cos(g)*(i?i/2:f),s=Math.cos(g)*f,a=Math.sin(g)*f,h=Math.sin(g)*(i?i/2:f),e.moveTo(n-u,r-a),e.lineTo(n+u,r+a),e.moveTo(n+h,r-s),e.lineTo(n-h,r+s);break;case"star":u=Math.cos(g)*(i?i/2:f),s=Math.cos(g)*f,a=Math.sin(g)*f,h=Math.sin(g)*(i?i/2:f),e.moveTo(n-u,r-a),e.lineTo(n+u,r+a),e.moveTo(n+h,r-s),e.lineTo(n-h,r+s),g+=kM,u=Math.cos(g)*(i?i/2:f),s=Math.cos(g)*f,a=Math.sin(g)*f,h=Math.sin(g)*(i?i/2:f),e.moveTo(n-u,r-a),e.lineTo(n+u,r+a),e.moveTo(n+h,r-s),e.lineTo(n-h,r+s);break;case"line":s=i?i/2:Math.cos(g)*f,a=Math.sin(g)*f,e.moveTo(n-s,r-a),e.lineTo(n+s,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(i?i/2:f),r+Math.sin(g)*f);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function NT(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function DT(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function OT(e){e.restore()}function QT(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function HT(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function zT(e,t,n,r,i){if(i.strikethrough||i.underline){const o=e.measureText(r),s=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,A=n+o.actualBoundingBoxDescent,c=i.strikethrough?(l+A)/2:A;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(s,c),e.lineTo(a,c),e.stroke()}}function jT(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function VT(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=AM(t)?t:[t],a=o.strokeWidth>0&&""!==o.strokeColor;let l,A;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),lM(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,o),l=0;l<s.length;++l)A=s[l],o.backdrop&&jT(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),lM(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(A,n,r,o.maxWidth)),e.fillText(A,n,r,o.maxWidth),zT(e,n,r,A,o),r+=Number(i.lineHeight);e.restore()}function WT(e,t){const{x:n,y:r,w:i,h:o,radius:s}=t;e.arc(n+s.topLeft,r+s.topLeft,s.topLeft,1.5*FM,FM,!0),e.lineTo(n,r+o-s.bottomLeft),e.arc(n+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,FM,RM,!0),e.lineTo(n+i-s.bottomRight,r+o),e.arc(n+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,RM,0,!0),e.lineTo(n+i,r+s.topRight),e.arc(n+i-s.topRight,r+s.topRight,s.topRight,0,-RM,!0),e.lineTo(n+s.topLeft,r)}const GT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,KT=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function qT(e,t){const n=(""+e).match(GT);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const XT=e=>+e||0;function YT(e,t){const n={},r=cM(t),i=r?Object.keys(t):t,o=cM(e)?r?n=>dM(e[n],e[t[n]]):t=>e[t]:()=>e;for(const s of i)n[s]=XT(o(s));return n}function $T(e){return YT(e,{top:"y",right:"x",bottom:"y",left:"x"})}function JT(e){return YT(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ZT(e){const t=$T(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function eF(e,t){e=e||{},t=t||FT.font;let n=dM(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=dM(e.style,t.style);r&&!(""+r).match(KT)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:dM(e.family,t.family),lineHeight:qT(dM(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:dM(e.weight,t.weight),string:""};return i.string=function(e){return!e||lM(e.size)||lM(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function tF(e,t,n,r){let i,o,s,a=!0;for(i=0,o=e.length;i<o;++i)if(s=e[i],void 0!==s&&(void 0!==t&&"function"===typeof s&&(s=s(t),a=!1),void 0!==n&&AM(s)&&(s=s[n%s.length],a=!1),void 0!==s))return r&&!a&&(r.cacheable=!1),s}function nF(e,t){return Object.assign(Object.create(e),t)}function rF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=pF("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>rF([r,...e],t,i,n)};return new Proxy(o,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>lF(n,r,(()=>function(e,t,n,r){let i;for(const o of t)if(i=pF(sF(o,e),n),"undefined"!==typeof i)return aF(e,i)?hF(n,r,e,i):i}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>fF(e).includes(t),ownKeys:e=>fF(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function iF(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:oF(e,r),setContext:t=>iF(e,t,n,r),override:i=>iF(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>lF(e,t,(()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=e;let a=r[t];MM(a)&&s.isScriptable(t)&&(a=function(e,t,n,r){const{_proxy:i,_context:o,_subProxy:s,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(o,s||r);a.delete(e),aF(e,l)&&(l=hF(i._scopes,i,e,l));return l}(t,a,e,n));AM(a)&&a.length&&(a=function(e,t,n,r){const{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=n;if("undefined"!==typeof o.index&&r(e))return t[o.index%t.length];if(cM(t[0])){const n=t,r=i._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=hF(r,i,e,l);t.push(iF(n,o,s&&s[e],a))}}return t}(t,a,e,s.isIndexable));aF(t,a)&&(a=iF(a,i,o&&o[t],s));return a}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function oF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:MM(n)?n:()=>n,isIndexable:MM(r)?r:()=>r}}const sF=(e,t)=>e?e+BM(t):t,aF=(e,t)=>cM(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function lF(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function AF(e,t,n){return MM(e)?e(t,n):e}const cF=(e,t)=>!0===e?t:"string"===typeof e?CM(t,e):void 0;function uF(e,t,n,r,i){for(const o of t){const t=cF(n,o);if(t){e.add(t);const o=AF(t._fallback,n,i);if("undefined"!==typeof o&&o!==n&&o!==r)return o}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function hF(e,t,n,r){const i=t._rootScopes,o=AF(t._fallback,n,r),s=[...e,...i],a=new Set;a.add(r);let l=dF(a,s,n,o||n,r);return null!==l&&(("undefined"===typeof o||o===n||(l=dF(a,s,o,l,r),null!==l))&&rF(Array.from(a),[""],i,o,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];if(AM(i)&&cM(n))return n;return i||{}}(t,n,r))))}function dF(e,t,n,r,i){for(;n;)n=uF(e,t,n,r,i);return n}function pF(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function fF(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function gF(e,t,n,r){const{iScale:i}=e,{key:o="r"}=this._parsing,s=new Array(r);let a,l,A,c;for(a=0,l=r;a<l;++a)A=a+n,c=t[A],s[a]={r:i.parse(CM(c,o),A)};return s}const mF=Number.EPSILON||1e-14,vF=(e,t)=>t<e.length&&!e[t].skip&&e[t],yF=e=>"x"===e?"y":"x";function bF(e,t,n,r){const i=e.skip?t:e,o=t,s=n.skip?t:n,a=qM(o,i),l=qM(s,o);let A=a/(a+l),c=l/(a+l);A=isNaN(A)?0:A,c=isNaN(c)?0:c;const u=r*A,h=r*c;return{previous:{x:o.x-u*(s.x-i.x),y:o.y-u*(s.y-i.y)},next:{x:o.x+h*(s.x-i.x),y:o.y+h*(s.y-i.y)}}}function wF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=yF(t),r=e.length,i=Array(r).fill(0),o=Array(r);let s,a,l,A=vF(e,0);for(s=0;s<r;++s)if(a=l,l=A,A=vF(e,s+1),l){if(A){const e=A[t]-l[t];i[s]=0!==e?(A[n]-l[n])/e:0}o[s]=a?A?OM(i[s-1])!==OM(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}!function(e,t,n){const r=e.length;let i,o,s,a,l,A=vF(e,0);for(let c=0;c<r-1;++c)l=A,A=vF(e,c+1),l&&A&&(QM(t[c],0,mF)?n[c]=n[c+1]=0:(i=n[c]/t[c],o=n[c+1]/t[c],a=Math.pow(i,2)+Math.pow(o,2),a<=9||(s=3/Math.sqrt(a),n[c]=i*s*t[c],n[c+1]=o*s*t[c])))}(e,i,o),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=yF(n),i=e.length;let o,s,a,l=vF(e,0);for(let A=0;A<i;++A){if(s=a,a=l,l=vF(e,A+1),!a)continue;const i=a[n],c=a[r];s&&(o=(i-s[n])/3,a[`cp1${n}`]=i-o,a[`cp1${r}`]=c-o*t[A]),l&&(o=(l[n]-i)/3,a[`cp2${n}`]=i+o,a[`cp2${r}`]=c+o*t[A])}}(e,o,t)}function xF(e,t,n){return Math.max(Math.min(e,n),t)}function _F(e,t,n,r,i){let o,s,a,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)wF(e,i);else{let n=r?e[e.length-1]:e[0];for(o=0,s=e.length;o<s;++o)a=e[o],l=bF(n,a,e[Math.min(o+1,s-(r?0:1))%s],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}t.capBezierPoints&&function(e,t){let n,r,i,o,s,a=NT(e[0],t);for(n=0,r=e.length;n<r;++n)s=o,o=a,a=n<r-1&&NT(e[n+1],t),o&&(i=e[n],s&&(i.cp1x=xF(i.cp1x,t.left,t.right),i.cp1y=xF(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=xF(i.cp2x,t.left,t.right),i.cp2y=xF(i.cp2y,t.top,t.bottom)))}(e,n)}function SF(){return"undefined"!==typeof window&&"undefined"!==typeof document}function CF(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function BF(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const EF=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const MF=["top","right","bottom","left"];function TF(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=MF[i];r[o]=parseFloat(e[t+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const FF=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function IF(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=EF(n),o="border-box"===i.boxSizing,s=TF(i,"padding"),a=TF(i,"border","width"),{x:l,y:A,box:c}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:o}=r;let s,a,l=!1;if(FF(i,o,e.target))s=i,a=o;else{const e=t.getBoundingClientRect();s=r.clientX-e.left,a=r.clientY-e.top,l=!0}return{x:s,y:a,box:l}}(e,n),u=s.left+(c&&a.left),h=s.top+(c&&a.top);let{width:d,height:p}=t;return o&&(d-=s.width+a.width,p-=s.height+a.height),{x:Math.round((l-u)/d*n.width/r),y:Math.round((A-h)/p*n.height/r)}}const LF=e=>Math.round(10*e)/10;function PF(e,t,n,r){const i=EF(e),o=TF(i,"margin"),s=BF(i.maxWidth,e,"clientWidth")||PM,a=BF(i.maxHeight,e,"clientHeight")||PM,l=function(e,t,n){let r,i;if(void 0===t||void 0===n){const o=e&&CF(e);if(o){const e=o.getBoundingClientRect(),s=EF(o),a=TF(s,"border","width"),l=TF(s,"padding");t=e.width-l.width-a.width,n=e.height-l.height-a.height,r=BF(s.maxWidth,o,"clientWidth"),i=BF(s.maxHeight,o,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||PM,maxHeight:i||PM}}(e,t,n);let{width:A,height:c}=l;if("content-box"===i.boxSizing){const e=TF(i,"border","width"),t=TF(i,"padding");A-=t.width+e.width,c-=t.height+e.height}A=Math.max(0,A-o.width),c=Math.max(0,r?A/r:c-o.height),A=LF(Math.min(A,s,l.maxWidth)),c=LF(Math.min(c,a,l.maxHeight)),A&&!c&&(c=LF(A/2));return(void 0!==t||void 0!==n)&&r&&l.height&&c>l.height&&(c=l.height,A=LF(Math.floor(c*r))),{width:A,height:c}}function UF(e,t,n){const r=t||1,i=Math.floor(e.height*r),o=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const s=e.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||s.height!==i||s.width!==o)&&(e.currentDevicePixelRatio=r,s.height=i,s.width=o,e.ctx.setTransform(r,0,0,r,0,0),!0)}const RF=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};SF()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function kF(e,t){const n=function(e,t){return EF(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function NF(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function DF(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function OF(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},s=NF(e,i,n),a=NF(i,o,n),l=NF(o,t,n),A=NF(s,a,n),c=NF(a,l,n);return NF(A,c,n)}function QF(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function HF(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function zF(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function jF(e){return"angle"===e?{between:$M,compare:XM,normalize:YM}:{between:ZM,compare:(e,t)=>e-t,normalize:e=>e}}function VF(e){let{start:t,end:n,count:r,loop:i,style:o}=e;return{start:t%r,end:n%r,loop:i&&(n-t+1)%r===0,style:o}}function WF(e,t,n){if(!n)return[e];const{property:r,start:i,end:o}=n,s=t.length,{compare:a,between:l,normalize:A}=jF(r),{start:c,end:u,loop:h,style:d}=function(e,t,n){const{property:r,start:i,end:o}=n,{between:s,normalize:a}=jF(r),l=t.length;let A,c,{start:u,end:h,loop:d}=e;if(d){for(u+=l,h+=l,A=0,c=l;A<c&&s(a(t[u%l][r]),i,o);++A)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:d,style:e.style}}(e,t,n),p=[];let f,g,m,v=!1,y=null;const b=()=>v||l(i,m,f)&&0!==a(i,m),w=()=>!v||0===a(o,f)||l(o,m,f);for(let x=c,_=c;x<=u;++x)g=t[x%s],g.skip||(f=A(g[r]),f!==m&&(v=l(f,i,o),null===y&&b()&&(y=0===a(f,i)?x:_),null!==y&&w()&&(p.push(VF({start:y,end:x,loop:h,count:s,style:d})),y=null),_=x,m=f));return null!==y&&p.push(VF({start:y,end:u,loop:h,count:s,style:d})),p}function GF(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const o=WF(r[i],e.points,t);o.length&&n.push(...o)}return n}function KF(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),o=qF(e.options),{_datasetIndex:s,options:{spanGaps:a}}=e,l=n.length,A=[];let c=o,u=t[0].start,h=u;function d(e,t,r,i){const o=a?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=o;for(;n[t%l].skip;)t+=o;e%l!==t%l&&(A.push({start:e%l,end:t%l,loop:r,style:i}),c=i,u=t%l)}}for(const p of t){u=a?u:p.start;let e,t=n[u%l];for(h=u+1;h<=p.end;h++){const o=n[h%l];e=qF(r.setContext(nF(i,{type:"segment",p0:t,p1:o,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),XF(e,c)&&d(u,h-1,p.loop,c),t=o,c=e}u<h-1&&d(u,h-1,p.loop,c)}return A}(e,t,n,r):t}function qF(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function XF(e,t){if(!t)return!1;const n=[],r=function(e,t){return gT(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}class YF{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],o=t.duration;i.forEach((r=>r({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=sT.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let o,s=i.length-1,a=!1;for(;s>=0;--s)o=i[s],o._active?(o._total>n.duration&&(n.duration=o._total),o.tick(e),a=!0):(i[s]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var $F=new YF;const JF="transparent",ZF={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=mT(e||JF),i=r.valid&&mT(t||JF);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class eI{constructor(e,t,n,r){const i=t[n];r=tF([e.to,r,i,e.from]);const o=tF([e.from,i,r]);this._active=!0,this._fn=e.fn||ZF[e.type||typeof o],this._easing=fT[e.easing]||fT.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=tF([e.to,t,r,e.from]),this._from=tF([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,o=this._loop,s=this._to;let a;if(this._active=i!==s&&(o||t<n),!this._active)return this._target[r]=s,void this._notify(!0);t<0?this._target[r]=i:(a=t/n%2,a=o&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(i,s,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class tI{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!cM(e))return;const t=Object.keys(FT.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const i=e[r];if(!cM(i))return;const o={};for(const e of t)o[e]=i[e];(AM(i.properties)&&i.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,o)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(t),s=Date.now();let a;for(a=o.length-1;a>=0;--a){const l=o[a];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const A=t[l];let c=i[l];const u=n.get(l);if(c){if(u&&c.active()){c.update(u,A,s);continue}c.cancel()}u&&u.duration?(i[l]=c=new eI(u,e,l,A),r.push(c)):e[l]=A}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?($F.add(this._chart,n),!0):void 0}}function nI(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,o=void 0===n.max?t:0;return{start:r?o:i,end:r?i:o}}function rI(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function iI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,o="single"===r.mode;let s,a,l,A;if(null!==t){for(s=0,a=i.length;s<a;++s){if(l=+i[s],l===n){if(r.all)continue;break}A=e.values[l],uM(A)&&(o||0===t||OM(t)===OM(A))&&(t+=A)}return t}}function oI(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function sI(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function aI(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function lI(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:o,vScale:s,index:a}=r,l=o.axis,A=s.axis,c=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(o,s,r),u=t.length;let h;for(let d=0;d<u;++d){const e=t[d],{[l]:n,[A]:o}=e;h=(e._stacks||(e._stacks={}))[A]=sI(i,c,n),h[a]=o,h._top=aI(h,s,!0,r.type),h._bottom=aI(h,s,!1,r.type);(h._visualValues||(h._visualValues={}))[a]=o}}function AI(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function cI(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const uI=e=>"reset"===e||"none"===e,hI=(e,t)=>t?e:Object.assign({},e);class dI{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=oI(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&cI(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=dM(n.xAxisID,AI(e,"x")),o=t.yAxisID=dM(n.yAxisID,AI(e,"y")),s=t.rAxisID=dM(n.rAxisID,AI(e,"r")),a=t.indexAxis,l=t.iAxisID=r(a,i,o,s),A=t.vAxisID=r(a,o,i,s);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(A)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&iT(this._data,this),e._stacked&&cI(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(cM(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,i="x"===n.axis?"x":"y",o="x"===r.axis?"x":"y",s=Object.keys(e),a=new Array(s.length);let l,A,c;for(l=0,A=s.length;l<A;++l)c=s[l],a[l]={[i]:c,[o]:e[c]};return a}(t,e)}else if(n!==t){if(n){iT(n,this);const e=this._cachedMeta;cI(e),e._parsed=[]}t&&Object.isExtensible(t)&&(i=this,(r=t)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),rT.forEach((e=>{const t="_onData"+BM(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];const s=n.apply(this,i);return r._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...i)})),s}})})))),this._syncList=[],this._data=t}var r,i}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=oI(t.vScale,t),t.stack!==n.stack&&(r=!0,cI(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&lI(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:o}=n,s=i.axis;let a,l,A,c=0===e&&t===r.length||n._sorted,u=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,A=r;else{A=AM(r[e])?this.parseArrayData(n,r,e,t):cM(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===l[s]||u&&l[s]<u[s];for(a=0;a<t;++a)n._parsed[a+e]=l=A[a],c&&(i()&&(c=!1),u=l);n._sorted=c}o&&lI(this,A)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:o}=e,s=i.axis,a=o.axis,l=i.getLabels(),A=i===o,c=new Array(r);let u,h,d;for(u=0,h=r;u<h;++u)d=u+n,c[u]={[s]:A||i.parse(l[d],d),[a]:o.parse(t[d],d)};return c}parseArrayData(e,t,n,r){const{xScale:i,yScale:o}=e,s=new Array(r);let a,l,A,c;for(a=0,l=r;a<l;++a)A=a+n,c=t[A],s[a]={x:i.parse(c[0],A),y:o.parse(c[1],A)};return s}parseObjectData(e,t,n,r){const{xScale:i,yScale:o}=e,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l=new Array(r);let A,c,u,h;for(A=0,c=r;A<c;++A)u=A+n,h=t[u],l[A]={x:i.parse(CM(h,s),u),y:o.parse(CM(h,a),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,o=t[e.axis];return iI({keys:rI(r,!0),values:t._stacks[e.axis]._visualValues},o,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let o=null===i?NaN:i;const s=r&&n._stacks[t.axis];r&&s&&(r.values=s,o=iI(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,o=r.length,s=this._getOtherScale(e),a=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:rI(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:A,max:c}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(s);let u,h;function d(){h=r[u];const t=h[s.axis];return!uM(h[e.axis])||A>t||c<t}for(u=0;u<o&&(d()||(this.updateRangeFromParsed(l,e,h,a),!i));++u);if(i)for(u=o-1;u>=0;--u)if(!d()){this.updateRangeFromParsed(l,e,h,a);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,o;for(r=0,i=t.length;r<i;++r)o=t[r][e.axis],uM(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return cM(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(dM(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=nI(e,n),i=nI(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,o=[],s=this._drawStart||0,a=this._drawCount||r.length-s,l=this.options.drawActiveElementsOnTop;let A;for(n.dataset&&n.dataset.draw(e,i,s,a),A=s;A<s+a;++A){const t=r[A];t.hidden||(t.active&&l?o.push(t):t.draw(e,i))}for(A=0;A<o.length;++A)o[A].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return nF(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return nF(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,i=this._cachedDataOpts,o=e+"-"+t,s=i[o],a=this.enableOptionSharing&&EM(n);if(s)return hI(s,a);const l=this.chart.config,A=l.datasetElementScopeKeys(this._type,e),c=r?[`${e}Hover`,"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),A),h=Object.keys(FT.elements[e]),d=l.resolveNamedOptions(u,h,(()=>this.getContext(n,r,t)),c);return d.$shared&&(d.$shared=a,i[o]=Object.freeze(hI(d,a))),d}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,o=`animation-${t}`,s=i[o];if(s)return s;let a;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),o=r.getOptionScopes(this.getDataset(),i);a=r.createResolver(o,this.getContext(e,n,t))}const l=new tI(r,a&&a.animations);return a&&a._cacheable&&(i[o]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||uI(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:o}}updateElement(e,t,n,r){uI(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!uI(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[s,a,l]of this._syncList)this[s](a,l);this._syncList=[];const r=n.length,i=t.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,o=e+t;let s;const a=e=>{for(e.length+=t,s=e.length-1;s>=o;s--)e[s]=e[s-t]};for(a(i),s=e;s<o;++s)i[s]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&cI(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function pI(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,i=n.length;t<i;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=oT(r.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let r,i,o,s,a=t._length;const l=()=>{32767!==o&&-32768!==o&&(EM(s)&&(a=Math.min(a,Math.abs(o-s)||a)),s=o)};for(r=0,i=n.length;r<i;++r)o=t.getPixelForValue(n[r]),l();for(s=void 0,r=0,i=t.ticks.length;r<i;++r)o=t.getPixelForTick(r),l();return a}function fI(e,t,n,r){return AM(e)?function(e,t,n,r){const i=n.parse(e[0],r),o=n.parse(e[1],r),s=Math.min(i,o),a=Math.max(i,o);let l=s,A=a;Math.abs(s)>Math.abs(a)&&(l=a,A=s),t[n.axis]=A,t._custom={barStart:l,barEnd:A,start:i,end:o,min:s,max:a}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function gI(e,t,n,r){const i=e.iScale,o=e.vScale,s=i.getLabels(),a=i===o,l=[];let A,c,u,h;for(A=n,c=n+r;A<c;++A)h=t[A],u={},u[i.axis]=a||i.parse(s[A],A),l.push(fI(h,u,o,A));return l}function mI(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function vI(e,t,n,r){let i=t.borderSkipped;const o={};if(!i)return void(e.borderSkipped=o);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:l,top:A,bottom:c}=function(e){let t,n,r,i,o;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:t,top:i,bottom:o}}(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=A:(n._bottom||0)===r?i=c:(o[yI(c,s,a,l)]=!0,i=A)),o[yI(i,s,a,l)]=!0,e.borderSkipped=o}function yI(e,t,n,r){var i,o,s;return r?(s=n,e=bI(e=(i=e)===(o=t)?s:i===s?o:i,n,t)):e=bI(e,t,n),e}function bI(e,t,n){return"start"===e?t:"end"===e?n:e}function wI(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}class xI extends dI{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const o=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:r,lineWidth:o.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,o,s=e=>+n[e];if(cM(n[e])){const{key:e="value"}=this._parsing;s=t=>+CM(n[t],e)}for(i=e,o=e+t;i<o;++i)r._parsed[i]=s(i)}}_getRotation(){return VM(this.options.rotation-90)}_getCircumference(){return VM(this.options.circumference)}_getRotationExtents(){let e=IM,t=-IM;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),o=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,s=Math.max((Math.min(n.width,n.height)-o)/2,0),a=Math.min((l=this.options.cutout,A=s,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/A),1);var l,A;const c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:p,offsetX:f,offsetY:g}=function(e,t,n){let r=1,i=1,o=0,s=0;if(t<IM){const a=e,l=a+t,A=Math.cos(a),c=Math.sin(a),u=Math.cos(l),h=Math.sin(l),d=(e,t,r)=>$M(e,a,l,!0)?1:Math.max(t,t*n,r,r*n),p=(e,t,r)=>$M(e,a,l,!0)?-1:Math.min(t,t*n,r,r*n),f=d(0,A,u),g=d(RM,c,h),m=p(FM,A,u),v=p(FM+RM,c,h);r=(f-m)/2,i=(g-v)/2,o=-(f+m)/2,s=-(g+v)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:s}}(h,u,a),m=(n.width-o)/d,v=(n.height-o)/p,y=Math.max(Math.min(m,v)/2,0),b=pM(this.options.radius,y),w=(b-Math.max(b*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*b,this.offsetY=g*b,r.total=this.calculateTotal(),this.outerRadius=b-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/IM)}updateElements(e,t,n,r){const i="reset"===r,o=this.chart,s=o.chartArea,a=o.options.animation,l=(s.left+s.right)/2,A=(s.top+s.bottom)/2,c=i&&a.animateScale,u=c?0:this.innerRadius,h=c?0:this.outerRadius,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(t,r);let f,g=this._getRotation();for(f=0;f<t;++f)g+=this._circumference(f,i);for(f=t;f<t+n;++f){const t=this._circumference(f,i),n=e[f],o={x:l+this.offsetX,y:A+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:u};p&&(o.options=d||this.resolveDataElementOptions(f,n.active?"active":r)),g+=t,this.updateElement(n,f,o,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?IM*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=xT(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,i,o,s,a;if(!e)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),e=o.data,s=o.controller;break}if(!e)return 0;for(r=0,i=e.length;r<i;++r)a=s.resolveDataElementOptions(r),"inner"!==a.borderAlign&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(dM(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class _I extends dI{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,o=this.chart._animationsDisabled;let{start:s,count:a}=cT(t,r,o);this._drawStart=s,this._drawCount=a,uT(t)&&(s=0,a=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:l},e),this.updateElements(r,s,a,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:o,vScale:s,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:A,includeOptions:c}=this._getSharedOptions(t,r),u=o.axis,h=s.axis,{spanGaps:d,segment:p}=this.options,f=zM(d)?d:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||"none"===r,m=t+n,v=e.length;let y=t>0&&this.getParsed(t-1);for(let b=0;b<v;++b){const n=e[b],d=g?n:{};if(b<t||b>=m){d.skip=!0;continue}const v=this.getParsed(b),w=lM(v[h]),x=d[u]=o.getPixelForValue(v[u],b),_=d[h]=i||w?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,v,a):v[h],b);d.skip=isNaN(x)||isNaN(_)||w,d.stop=b>0&&Math.abs(v[u]-y[u])>f,p&&(d.parsed=v,d.raw=l.data[b]),c&&(d.options=A||this.resolveDataElementOptions(b,n.active?"active":r)),g||this.updateElement(n,b,d,r),y=v}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class SI extends dI{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const o=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:r,lineWidth:o.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=xT(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}parseObjectData(e,t,n,r){return gF.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),o=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,n,r){const i="reset"===r,o=this.chart,s=o.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,A=a.yCenter,c=a.getIndexAngle(0)-.5*FM;let u,h=c;const d=360/this.countVisibleElements();for(u=0;u<t;++u)h+=this._computeAngle(u,r,d);for(u=t;u<t+n;u++){const t=e[u];let n=h,p=h+this._computeAngle(u,r,d),f=o.getDataVisibility(u)?a.getDistanceFromCenterForValue(this.getParsed(u).r):0;h=p,i&&(s.animateScale&&(f=0),s.animateRotate&&(n=p=c));const g={x:l,y:A,innerRadius:0,outerRadius:f,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(u,t.active?"active":r)};this.updateElement(t,u,g,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?VM(this.resolveDataElementOptions(e,t).angle||n):0}}var CI=Object.freeze({__proto__:null,BarController:class extends dI{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,r){return gI(e,t,n,r)}parseArrayData(e,t,n,r){return gI(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:i,vScale:o}=e,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l="x"===i.axis?s:a,A="x"===o.axis?s:a,c=[];let u,h,d,p;for(u=n,h=n+r;u<h;++u)p=t[u],d={},d[i.axis]=i.parse(CM(p,l),u),c.push(fI(CM(p,A),d,o,u));return c}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,i=this.getParsed(e),o=i._custom,s=mI(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const i="reset"===r,{index:o,_cachedMeta:{vScale:s}}=this,a=s.getBasePixel(),l=s.isHorizontal(),A=this._getRuler(),{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=i||lM(t[s.axis])?{base:a,head:a}:this._calculateBarValuePixels(h),d=this._calculateBarIndexPixels(h,A),p=(t._stacks||{})[s.axis],f={horizontal:l,base:n.base,enableBorderRadius:!p||mI(t._custom)||o===p._top||o===p._bottom,x:l?n.head:d.center,y:l?d.center:n.head,height:l?d.size:Math.abs(n.size),width:l?Math.abs(n.size):d.size};u&&(f.options=c||this.resolveDataElementOptions(h,e[h].active?"active":r));const g=f.options||e[h].options;vI(f,g,p,o),wI(f,g,A.ratio),this.updateElement(e[h],h,f,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),i=n.options.stacked,o=[],s=this._cachedMeta.controller.getParsed(t),a=s&&s[n.axis],l=e=>{const t=e._parsed.find((e=>e[n.axis]===a)),r=t&&t[e.vScale.axis];if(lM(r)||isNaN(r))return!0};for(const A of r)if((void 0===t||!l(A))&&((!1===i||-1===o.indexOf(A.stack)||void 0===i&&void 0===A.stack)&&o.push(A.stack),A.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let i,o;for(i=0,o=t.data.length;i<o;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const s=e.barThickness;return{min:s||pI(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:s?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:i,minBarLength:o}}=this,s=i||0,a=this.getParsed(e),l=a._custom,A=mI(l);let c,u,h=a[t.axis],d=0,p=n?this.applyStack(t,a,n):h;p!==h&&(d=p-h,p=h),A&&(h=l.barStart,p=l.barEnd-l.barStart,0!==h&&OM(h)!==OM(l.barEnd)&&(d=0),d+=h);const f=lM(i)||A?d:i;let g=t.getPixelForValue(f);if(c=this.chart.getDataVisibility(e)?t.getPixelForValue(d+p):g,u=c-g,Math.abs(u)<o){u=function(e,t,n){return 0!==e?OM(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(u,t,s)*o,h===s&&(g-=u/2);const e=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),l=Math.min(e,i),d=Math.max(e,i);g=Math.max(Math.min(g,d),l),c=g+u,n&&!A&&(a._stacks[t.axis]._visualValues[r]=t.getValueForPixel(c)-t.getValueForPixel(g))}if(g===t.getPixelForValue(s)){const e=OM(u)*t.getLineWidthForValue(s)/2;g+=e,u-=e}return{size:u,base:g,head:c,center:c+u/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,i=r.skipNull,o=dM(r.maxBarThickness,1/0);let s,a;if(t.grouped){const n=i?this._getStackCount(e):t.stackCount,l="flex"===r.barThickness?function(e,t,n,r){const i=t.pixels,o=i[e];let s=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;null===s&&(s=o-(null===a?t.end-t.start:a-o)),null===a&&(a=o+o-s);const A=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/r,ratio:n.barPercentage,start:A}}(e,t,r,n):function(e,t,n,r){const i=n.barThickness;let o,s;return lM(i)?(o=t.min*n.categoryPercentage,s=n.barPercentage):(o=i*r,s=1),{chunk:o/r,ratio:s,start:t.pixels[e]-o/2}}(e,t,r,n),A=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);s=l.start+l.chunk*A+l.chunk/2,a=Math.min(o,l.chunk*l.ratio)}else s=n.getPixelForValue(this.getParsed(e)[n.axis],e),a=Math.min(o,t.min*t.ratio);return{base:s-a/2,head:s+a/2,center:s,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)null===this.getParsed(i)[t.axis]||n[i].hidden||n[i].draw(this._ctx)}},BubbleController:class extends dI{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const i=super.parsePrimitiveData(e,t,n,r);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+n).radius;return i}parseArrayData(e,t,n,r){const i=super.parseArrayData(e,t,n,r);for(let o=0;o<i.length;o++){const e=t[n+o];i[o]._custom=dM(e[2],this.resolveDataElementOptions(o+n).radius)}return i}parseObjectData(e,t,n,r){const i=super.parseObjectData(e,t,n,r);for(let o=0;o<i.length;o++){const e=t[n+o];i[o]._custom=dM(e&&e.r&&+e.r,this.resolveDataElementOptions(o+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,o=this.getParsed(e),s=r.getLabelForValue(o.x),a=i.getLabelForValue(o.y),l=o._custom;return{label:n[e]||"",value:"("+s+", "+a+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:o,vScale:s}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(t,r),A=o.axis,c=s.axis;for(let u=t;u<t+n;u++){const t=e[u],n=!i&&this.getParsed(u),h={},d=h[A]=i?o.getPixelForDecimal(.5):o.getPixelForValue(n[A]),p=h[c]=i?s.getBasePixel():s.getPixelForValue(n[c]);h.skip=isNaN(d)||isNaN(p),l&&(h.options=a||this.resolveDataElementOptions(u,t.active?"active":r),i&&(h.options.radius=0)),this.updateElement(t,u,h,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==t&&(r.radius=0),r.radius+=dM(n&&n._custom,i),r}},DoughnutController:xI,LineController:_I,PieController:class extends xI{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:SI,RadarController:class extends dI{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return gF.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const o={_loop:!0,_fullLoop:i.length===r.length,options:t};this.updateElement(n,void 0,o,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const i=this._cachedMeta.rScale,o="reset"===r;for(let s=t;s<t+n;s++){const t=e[s],n=this.resolveDataElementOptions(s,t.active?"active":r),a=i.getPointPositionForValue(s,this.getParsed(s).r),l=o?i.xCenter:a.x,A=o?i.yCenter:a.y,c={x:l,y:A,angle:a.angle,skip:isNaN(l)||isNaN(A),options:n};this.updateElement(t,s,c,r)}}},ScatterController:class extends dI{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,o=this.getParsed(e),s=r.getLabelForValue(o.x),a=i.getLabelForValue(o.y);return{label:n[e]||"",value:"("+s+", "+a+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:i,count:o}=cT(t,n,r);if(this._drawStart=i,this._drawCount=o,uT(t)&&(i=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:i,_dataset:o}=t;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=n;const s=this.resolveDatasetElementOptions(e);s.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:s},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,i,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const i="reset"===r,{iScale:o,vScale:s,_stacked:a,_dataset:l}=this._cachedMeta,A=this.resolveDataElementOptions(t,r),c=this.getSharedOptions(A),u=this.includeOptions(r,c),h=o.axis,d=s.axis,{spanGaps:p,segment:f}=this.options,g=zM(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||i||"none"===r;let v=t>0&&this.getParsed(t-1);for(let y=t;y<t+n;++y){const t=e[y],n=this.getParsed(y),A=m?t:{},p=lM(n[d]),b=A[h]=o.getPixelForValue(n[h],y),w=A[d]=i||p?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,n,a):n[d],y);A.skip=isNaN(b)||isNaN(w)||p,A.stop=y>0&&Math.abs(n[h]-v[h])>g,f&&(A.parsed=n,A.raw=l.data[y]),u&&(A.options=c||this.resolveDataElementOptions(y,t.active?"active":r)),m||this.updateElement(t,y,A,r),v=n}this.updateSharedOptions(c,r,A)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const i=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,i,o)/2}}});function BI(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class EI{static override(e){Object.assign(EI.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return BI()}parse(){return BI()}format(){return BI()}add(){return BI()}diff(){return BI()}startOf(){return BI()}endOf(){return BI()}}var MI=EI;function TI(e,t,n,r){const{controller:i,data:o,_sorted:s}=e,a=i._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&s&&o.length){const e=a._reversePixels?nT:tT;if(!r)return e(o,t,n);if(i._sharedOptions){const r=o[0],i="function"===typeof r.getRange&&r.getRange(t);if(i){const r=e(o,t,n-i),s=e(o,t,n+i);return{lo:r.lo,hi:s.hi}}}}return{lo:0,hi:o.length-1}}function FI(e,t,n,r,i){const o=e.getSortedVisibleDatasetMetas(),s=n[t];for(let a=0,l=o.length;a<l;++a){const{index:e,data:n}=o[a],{lo:l,hi:A}=TI(o[a],t,s,i);for(let t=l;t<=A;++t){const i=n[t];i.skip||r(i,e,t)}}}function II(e,t,n,r,i){const o=[];if(!i&&!e.isPointInArea(t))return o;return FI(e,n,t,(function(n,s,a){(i||NT(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&o.push({element:n,datasetIndex:s,index:a})}),!0),o}function LI(e,t,n,r,i,o){let s=[];const a=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,o=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}(n);let l=Number.POSITIVE_INFINITY;return FI(e,n,t,(function(n,A,c){const u=n.inRange(t.x,t.y,i);if(r&&!u)return;const h=n.getCenterPoint(i);if(!(!!o||e.isPointInArea(h))&&!u)return;const d=a(t,h);d<l?(s=[{element:n,datasetIndex:A,index:c}],l=d):d===l&&s.push({element:n,datasetIndex:A,index:c})})),s}function PI(e,t,n,r,i,o){return o||e.isPointInArea(t)?"r"!==n||r?LI(e,t,n,r,i,o):function(e,t,n,r){let i=[];return FI(e,n,t,(function(e,n,o){const{startAngle:s,endAngle:a}=e.getProps(["startAngle","endAngle"],r),{angle:l}=KM(e,{x:t.x,y:t.y});$M(l,s,a)&&i.push({element:e,datasetIndex:n,index:o})})),i}(e,t,n,i):[]}function UI(e,t,n,r,i){const o=[],s="x"===n?"inXRange":"inYRange";let a=!1;return FI(e,n,t,((e,r,l)=>{e[s]&&e[s](t[n],i)&&(o.push({element:e,datasetIndex:r,index:l}),a=a||e.inRange(t.x,t.y,i))})),r&&!a?[]:o}var RI={evaluateInteractionItems:FI,modes:{index(e,t,n,r){const i=IF(t,e),o=n.axis||"x",s=n.includeInvisible||!1,a=n.intersect?II(e,i,o,r,s):PI(e,i,o,!1,r,s),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=a[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,r){const i=IF(t,e),o=n.axis||"xy",s=n.includeInvisible||!1;let a=n.intersect?II(e,i,o,r,s):PI(e,i,o,!1,r,s);if(a.length>0){const t=a[0].datasetIndex,n=e.getDatasetMeta(t).data;a=[];for(let e=0;e<n.length;++e)a.push({element:n[e],datasetIndex:t,index:e})}return a},point:(e,t,n,r)=>II(e,IF(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=IF(t,e),o=n.axis||"xy",s=n.includeInvisible||!1;return PI(e,i,o,n.intersect,r,s)},x:(e,t,n,r)=>UI(e,IF(t,e),"x",n.intersect,r),y:(e,t,n,r)=>UI(e,IF(t,e),"y",n.intersect,r)}};const kI=["left","top","right","bottom"];function NI(e,t){return e.filter((e=>e.pos===t))}function DI(e,t){return e.filter((e=>-1===kI.indexOf(e.pos)&&e.box.axis===t))}function OI(e,t){return e.sort(((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function QI(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!kI.includes(r))continue;const o=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let o,s,a;for(o=0,s=e.length;o<s;++o){a=e[o];const{fullSize:s}=a.box,l=n[a.stack],A=l&&a.stackWeight/l.weight;a.horizontal?(a.width=A?A*r:s&&t.availableWidth,a.height=i):(a.width=r,a.height=A?A*i:s&&t.availableHeight)}return n}function HI(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function zI(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function jI(e,t,n,r){const{pos:i,box:o}=n,s=e.maxPadding;if(!cM(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?o.height:o.width),n.size=t.size/t.count,e[i]+=n.size}o.getPadding&&zI(s,o.getPadding());const a=Math.max(0,t.outerWidth-HI(s,e,"left","right")),l=Math.max(0,t.outerHeight-HI(s,e,"top","bottom")),A=a!==e.w,c=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:A,other:c}:{same:c,other:A}}function VI(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function WI(e,t,n,r){const i=[];let o,s,a,l,A,c;for(o=0,s=e.length,A=0;o<s;++o){a=e[o],l=a.box,l.update(a.width||t.w,a.height||t.h,VI(a.horizontal,t));const{same:s,other:u}=jI(t,n,a,r);A|=s&&i.length,c=c||u,l.fullSize||i.push(a)}return A&&WI(i,t,n,r)||c}function GI(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function KI(e,t,n,r){const i=n.padding;let{x:o,y:s}=t;for(const a of e){const e=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},A=a.stackWeight/l.weight||1;if(a.horizontal){const r=t.w*A,o=l.size||e.height;EM(l.start)&&(s=l.start),e.fullSize?GI(e,i.left,s,n.outerWidth-i.right-i.left,o):GI(e,t.left+l.placed,s,r,o),l.start=s,l.placed+=r,s=e.bottom}else{const r=t.h*A,s=l.size||e.width;EM(l.start)&&(o=l.start),e.fullSize?GI(e,o,i.top,s,n.outerHeight-i.bottom-i.top):GI(e,o,t.top+l.placed,s,r),l.start=o,l.placed+=r,o=e.right}}t.x=o,t.y=s}var qI={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=ZT(e.options.layout.padding),o=Math.max(t-i.width,0),s=Math.max(n-i.height,0),a=function(e){const t=function(e){const t=[];let n,r,i,o,s,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:o,options:{stack:s,stackWeight:a=1}}=i),t.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return t}(e),n=OI(t.filter((e=>e.box.fullSize)),!0),r=OI(NI(t,"left"),!0),i=OI(NI(t,"right")),o=OI(NI(t,"top"),!0),s=OI(NI(t,"bottom")),a=DI(t,"x"),l=DI(t,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(l).concat(s).concat(a),chartArea:NI(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:o.concat(s).concat(a)}}(e.boxes),l=a.vertical,A=a.horizontal;gM(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const c=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,u=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/c,hBoxMaxHeight:s/2}),h=Object.assign({},i);zI(h,ZT(r));const d=Object.assign({maxPadding:h,w:o,h:s,x:i.left,y:i.top},i),p=QI(l.concat(A),u);WI(a.fullSize,d,u,p),WI(l,d,u,p),WI(A,d,u,p)&&WI(l,d,u,p),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(d),KI(a.leftAndTop,d,u,p),d.x+=d.w,d.y+=d.h,KI(a.rightAndBottom,d,u,p),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},gM(a.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})}))}};class XI{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class YI extends XI{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const $I="$chartjs",JI={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ZI=e=>null===e||""===e;const eL=!!RF&&{passive:!0};function tL(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,eL)}function nL(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function rL(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||nL(n.addedNodes,r),t=t&&!nL(n.removedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function iL(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||nL(n.removedNodes,r),t=t&&!nL(n.addedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const oL=new Map;let sL=0;function aL(){const e=window.devicePixelRatio;e!==sL&&(sL=e,oL.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function lL(e,t,n){const r=e.canvas,i=r&&CF(r);if(!i)return;const o=aT(((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()}),window),s=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||o(n,r)}));return s.observe(i),function(e,t){oL.size||window.addEventListener("resize",aL),oL.set(e,t)}(e,o),s}function AL(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){oL.delete(e),oL.size||window.removeEventListener("resize",aL)}(e)}function cL(e,t,n){const r=e.canvas,i=aT((t=>{null!==e.ctx&&n(function(e,t){const n=JI[e.type]||e.type,{x:r,y:i}=IF(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,eL)}(r,t,i),i}class uL extends XI{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[$I]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",ZI(i)){const t=kF(e,"width");void 0!==t&&(e.width=t)}if(ZI(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=kF(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[$I])return!1;const n=t[$I].initial;["height","width"].forEach((e=>{const r=n[e];lM(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[$I],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:rL,detach:iL,resize:lL}[t]||cL;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:AL,detach:AL,resize:AL}[t]||tL)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return PF(e,t,n,r)}isAttached(e){const t=e&&CF(e);return!(!t||!t.isConnected)}}class hL{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return zM(this.x)&&zM(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function dL(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),o=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],s=o.length,a=o[0],l=o[s-1],A=[];if(s>i)return function(e,t,n,r){let i,o=0,s=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===s&&(t.push(e[i]),o++,s=n[o*r])}(t,A,o,s/i),A;const c=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const o=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let s=0,a=o.length-1;s<a;s++){const e=o[s];if(e>i)return e}return Math.max(i,1)}(o,t,i);if(s>0){let e,n;const r=s>1?Math.round((l-a)/(s-1)):null;for(pL(t,A,c,lM(r)?0:a-r,a),e=0,n=s-1;e<n;e++)pL(t,A,c,o[e],o[e+1]);return pL(t,A,c,l,lM(r)?t.length:l+r),A}return pL(t,A,c),A}function pL(e,t,n,r,i){const o=dM(r,0),s=Math.min(dM(i,e.length),e.length);let a,l,A,c=0;for(n=Math.ceil(n),i&&(a=i-r,n=a/Math.floor(a/n)),A=o;A<0;)c++,A=Math.round(o+c*n);for(l=Math.max(o,0);l<s;l++)l===A&&(t.push(e[l]),c++,A=Math.round(o+c*n))}const fL=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,gL=(e,t)=>Math.min(t||e,e);function mL(e,t){const n=[],r=e.length/t,i=e.length;let o=0;for(;o<i;o+=r)n.push(e[Math.floor(o)]);return n}function vL(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),o=e._startPixel,s=e._endPixel,a=1e-6;let l,A=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(A-o,s-A):0===t?(e.getPixelForTick(1)-A)/2:(A-e.getPixelForTick(i-1))/2,A+=i<t?l:-l,A<o-a||A>s+a)))return A}function yL(e){return e.drawTicks?e.tickLength:0}function bL(e,t){if(!e.display)return 0;const n=eF(e.font,t),r=ZT(e.padding);return(AM(e.text)?e.text.length:1)*n.lineHeight+r.height}function wL(e,t,n){let r=lT(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class xL extends hL{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=hM(e,Number.POSITIVE_INFINITY),t=hM(t,Number.NEGATIVE_INFINITY),n=hM(n,Number.POSITIVE_INFINITY),r=hM(r,Number.NEGATIVE_INFINITY),{min:hM(e,n),max:hM(t,r),minDefined:uM(e),maxDefined:uM(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:o}=this.getUserBounds();if(i&&o)return{min:n,max:r};const s=this.getMatchingVisibleMetas();for(let a=0,l=s.length;a<l;++a)t=s[a].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),o||(r=Math.max(r,t.max));return n=o&&n>r?r:n,r=i&&n>r?n:r,{min:hM(n,hM(r,n)),max:hM(r,hM(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){fM(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,o=pM(t,(i-r)/2),s=(e,t)=>n&&0===e?0:e+t;return{min:s(r,-Math.abs(o)),max:s(i,o)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=s<this.ticks.length;this._convertTicksToLabels(a?mL(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=dL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){fM(this.options.afterUpdate,[this])}beforeSetDimensions(){fM(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){fM(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),fM(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){fM(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=fM(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){fM(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){fM(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=gL(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let o,s,a,l=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const A=this._getLabelSizes(),c=A.widest.width,u=A.highest.height,h=JM(this.chart.width-c,0,this.maxWidth);o=e.offset?this.maxWidth/n:h/(n-1),c+6>o&&(o=h/(n-(e.offset?.5:1)),s=this.maxHeight-yL(e.grid)-t.padding-bL(e.title,this.chart.options.font),a=Math.sqrt(c*c+u*u),l=WM(Math.min(Math.asin(JM((A.highest.height+6)/o,-1,1)),Math.asin(JM(s/a,-1,1))-Math.asin(JM(u/a,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){fM(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){fM(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){const o=bL(r,t.options.font);if(s?(e.width=this.maxWidth,e.height=yL(i)+o):(e.height=this.maxHeight,e.width=yL(i)+o),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:o}=this._getLabelSizes(),a=2*n.padding,l=VM(this.labelRotation),A=Math.cos(l),c=Math.sin(l);if(s){const t=n.mirror?0:c*i.width+A*o.height;e.height=Math.min(this.maxHeight,e.height+t+a)}else{const t=n.mirror?0:A*i.width+c*o.height;e.width=Math.min(this.maxWidth,e.width+t+a)}this._calculatePadding(t,r,c,A)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:o},position:s}=this.options,a=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,A=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,u=0;a?l?(c=r*e.width,u=n*t.height):(c=n*e.height,u=r*t.width):"start"===i?u=t.width:"end"===i?c=e.width:"inner"!==i&&(c=e.width/2,u=t.width/2),this.paddingLeft=Math.max((c-s+o)*this.width/(this.width-s),0),this.paddingRight=Math.max((u-A+o)*this.width/(this.width-A),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+o,this.paddingBottom=r+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){fM(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)lM(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=mL(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,o=[],s=[],a=Math.floor(t/gL(t,n));let l,A,c,u,h,d,p,f,g,m,v,y=0,b=0;for(l=0;l<t;l+=a){if(u=e[l].label,h=this._resolveTickFontOptions(l),r.font=d=h.string,p=i[d]=i[d]||{data:{},gc:[]},f=h.lineHeight,g=m=0,lM(u)||AM(u)){if(AM(u))for(A=0,c=u.length;A<c;++A)v=u[A],lM(v)||AM(v)||(g=IT(r,p.data,p.gc,g,v),m+=f)}else g=IT(r,p.data,p.gc,g,u),m=f;o.push(g),s.push(m),y=Math.max(g,y),b=Math.max(m,b)}!function(e,t){gM(e,(e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}}))}(i,t);const w=o.indexOf(y),x=s.indexOf(b),_=e=>({width:o[e]||0,height:s[e]||0});return{first:_(0),last:_(t-1),widest:_(w),highest:_(x),widths:o,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return JM(this._alignToPixels?PT(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return nF(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=nF(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=VM(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,s=i?i.widest.width+o:0,a=i?i.highest.height+o:0;return this.isHorizontal()?a*n>s*r?s/n:a/r:a*r<s*n?a/n:s/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:o,border:s}=r,a=i.offset,l=this.isHorizontal(),A=this.ticks.length+(a?1:0),c=yL(i),u=[],h=s.setContext(this.getContext()),d=h.display?h.width:0,p=d/2,f=function(e){return PT(n,e,d)};let g,m,v,y,b,w,x,_,S,C,B,E;if("top"===o)g=f(this.bottom),w=this.bottom-c,_=g-p,C=f(e.top)+p,E=e.bottom;else if("bottom"===o)g=f(this.top),C=e.top,E=f(e.bottom)-p,w=g+p,_=this.top+c;else if("left"===o)g=f(this.right),b=this.right-c,x=g-p,S=f(e.left)+p,B=e.right;else if("right"===o)g=f(this.left),S=e.left,B=f(e.right)-p,b=g+p,x=this.left+c;else if("x"===t){if("center"===o)g=f((e.top+e.bottom)/2+.5);else if(cM(o)){const e=Object.keys(o)[0],t=o[e];g=f(this.chart.scales[e].getPixelForValue(t))}C=e.top,E=e.bottom,w=g+p,_=w+c}else if("y"===t){if("center"===o)g=f((e.left+e.right)/2);else if(cM(o)){const e=Object.keys(o)[0],t=o[e];g=f(this.chart.scales[e].getPixelForValue(t))}b=g-p,x=b-c,S=e.left,B=e.right}const M=dM(r.ticks.maxTicksLimit,A),T=Math.max(1,Math.ceil(A/M));for(m=0;m<A;m+=T){const e=this.getContext(m),t=i.setContext(e),r=s.setContext(e),o=t.lineWidth,A=t.color,c=r.dash||[],h=r.dashOffset,d=t.tickWidth,p=t.tickColor,f=t.tickBorderDash||[],g=t.tickBorderDashOffset;v=vL(this,m,a),void 0!==v&&(y=PT(n,v,o),l?b=x=S=B=y:w=_=C=E=y,u.push({tx1:b,ty1:w,tx2:x,ty2:_,x1:S,y1:C,x2:B,y2:E,width:o,color:A,borderDash:c,borderDashOffset:h,tickWidth:d,tickColor:p,tickBorderDash:f,tickBorderDashOffset:g}))}return this._ticksLength=A,this._borderValue=g,u}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,o=this.isHorizontal(),s=this.ticks,{align:a,crossAlign:l,padding:A,mirror:c}=i,u=yL(n.grid),h=u+A,d=c?-A:h,p=-VM(this.labelRotation),f=[];let g,m,v,y,b,w,x,_,S,C,B,E,M="middle";if("top"===r)w=this.bottom-d,x=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+d,x=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(u);x=e.textAlign,b=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(u);x=e.textAlign,b=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+h;else if(cM(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+h}x=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)b=(e.left+e.right)/2-h;else if(cM(r)){const e=Object.keys(r)[0],t=r[e];b=this.chart.scales[e].getPixelForValue(t)}x=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===a?M="top":"end"===a&&(M="bottom"));const T=this._getLabelSizes();for(g=0,m=s.length;g<m;++g){v=s[g],y=v.label;const e=i.setContext(this.getContext(g));_=this.getPixelForTick(g)+i.labelOffset,S=this._resolveTickFontOptions(g),C=S.lineHeight,B=AM(y)?y.length:1;const t=B/2,n=e.color,a=e.textStrokeColor,A=e.textStrokeWidth;let u,h=x;if(o?(b=_,"inner"===x&&(h=g===m-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),E="top"===r?"near"===l||0!==p?-B*C+C/2:"center"===l?-T.highest.height/2-t*C+C:-T.highest.height+C/2:"near"===l||0!==p?C/2:"center"===l?T.highest.height/2-t*C:T.highest.height-B*C,c&&(E*=-1),0===p||e.showLabelBackdrop||(b+=C/2*Math.sin(p))):(w=_,E=(1-B)*C/2),e.showLabelBackdrop){const t=ZT(e.backdropPadding),n=T.heights[g],r=T.widths[g];let i=E-t.top,o=0-t.left;switch(M){case"middle":i-=n/2;break;case"bottom":i-=n}switch(x){case"center":o-=r/2;break;case"right":o-=r;break;case"inner":g===m-1?o-=r:g>0&&(o-=r/2)}u={left:o,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}f.push({label:y,font:S,textOffset:E,options:{rotation:p,color:n,strokeColor:a,strokeWidth:A,textAlign:h,textBaseline:M,translation:[b,w],backdrop:u}})}return f}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-VM(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,o=e+i,s=this._getLabelSizes().widest.width;let a,l;return"left"===t?r?(l=this.right+i,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l+=s)):(l=this.right-o,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l=this.left)):"right"===t?r?(l=this.left+i,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l-=s)):(l=this.left+o,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const s=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,o=r.length;i<o;++i){const e=r[i];t.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const s=r.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,A,c,u;this.isHorizontal()?(l=PT(e,this.left,o)-o/2,A=PT(e,this.right,s)+s/2,c=u=a):(c=PT(e,this.top,o)-o/2,u=PT(e,this.bottom,s)+s/2,l=A=a),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,c),t.lineTo(A,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&DT(t,n);const r=this.getLabelItems(e);for(const i of r){const e=i.options,n=i.font;VT(t,i.label,0,i.textOffset,n,e)}n&&OT(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=eF(n.font),o=ZT(n.padding),s=n.align;let a=i.lineHeight/2;"bottom"===t||"center"===t||cM(t)?(a+=o.bottom,AM(n.text)&&(a+=i.lineHeight*(n.text.length-1))):a+=o.top;const{titleX:l,titleY:A,maxWidth:c,rotation:u}=function(e,t,n,r){const{top:i,left:o,bottom:s,right:a,chart:l}=e,{chartArea:A,scales:c}=l;let u,h,d,p=0;const f=s-i,g=a-o;if(e.isHorizontal()){if(h=AT(r,o,a),cM(n)){const e=Object.keys(n)[0],r=n[e];d=c[e].getPixelForValue(r)+f-t}else d="center"===n?(A.bottom+A.top)/2+f-t:fL(e,n,t);u=a-o}else{if(cM(n)){const e=Object.keys(n)[0],r=n[e];h=c[e].getPixelForValue(r)-g+t}else h="center"===n?(A.left+A.right)/2-g+t:fL(e,n,t);d=AT(r,s,i),p="left"===n?-RM:RM}return{titleX:h,titleY:d,maxWidth:u,rotation:p}}(this,a,t,s);VT(e,n.text,0,0,i,{color:n.color,maxWidth:c,rotation:u,textAlign:wL(s,t,r),textBaseline:"middle",translation:[l,A]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=dM(e.grid&&e.grid.z,-1),r=dM(e.border&&e.border.z,0);return this._isVisible()&&this.draw===xL.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,o;for(i=0,o=t.length;i<o;++i){const o=t[i];o[n]!==this.id||e&&o.type!==e||r.push(o)}return r}_resolveTickFontOptions(e){return eF(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class _L{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=wM(Object.create(null),[n?FT.get(n):{},FT.get(t),e.defaults]);FT.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),i=r.pop(),o=[e].concat(r).join("."),s=t[n].split("."),a=s.pop(),l=s.join(".");FT.route(o,i,l,a)}))}(t,e.defaultRoutes);e.descriptors&&FT.describe(t,e.descriptors)}(e,o,n),this.override&&FT.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in FT[r]&&(delete FT[r][n],this.override&&delete CT[n])}}class SL{constructor(){this.controllers=new _L(dI,"datasets",!0),this.elements=new _L(hL,"elements"),this.plugins=new _L(Object,"plugins"),this.scales=new _L(xL,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):gM(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=BM(e);fM(n["before"+r],[],n),t[e](n),fM(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var CL=new SL;class BL{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===fM(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){lM(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=dM(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(CL.plugins.items);for(let o=0;o<r.length;o++)n.push(CL.getPlugin(r[o]));const i=e.plugins||[];for(let o=0;o<i.length;o++){const e=i[o];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:i,localIds:o}=t;const s=[],a=e.getContext();for(const l of i){const t=l.id,i=EL(n[t],r);null!==i&&s.push({plugin:l,options:ML(e.config,{plugin:l,local:o[t]},i,a)})}return s}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function EL(e,t){return t||!1!==e?!0===e?{}:e:null}function ML(e,t,n,r){let{plugin:i,local:o}=t;const s=e.pluginScopeKeys(i),a=e.getOptionScopes(n,s);return o&&i.defaults&&a.push(i.defaults),e.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function TL(e,t){const n=FT.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function FL(e){if("x"===e||"y"===e||"r"===e)return e}function IL(e){if(FL(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const o of n){const t=o.axis||("top"===(i=o.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.length>1&&FL(e[0].toLowerCase());if(t)return t}var i;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function LL(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function PL(e,t){const n=CT[e.type]||{scales:{}},r=t.scales||{},i=TL(e.type,t),o=Object.create(null);return Object.keys(r).forEach((t=>{const s=r[t];if(!cM(s))return console.error(`Invalid scale configuration for scale: ${t}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const a=IL(t,s,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return LL(e,"x",n[0])||LL(e,"y",n[0])}return{}}(t,e),FT.scales[s.type]),l=function(e,t){return e===t?"_index_":"_value_"}(a,i),A=n.scales||{};o[t]=xM(Object.create(null),[{axis:a},s,A[a],A[l]])})),e.data.datasets.forEach((n=>{const i=n.type||e.type,s=n.indexAxis||TL(i,t),a=(CT[i]||{}).scales||{};Object.keys(a).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,s),i=n[t+"AxisID"]||t;o[i]=o[i]||Object.create(null),xM(o[i],[{axis:t},r[i],a[e]])}))})),Object.keys(o).forEach((e=>{const t=o[e];xM(t,[FT.scales[t.type],FT.scale])})),o}function UL(e){const t=e.options||(e.options={});t.plugins=dM(t.plugins,{}),t.scales=PL(e,t)}function RL(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const kL=new Map,NL=new Set;function DL(e,t){let n=kL.get(e);return n||(n=t(),kL.set(e,n),NL.add(n)),n}const OL=(e,t,n)=>{const r=CM(t,n);void 0!==r&&e.add(r)};class QL{constructor(e){this._config=function(e){return(e=e||{}).data=RL(e.data),UL(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=RL(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),UL(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return DL(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return DL(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return DL(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return DL(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,o=this._cachedScopes(e,n),s=o.get(t);if(s)return s;const a=new Set;t.forEach((t=>{e&&(a.add(e),t.forEach((t=>OL(a,e,t)))),t.forEach((e=>OL(a,r,e))),t.forEach((e=>OL(a,CT[i]||{},e))),t.forEach((e=>OL(a,FT,e))),t.forEach((e=>OL(a,BT,e)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),NL.has(t)&&o.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,CT[t]||{},FT.datasets[t]||{},{type:t},FT,BT]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:o,subPrefixes:s}=HL(this._resolverCache,e,r);let a=o;if(function(e,t){const{isScriptable:n,isIndexable:r}=oF(e);for(const i of t){const t=n(i),o=r(i),s=(o||t)&&e[i];if(t&&(MM(s)||zL(s))||o&&AM(s))return!0}return!1}(o,t)){i.$shared=!1;a=iF(o,n=MM(n)?n():n,this.createResolver(e,n,s))}for(const l of t)i[l]=a[l];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=HL(this._resolverCache,e,n);return cM(t)?iF(i,t,void 0,r):i}}function HL(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let o=r.get(i);if(!o){o={resolver:rF(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(i,o)}return o}const zL=e=>cM(e)&&Object.getOwnPropertyNames(e).some((t=>MM(e[t])));const jL=["top","bottom","left","right","chartArea"];function VL(e,t){return"top"===e||"bottom"===e||-1===jL.indexOf(e)&&"x"===t}function WL(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function GL(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),fM(n&&n.onComplete,[e],t)}function KL(e){const t=e.chart,n=t.options.animation;fM(n&&n.onProgress,[e],t)}function qL(e){return SF()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const XL={},YL=e=>{const t=qL(e);return Object.values(XL).filter((e=>e.canvas===t)).pop()};function $L(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const o=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=o)}}}function JL(e,t,n){return e.options.clip?e[n]:t[n]}class ZL{static defaults=(()=>FT)();static instances=(()=>XL)();static overrides=(()=>CT)();static registry=(()=>CL)();static version="4.4.4";static getChart=(()=>YL)();static register(){CL.add(...arguments),eP()}static unregister(){CL.remove(...arguments),eP()}constructor(e,t){const n=this.config=new QL(t),r=qL(e),i=YL(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!SF()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?YI:uL}(r)),this.platform.updateConfig(n);const s=this.platform.acquireContext(r,o.aspectRatio),a=s&&s.canvas,l=a&&a.height,A=a&&a.width;this.id=aM(),this.ctx=s,this.canvas=a,this.width=A,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new BL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((e=>this.update(e)),o.resizeDelay||0),this._dataChanges=[],XL[this.id]=this,s&&a?($F.listen(this,"complete",GL),$F.listen(this,"progress",KL),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return lM(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return CL}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():UF(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return UT(this.canvas,this.ctx),this}stop(){return $F.stop(this),this}resize(e,t){$F.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,t,i),s=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,UF(this,s,!0)&&(this.notifyPlugins("resize",{size:o}),fM(n.onResize,[this,o],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){gM(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let i=[];t&&(i=i.concat(Object.keys(t).map((e=>{const n=t[e],r=IL(e,n),i="r"===r,o="x"===r;return{options:n,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}})))),gM(i,(t=>{const i=t.options,o=i.id,s=IL(o,i),a=dM(i.type,t.dtype);void 0!==i.position&&VL(i.position,s)===VL(t.dposition)||(i.position=t.dposition),r[o]=!0;let l=null;if(o in n&&n[o].type===a)l=n[o];else{l=new(CL.getScale(a))({id:o,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,e)})),gM(r,((e,t)=>{e||delete n[t]})),gM(n,(e=>{qI.configure(this,e,e.options),qI.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(WL("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const o=r.type||this.config.type;if(i.type&&i.type!==o&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=o,i.indexAxis=r.indexAxis||TL(o,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=CL.getController(o),{datasetElementType:r,dataElementType:s}=FT.datasets[o];Object.assign(t,{dataElementType:CL.getElement(s),datasetElementType:r&&CL.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){gM(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let l=0,A=this.data.datasets.length;l<A;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(t),o=Math.max(+e.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||gM(i,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(WL("z","_idx"));const{_active:s,_lastEvent:a}=this;a?this._eventHandler(a,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){gM(this.scales,(e=>{qI.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);TM(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t){$L(e,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let i=1;i<t;i++)if(!TM(r,n(i)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;qI.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],gM(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,MM(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&($F.has(this)?this.attached&&!$F.running(this)&&$F.start(this):(this.draw(),GL({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,i=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:JL(n,t,"left"),right:JL(n,t,"right"),top:JL(r,t,"top"),bottom:JL(r,t,"bottom")}:t}(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(r&&DT(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),r&&OT(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return NT(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=RI.modes[t];return"function"===typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=nF(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,r);EM(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),$F.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),UT(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete XL[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};gM(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let o;const s=()=>{r("attach",s),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",s)},t.isAttached(this.canvas)?s():o()}unbindEvents(){gM(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},gM(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,o,s,a;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),s=0,a=e.length;s<a;++s){o=e[s];const t=o&&this.getDatasetMeta(o.datasetIndex).controller;t&&t[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}));!mM(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),o=i(t,e),s=n?e:i(e,t);o.length&&this.updateHoverStyle(o,r.mode,!1),s.length&&r.mode&&this.updateHoverStyle(s,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,o=t,s=this._getActiveElements(e,r,n,o),a=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,a);n&&(this._lastEvent=null,fM(i.onHover,[e,s,this],this),a&&fM(i.onClick,[e,s,this],this));const A=!mM(s,r);return(A||t)&&(this._active=s,this._updateHoverStyles(s,r,t)),this._lastEvent=l,A}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function eP(){return gM(ZL.instances,(e=>e._plugins.invalidate()))}function tP(e,t,n,r){const i=YT(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const o=(n-t)/2,s=Math.min(o,r*t/2),a=e=>{const t=(n-Math.min(o,e))*r/2;return JM(e,0,Math.min(o,t))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:JM(i.innerStart,0,s),innerEnd:JM(i.innerEnd,0,s)}}function nP(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function rP(e,t,n,r,i,o){const{x:s,y:a,startAngle:l,pixelMargin:A,innerRadius:c}=t,u=Math.max(t.outerRadius+r+n-A,0),h=c>0?c+r+n+A:0;let d=0;const p=i-l;if(r){const e=((c>0?c-r:0)+(u>0?u-r:0))/2;d=(p-(0!==e?p*e/(e+r):p))/2}const f=(p-Math.max(.001,p*u-n/FM)/u)/2,g=l+f+d,m=i-f-d,{outerStart:v,outerEnd:y,innerStart:b,innerEnd:w}=tP(t,h,u,m-g),x=u-v,_=u-y,S=g+v/x,C=m-y/_,B=h+b,E=h+w,M=g+b/B,T=m-w/E;if(e.beginPath(),o){const t=(S+C)/2;if(e.arc(s,a,u,S,t),e.arc(s,a,u,t,C),y>0){const t=nP(_,C,s,a);e.arc(t.x,t.y,y,C,m+RM)}const n=nP(E,m,s,a);if(e.lineTo(n.x,n.y),w>0){const t=nP(E,T,s,a);e.arc(t.x,t.y,w,m+RM,T+Math.PI)}const r=(m-w/h+(g+b/h))/2;if(e.arc(s,a,h,m-w/h,r,!0),e.arc(s,a,h,r,g+b/h,!0),b>0){const t=nP(B,M,s,a);e.arc(t.x,t.y,b,M+Math.PI,g-RM)}const i=nP(x,g,s,a);if(e.lineTo(i.x,i.y),v>0){const t=nP(x,S,s,a);e.arc(t.x,t.y,v,g-RM,S)}}else{e.moveTo(s,a);const t=Math.cos(S)*u+s,n=Math.sin(S)*u+a;e.lineTo(t,n);const r=Math.cos(C)*u+s,i=Math.sin(C)*u+a;e.lineTo(r,i)}e.closePath()}function iP(e,t,n,r,i){const{fullCircles:o,startAngle:s,circumference:a,options:l}=t,{borderWidth:A,borderJoinStyle:c,borderDash:u,borderDashOffset:h}=l,d="inner"===l.borderAlign;if(!A)return;e.setLineDash(u||[]),e.lineDashOffset=h,d?(e.lineWidth=2*A,e.lineJoin=c||"round"):(e.lineWidth=A,e.lineJoin=c||"bevel");let p=t.endAngle;if(o){rP(e,t,n,r,p,i);for(let t=0;t<o;++t)e.stroke();isNaN(a)||(p=s+(a%IM||IM))}d&&function(e,t,n){const{startAngle:r,pixelMargin:i,x:o,y:s,outerRadius:a,innerRadius:l}=t;let A=i/a;e.beginPath(),e.arc(o,s,a,r-A,n+A),l>i?(A=i/l,e.arc(o,s,l,n+A,r-A,!0)):e.arc(o,s,i,n+RM,r-RM),e.closePath(),e.clip()}(e,t,p),o||(rP(e,t,n,r,p,i),e.stroke())}function oP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=dM(n.borderCapStyle,t.borderCapStyle),e.setLineDash(dM(n.borderDash,t.borderDash)),e.lineDashOffset=dM(n.borderDashOffset,t.borderDashOffset),e.lineJoin=dM(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=dM(n.borderWidth,t.borderWidth),e.strokeStyle=dM(n.borderColor,t.borderColor)}function sP(e,t,n){e.lineTo(n.x,n.y)}function aP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:i=0,end:o=r-1}=n,{start:s,end:a}=t,l=Math.max(i,s),A=Math.min(o,a),c=i<s&&o<s||i>a&&o>a;return{count:r,start:l,loop:t.loop,ilen:A<l&&!c?r+A-l:A-l}}function lP(e,t,n,r){const{points:i,options:o}=t,{count:s,start:a,loop:l,ilen:A}=aP(i,n,r),c=function(e){return e.stepped?QT:e.tension||"monotone"===e.cubicInterpolationMode?HT:sP}(o);let u,h,d,{move:p=!0,reverse:f}=r||{};for(u=0;u<=A;++u)h=i[(a+(f?A-u:u))%s],h.skip||(p?(e.moveTo(h.x,h.y),p=!1):c(e,d,h,f,o.stepped),d=h);return l&&(h=i[(a+(f?A:0))%s],c(e,d,h,f,o.stepped)),!!l}function AP(e,t,n,r){const i=t.points,{count:o,start:s,ilen:a}=aP(i,n,r),{move:l=!0,reverse:A}=r||{};let c,u,h,d,p,f,g=0,m=0;const v=e=>(s+(A?a-e:e))%o,y=()=>{d!==p&&(e.lineTo(g,p),e.lineTo(g,d),e.lineTo(g,f))};for(l&&(u=i[v(0)],e.moveTo(u.x,u.y)),c=0;c<=a;++c){if(u=i[v(c)],u.skip)continue;const t=u.x,n=u.y,r=0|t;r===h?(n<d?d=n:n>p&&(p=n),g=(m*g+t)/++m):(y(),e.lineTo(t,n),h=r,m=0,d=p=n),f=n}y()}function cP(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?AP:lP}const uP="function"===typeof Path2D;function hP(e,t,n,r){uP&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),oP(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:o}=t,s=cP(t);for(const a of i)oP(e,o,a.style),e.beginPath(),s(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class dP extends hL{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;_F(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const o=!!e._loop,{start:s,end:a}=function(e,t,n,r){let i=0,o=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(o+=i);o>i&&e[o%t].skip;)o--;return o%=t,{start:i,end:o}}(n,i,o,r);return KF(e,!0===r?[{start:s,end:a,loop:o}]:function(e,t,n,r){const i=e.length,o=[];let s,a=t,l=e[t];for(s=t+1;s<=n;++s){const n=e[s%i];n.skip||n.stop?l.skip||(r=!1,o.push({start:t%i,end:(s-1)%i,loop:r}),t=a=n.stop?s:null):(a=s,l.skip&&(t=s)),l=n}return null!==a&&o.push({start:t%i,end:a%i,loop:r}),o}(n,s,a<s?a+i:a,!!e._fullLoop&&0===s&&a===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,o=GF(this,{property:t,start:r,end:r});if(!o.length)return;const s=[],a=function(e){return e.stepped?DF:e.tension||"monotone"===e.cubicInterpolationMode?OF:NF}(n);let l,A;for(l=0,A=o.length;l<A;++l){const{start:A,end:c}=o[l],u=i[A],h=i[c];if(u===h){s.push(u);continue}const d=a(u,h,Math.abs((r-u[t])/(h[t]-u[t])),n.stepped);d[t]=e[t],s.push(d)}return 1===s.length?s[0]:s}pathSegment(e,t,n){return cP(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=cP(this);let o=this._loop;t=t||0,n=n||this.points.length-t;for(const s of r)o&=i(e,this,s,{start:t,end:t+n-1});return!!o}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),hP(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function pP(e,t,n,r){const i=e.options,{[n]:o}=e.getProps([n],r);return Math.abs(t-o)<i.radius+i.hitRadius}function fP(e,t){const{x:n,y:r,base:i,width:o,height:s}=e.getProps(["x","y","base","width","height"],t);let a,l,A,c,u;return e.horizontal?(u=s/2,a=Math.min(n,i),l=Math.max(n,i),A=r-u,c=r+u):(u=o/2,a=n-u,l=n+u,A=Math.min(r,i),c=Math.max(r,i)),{left:a,top:A,right:l,bottom:c}}function gP(e,t,n,r){return e?0:JM(t,n,r)}function mP(e){const t=fP(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,o=$T(r);return{t:gP(i.top,o.top,0,n),r:gP(i.right,o.right,0,t),b:gP(i.bottom,o.bottom,0,n),l:gP(i.left,o.left,0,t)}}(e,n/2,r/2),o=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,o=JT(i),s=Math.min(t,n),a=e.borderSkipped,l=r||cM(i);return{topLeft:gP(!l||a.top||a.left,o.topLeft,0,s),topRight:gP(!l||a.top||a.right,o.topRight,0,s),bottomLeft:gP(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:gP(!l||a.bottom||a.right,o.bottomRight,0,s)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function vP(e,t,n,r){const i=null===t,o=null===n,s=e&&!(i&&o)&&fP(e,r);return s&&(i||ZM(t,s.left,s.right))&&(o||ZM(n,s.top,s.bottom))}function yP(e,t){e.rect(t.x,t.y,t.w,t.h)}function bP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-r,s=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+o,h:e.h+s,radius:e.radius}}var wP=Object.freeze({__proto__:null,ArcElement:class extends hL{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:i,distance:o}=KM(r,{x:e,y:t}),{startAngle:s,endAngle:a,innerRadius:l,outerRadius:A,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),u=(this.options.spacing+this.options.borderWidth)/2,h=dM(c,a-s),d=$M(i,s,a)&&s!==a,p=h>=IM||d,f=ZM(o,l+u,A+u);return p&&f}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:i,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:a,spacing:l}=this.options,A=(r+i)/2,c=(o+s+l+a)/2;return{x:t+Math.cos(A)*c,y:n+Math.sin(A)*c}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,i=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>IM?Math.floor(n/IM):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*r,Math.sin(s)*r);const a=r*(1-Math.sin(Math.min(FM,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){const{fullCircles:o,startAngle:s,circumference:a}=t;let l=t.endAngle;if(o){rP(e,t,n,r,l,i);for(let t=0;t<o;++t)e.fill();isNaN(a)||(l=s+(a%IM||IM))}rP(e,t,n,r,l,i),e.fill()}(e,this,a,i,o),iP(e,this,a,i,o),e.restore()}},BarElement:class extends hL{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:o}=mP(this),s=(a=o.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?WT:yP;var a;e.save(),o.w===i.w&&o.h===i.h||(e.beginPath(),s(e,bP(o,t,i)),e.clip(),s(e,bP(i,-t,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),s(e,bP(i,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return vP(this,e,t,n)}inXRange(e,t){return vP(this,e,null,t)}inYRange(e,t){return vP(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}},LineElement:dP,PointElement:class extends hL{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return pP(this,e,"x",t)}inYRange(e,t){return pP(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!NT(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,RT(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}});const xP=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],_P=xP.map((e=>e.replace("rgb(","rgba(").replace(")",", 0.5)")));function SP(e){return xP[e%xP.length]}function CP(e){return _P[e%_P.length]}function BP(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof xI?t=function(e,t){return e.backgroundColor=e.data.map((()=>SP(t++))),t}(n,t):i instanceof SI?t=function(e,t){return e.backgroundColor=e.data.map((()=>CP(t++))),t}(n,t):i&&(t=function(e,t){return e.borderColor=SP(t),e.backgroundColor=CP(t),++t}(n,t))}}function EP(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var MP={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:o}=i;if(!n.forceOverride&&(EP(r)||(s=i)&&(s.borderColor||s.backgroundColor)||o&&EP(o)))return;var s;const a=BP(e);r.forEach(a)}};function TP(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function FP(e){e.data.datasets.forEach((e=>{TP(e)}))}var IP={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled)return void FP(e);const r=e.width;e.data.datasets.forEach(((t,i)=>{const{_data:o,indexAxis:s}=t,a=e.getDatasetMeta(i),l=o||t.data;if("y"===tF([s,e.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const A=e.scales[a.xAxisID];if("linear"!==A.type&&"time"!==A.type)return;if(e.options.parsing)return;let{start:c,count:u}=function(e,t){const n=t.length;let r,i=0;const{iScale:o}=e,{min:s,max:a,minDefined:l,maxDefined:A}=o.getUserBounds();return l&&(i=JM(tT(t,o.axis,s).lo,0,n-1)),r=A?JM(tT(t,o.axis,a).hi+1,i,n)-i:n-i,{start:i,count:r}}(a,l);if(u<=(n.threshold||4*r))return void TP(t);let h;switch(lM(o)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":h=function(e,t,n,r,i){const o=i.samples||r;if(o>=n)return e.slice(t,t+n);const s=[],a=(n-2)/(o-2);let l=0;const A=t+n-1;let c,u,h,d,p,f=t;for(s[l++]=e[f],c=0;c<o-2;c++){let r,i=0,o=0;const A=Math.floor((c+1)*a)+1+t,g=Math.min(Math.floor((c+2)*a)+1,n)+t,m=g-A;for(r=A;r<g;r++)i+=e[r].x,o+=e[r].y;i/=m,o/=m;const v=Math.floor(c*a)+1+t,y=Math.min(Math.floor((c+1)*a)+1,n)+t,{x:b,y:w}=e[f];for(h=d=-1,r=v;r<y;r++)d=.5*Math.abs((b-i)*(e[r].y-w)-(b-e[r].x)*(o-w)),d>h&&(h=d,u=e[r],p=r);s[l++]=u,f=p}return s[l++]=e[A],s}(l,c,u,r,n);break;case"min-max":h=function(e,t,n,r){let i,o,s,a,l,A,c,u,h,d,p=0,f=0;const g=[],m=t+n-1,v=e[t].x,y=e[m].x-v;for(i=t;i<t+n;++i){o=e[i],s=(o.x-v)/y*r,a=o.y;const t=0|s;if(t===l)a<h?(h=a,A=i):a>d&&(d=a,c=i),p=(f*p+o.x)/++f;else{const n=i-1;if(!lM(A)&&!lM(c)){const t=Math.min(A,c),r=Math.max(A,c);t!==u&&t!==n&&g.push({...e[t],x:p}),r!==u&&r!==n&&g.push({...e[r],x:p})}i>0&&n!==u&&g.push(e[n]),g.push(o),l=t,f=0,h=d=a,A=c=u=i}}return g}(l,c,u,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}t._decimated=h}))},destroy(e){FP(e)}};function LP(e,t,n,r){if(r)return;let i=t[e],o=n[e];return"angle"===e&&(i=YM(i),o=YM(o)),{property:e,start:i,end:o}}function PP(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function UP(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function RP(e,t){let n=[],r=!1;return AM(e)?(r=!0,n=e):n=function(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,o=[];return t.segments.forEach((e=>{let{start:t,end:s}=e;s=PP(t,s,i);const a=i[t],l=i[s];null!==r?(o.push({x:a.x,y:r}),o.push({x:l.x,y:r})):null!==n&&(o.push({x:n,y:a.y}),o.push({x:n,y:l.y}))})),o}(e,t),n.length?new dP({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function kP(e){return e&&!1!==e.fill}function NP(e,t,n){let r=e[t].fill;const i=[t];let o;if(!n)return r;for(;!1!==r&&-1===i.indexOf(r);){if(!uM(r))return r;if(o=e[r],!o)return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function DP(e,t,n){const r=function(e){const t=e.options,n=t.fill;let r=dM(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(cM(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return uM(i)&&Math.floor(i)===i?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function OP(e,t,n){const r=[];for(let i=0;i<n.length;i++){const o=n[i],{first:s,last:a,point:l}=QP(o,t,"x");if(!(!l||s&&a))if(s)r.unshift(l);else if(e.push(l),!a)break}e.push(...r)}function QP(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],o=e.segments,s=e.points;let a=!1,l=!1;for(let A=0;A<o.length;A++){const e=o[A],t=s[e.start][n],r=s[e.end][n];if(ZM(i,t,r)){a=i===t,l=i===r;break}}return{first:a,last:l,point:r}}class HP{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:i,radius:o}=this;return t=t||{start:0,end:IM},e.arc(r,i,o,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,i=e.angle;return{x:t+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function zP(e){const{chart:t,fill:n,line:r}=e;if(uM(n))return function(e,t){const n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:r}=e,i=[],o=r.segments,s=r.points,a=function(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const e=r[i];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);a.push(RP({x:null,y:t.bottom},r));for(let l=0;l<o.length;l++){const e=o[l];for(let t=e.start;t<=e.end;t++)OP(i,s[t],a)}return new dP({points:i,options:{}})}(e);if("shape"===n)return!0;const i=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,o=r.reverse?t.max:t.min,s=function(e,t,n){let r;return r="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:cM(e)?e.value:t.getBaseValue(),r}(n,t,o),a=[];if(r.grid.circular){const e=t.getPointPositionForValue(0,o);return new HP({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,s));return a}(e);return function(e){const{scale:t={},fill:n}=e,r=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:cM(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(uM(r)){const e=t.isHorizontal();return{x:e?r:null,y:e?null:r}}return null}(e)}(e);return i instanceof HP?i:RP(i,r)}function jP(e,t,n){const r=zP(t),{line:i,scale:o,axis:s}=t,a=i.options,l=a.fill,A=a.backgroundColor,{above:c=A,below:u=A}=l||{};r&&i.points.length&&(DT(e,n),function(e,t){const{line:n,target:r,above:i,below:o,area:s,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),"x"===l&&o!==i&&(VP(e,r,s.top),WP(e,{line:n,target:r,color:i,scale:a,property:l}),e.restore(),e.save(),VP(e,r,s.bottom));WP(e,{line:n,target:r,color:o,scale:a,property:l}),e.restore()}(e,{line:i,target:r,above:c,below:u,area:n,scale:o,axis:s}),OT(e))}function VP(e,t,n){const{segments:r,points:i}=t;let o=!0,s=!1;e.beginPath();for(const a of r){const{start:r,end:l}=a,A=i[r],c=i[PP(r,l,i)];o?(e.moveTo(A.x,A.y),o=!1):(e.lineTo(A.x,n),e.lineTo(A.x,A.y)),s=!!t.pathSegment(e,a,{move:s}),s?e.closePath():e.lineTo(c.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function WP(e,t){const{line:n,target:r,property:i,color:o,scale:s}=t,a=function(e,t,n){const r=e.segments,i=e.points,o=t.points,s=[];for(const a of r){let{start:e,end:r}=a;r=PP(e,r,i);const l=LP(n,i[e],i[r],a.loop);if(!t.segments){s.push({source:a,target:l,start:i[e],end:i[r]});continue}const A=GF(t,l);for(const t of A){const e=LP(n,o[t.start],o[t.end],t.loop),r=WF(a,i,e);for(const i of r)s.push({source:i,target:t,start:{[n]:UP(l,e,"start",Math.max)},end:{[n]:UP(l,e,"end",Math.min)}})}}return s}(n,r,i);for(const{source:l,target:A,start:c,end:u}of a){const{style:{backgroundColor:t=o}={}}=l,a=!0!==r;e.save(),e.fillStyle=t,GP(e,s,a&&LP(i,c,u)),e.beginPath();const h=!!n.pathSegment(e,l);let d;if(a){h?e.closePath():KP(e,r,u,i);const t=!!r.pathSegment(e,A,{move:h,reverse:!0});d=h&&t,d||KP(e,r,c,i)}e.closePath(),e.fill(d?"evenodd":"nonzero"),e.restore()}}function GP(e,t,n){const{top:r,bottom:i}=t.chart.chartArea,{property:o,start:s,end:a}=n||{};"x"===o&&(e.beginPath(),e.rect(s,r,a-s,i-r),e.clip())}function KP(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var qP={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let o,s,a,l;for(s=0;s<r;++s)o=e.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof dP&&(l={visible:e.isDatasetVisible(s),index:s,fill:DP(a,s,r),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,i.push(l);for(s=0;s<r;++s)l=i[s],l&&!1!==l.fill&&(l.fill=NP(i,s,n.propagate))},beforeDraw(e,t,n){const r="beforeDraw"===n.drawTime,i=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let s=i.length-1;s>=0;--s){const t=i[s].$filler;t&&(t.line.updateControlPoints(o,t.axis),r&&t.fill&&jP(e.ctx,t,o))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const t=r[i].$filler;kP(t)&&jP(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;kP(r)&&"beforeDatasetDraw"===n.drawTime&&jP(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const XP=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class YP extends hL{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=fM(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=eF(n.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:a}=XP(n,i);let l,A;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,A=this._fitRows(o,i,s,a)+10):(A=this.maxHeight,l=this._fitCols(o,r,s,a)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(A,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],A=r+s;let c=e;i.textAlign="left",i.textBaseline="middle";let u=-1,h=-A;return this.legendItems.forEach(((e,d)=>{const p=n+t/2+i.measureText(e.text).width;(0===d||l[l.length-1]+p+2*s>o)&&(c+=A,l[l.length-(d>0?0:1)]=0,h+=A,u++),a[d]={left:0,top:h,row:u,width:p,height:r},l[l.length-1]+=p+s})),c}_fitCols(e,t,n,r){const{ctx:i,maxHeight:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],A=o-e;let c=s,u=0,h=0,d=0,p=0;return this.legendItems.forEach(((e,o)=>{const{itemWidth:f,itemHeight:g}=function(e,t,n,r,i){const o=function(e,t,n,r){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+r.measureText(i).width}(r,e,t,n),s=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=$P(t,n));return r}(i,r,t.lineHeight);return{itemWidth:o,itemHeight:s}}(n,t,i,e,r);o>0&&h+g+2*s>A&&(c+=u+s,l.push({width:u,height:h}),d+=u+s,p++,u=h=0),a[o]={left:d,top:h,col:p,width:f,height:g},u=Math.max(u,f),h+=g+s})),c+=u,l.push({width:u,height:h}),c}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,o=QF(i,this.left,this.width);if(this.isHorizontal()){let i=0,s=AT(n,this.left+r,this.right-this.lineWidths[i]);for(const a of t)i!==a.row&&(i=a.row,s=AT(n,this.left+r,this.right-this.lineWidths[i])),a.top+=this.top+e+r,a.left=o.leftForLtr(o.x(s),a.width),s+=a.width+r}else{let i=0,s=AT(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const a of t)a.col!==i&&(i=a.col,s=AT(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),a.top=s,a.left+=this.left+r,a.left=o.leftForLtr(o.x(a.left),a.width),s+=a.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;DT(e,this),this._draw(),OT(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:o}=e,s=FT.color,a=QF(e.rtl,this.left,this.width),l=eF(o.font),{padding:A}=o,c=l.size,u=c/2;let h;this.drawTitle(),r.textAlign=a.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:d,boxHeight:p,itemHeight:f}=XP(o,c),g=this.isHorizontal(),m=this._computeTitleHeight();h=g?{x:AT(i,this.left+A,this.right-n[0]),y:this.top+A+m,line:0}:{x:this.left+A,y:AT(i,this.top+m+A,this.bottom-t[0].height),line:0},HF(this.ctx,e.textDirection);const v=f+A;this.legendItems.forEach(((y,b)=>{r.strokeStyle=y.fontColor,r.fillStyle=y.fontColor;const w=r.measureText(y.text).width,x=a.textAlign(y.textAlign||(y.textAlign=o.textAlign)),_=d+u+w;let S=h.x,C=h.y;a.setWidth(this.width),g?b>0&&S+_+A>this.right&&(C=h.y+=v,h.line++,S=h.x=AT(i,this.left+A,this.right-n[h.line])):b>0&&C+v>this.bottom&&(S=h.x=S+t[h.line].width+A,h.line++,C=h.y=AT(i,this.top+m+A,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(d)||d<=0||isNaN(p)||p<0)return;r.save();const i=dM(n.lineWidth,1);if(r.fillStyle=dM(n.fillStyle,s),r.lineCap=dM(n.lineCap,"butt"),r.lineDashOffset=dM(n.lineDashOffset,0),r.lineJoin=dM(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=dM(n.strokeStyle,s),r.setLineDash(dM(n.lineDash,[])),o.usePointStyle){const s={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=a.xPlus(e,d/2);kT(r,s,l,t+u,o.pointStyleWidth&&d)}else{const o=t+Math.max((c-p)/2,0),s=a.leftForLtr(e,d),l=JT(n.borderRadius);r.beginPath(),Object.values(l).some((e=>0!==e))?WT(r,{x:s,y:o,w:d,h:p,radius:l}):r.rect(s,o,d,p),r.fill(),0!==i&&r.stroke()}r.restore()}(a.x(S),C,y),S=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(x,S+d+u,g?S+_:this.right,e.rtl),function(e,t,n){VT(r,n.text,e,t+f/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(S),C,y),g)h.x+=_+A;else if("string"!==typeof y.text){const e=l.lineHeight;h.y+=$P(y,e)+A}else h.y+=v})),zF(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=eF(t.font),r=ZT(t.padding);if(!t.display)return;const i=QF(e.rtl,this.left,this.width),o=this.ctx,s=t.position,a=n.size/2,l=r.top+a;let A,c=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),A=this.top+l,c=AT(e.align,c,this.right-u);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);A=l+AT(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=AT(s,c,c+u);o.textAlign=i.textAlign(lT(s)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,VT(o,t.text,h,A,n)}_computeTitleHeight(){const e=this.options.title,t=eF(e.font),n=ZT(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if(ZM(e,this.left,this.right)&&ZM(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],ZM(e,r.left,r.left+r.width)&&ZM(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,i=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(r,n);r&&!i&&fM(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&fM(t.onHover,[e,n,this],this)}else n&&fM(t.onClick,[e,n,this],this)}}function $P(e,t){return t*(e.text?e.text.length:0)}var JP={id:"legend",_element:YP,start(e,t,n){const r=e.legend=new YP({ctx:e.ctx,options:n,chart:e});qI.configure(e,r,n),qI.addBox(e,r)},stop(e){qI.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;qI.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o,useBorderRadius:s,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),A=ZT(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(A.width+A.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class ZP extends hL{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=AM(n.text)?n.text.length:1;this._padding=ZT(n.padding);const i=r*eF(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:o}=this,s=o.align;let a,l,A,c=0;return this.isHorizontal()?(l=AT(s,n,i),A=t+e,a=i-n):("left"===o.position?(l=n+e,A=AT(s,r,t),c=-.5*FM):(l=i-e,A=AT(s,t,r),c=.5*FM),a=r-t),{titleX:l,titleY:A,maxWidth:a,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=eF(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:o,maxWidth:s,rotation:a}=this._drawArgs(r);VT(e,t.text,0,0,n,{color:t.color,maxWidth:s,rotation:a,textAlign:lT(t.align),textBaseline:"middle",translation:[i,o]})}}var eU={id:"title",_element:ZP,start(e,t,n){!function(e,t){const n=new ZP({ctx:e.ctx,options:t,chart:e});qI.configure(e,n,t),qI.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;qI.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;qI.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const tU=new WeakMap;var nU={id:"subtitle",start(e,t,n){const r=new ZP({ctx:e.ctx,options:n,chart:e});qI.configure(e,r,n),qI.addBox(e,r),tU.set(e,r)},stop(e){qI.removeBox(e,tU.get(e)),tU.delete(e)},beforeUpdate(e,t,n){const r=tU.get(e);qI.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rU={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,o=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),i+=e.y,++o}}if(0===o||0===r.size)return!1;const s=[...r].reduce(((e,t)=>e+t))/r.size;return{x:s,y:i/o}},nearest(e,t){if(!e.length)return!1;let n,r,i,o=t.x,s=t.y,a=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=qM(t,r.getCenterPoint());e<a&&(a=e,i=r)}}if(i){const e=i.tooltipPosition();o=e.x,s=e.y}return{x:o,y:s}}};function iU(e,t){return t&&(AM(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function oU(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function sU(e,t){const{element:n,datasetIndex:r,index:i}=t,o=e.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:e,label:s,parsed:o.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function aU(e,t){const n=e.chart.ctx,{body:r,footer:i,title:o}=e,{boxWidth:s,boxHeight:a}=t,l=eF(t.bodyFont),A=eF(t.titleFont),c=eF(t.footerFont),u=o.length,h=i.length,d=r.length,p=ZT(t.padding);let f=p.height,g=0,m=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(m+=e.beforeBody.length+e.afterBody.length,u&&(f+=u*A.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),m){f+=d*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(m-d)*l.lineHeight+(m-1)*t.bodySpacing}h&&(f+=t.footerMarginTop+h*c.lineHeight+(h-1)*t.footerSpacing);let v=0;const y=function(e){g=Math.max(g,n.measureText(e).width+v)};return n.save(),n.font=A.string,gM(e.title,y),n.font=l.string,gM(e.beforeBody.concat(e.afterBody),y),v=t.displayColors?s+2+t.boxPadding:0,gM(r,(e=>{gM(e.before,y),gM(e.lines,y),gM(e.after,y)})),v=0,n.font=c.string,gM(e.footer,y),n.restore(),g+=p.width,{width:g,height:f}}function lU(e,t,n,r){const{x:i,width:o}=n,{width:s,chartArea:{left:a,right:l}}=e;let A="center";return"center"===r?A=i<=(a+l)/2?"left":"right":i<=o/2?A="left":i>=s-o/2&&(A="right"),function(e,t,n,r){const{x:i,width:o}=r,s=n.caretSize+n.caretPadding;return"left"===e&&i+o+s>t.width||"right"===e&&i-o-s<0||void 0}(A,e,t,n)&&(A="center"),A}function AU(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||lU(e,t,n,r),yAlign:r}}function cU(e,t,n,r){const{caretSize:i,caretPadding:o,cornerRadius:s}=e,{xAlign:a,yAlign:l}=n,A=i+o,{topLeft:c,topRight:u,bottomLeft:h,bottomRight:d}=JT(s);let p=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,a);const f=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,A);return"center"===l?"left"===a?p+=A:"right"===a&&(p-=A):"left"===a?p-=Math.max(c,h)+i:"right"===a&&(p+=Math.max(u,d)+i),{x:JM(p,0,r.width-t.width),y:JM(f,0,r.height-t.height)}}function uU(e,t,n){const r=ZT(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function hU(e){return iU([],oU(e))}function dU(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const pU={beforeTitle:sM,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:sM,beforeBody:sM,beforeLabel:sM,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return lM(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:sM,afterBody:sM,beforeFooter:sM,footer:sM,afterFooter:sM};function fU(e,t,n,r){const i=e[t].call(n,r);return"undefined"===typeof i?pU[t].call(n,r):i}class gU extends hL{static positioners=(()=>rU)();constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new tI(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,nF(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=fU(n,"beforeTitle",this,e),i=fU(n,"title",this,e),o=fU(n,"afterTitle",this,e);let s=[];return s=iU(s,oU(r)),s=iU(s,oU(i)),s=iU(s,oU(o)),s}getBeforeBody(e,t){return hU(fU(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return gM(e,(e=>{const t={before:[],lines:[],after:[]},i=dU(n,e);iU(t.before,oU(fU(i,"beforeLabel",this,e))),iU(t.lines,fU(i,"label",this,e)),iU(t.after,oU(fU(i,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return hU(fU(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=fU(n,"beforeFooter",this,e),i=fU(n,"footer",this,e),o=fU(n,"afterFooter",this,e);let s=[];return s=iU(s,oU(r)),s=iU(s,oU(i)),s=iU(s,oU(o)),s}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],o=[];let s,a,l=[];for(s=0,a=t.length;s<a;++s)l.push(sU(this.chart,t[s]));return e.filter&&(l=l.filter(((t,r,i)=>e.filter(t,r,i,n)))),e.itemSort&&(l=l.sort(((t,r)=>e.itemSort(t,r,n)))),gM(l,(t=>{const n=dU(e.callbacks,t);r.push(fU(n,"labelColor",this,t)),i.push(fU(n,"labelPointStyle",this,t)),o.push(fU(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(r.length){const e=rU[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const t=this._size=aU(this,n),s=Object.assign({},e,t),a=AU(this.chart,n,s),l=cU(n,s,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:s}=n,{topLeft:a,topRight:l,bottomLeft:A,bottomRight:c}=JT(s),{x:u,y:h}=e,{width:d,height:p}=t;let f,g,m,v,y,b;return"center"===i?(y=h+p/2,"left"===r?(f=u,g=f-o,v=y+o,b=y-o):(f=u+d,g=f+o,v=y-o,b=y+o),m=f):(g="left"===r?u+Math.max(a,A)+o:"right"===r?u+d-Math.max(l,c)-o:this.caretX,"top"===i?(v=h,y=v-o,f=g-o,m=g+o):(v=h+p,y=v+o,f=g+o,m=g-o),b=v),{x1:f,x2:g,x3:m,y1:v,y2:y,y3:b}}drawTitle(e,t,n){const r=this.title,i=r.length;let o,s,a;if(i){const l=QF(n.rtl,this.x,this.width);for(e.x=uU(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",o=eF(n.titleFont),s=n.titleSpacing,t.fillStyle=n.titleColor,t.font=o.string,a=0;a<i;++a)t.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s,a+1===i&&(e.y+=n.titleMarginBottom-s)}}_drawColorBox(e,t,n,r,i){const o=this.labelColors[n],s=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=i,A=eF(i.bodyFont),c=uU(this,"left",i),u=r.x(c),h=a<A.lineHeight?(A.lineHeight-a)/2:0,d=t.y+h;if(i.usePointStyle){const t={radius:Math.min(l,a)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},n=r.leftForLtr(u,l)+l/2,A=d+a/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,RT(e,t,n,A),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,RT(e,t,n,A)}else{e.lineWidth=cM(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const t=r.leftForLtr(u,l),n=r.leftForLtr(r.xPlus(u,1),l-2),s=JT(o.borderRadius);Object.values(s).some((e=>0!==e))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,WT(e,{x:t,y:d,w:l,h:a,radius:s}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),WT(e,{x:n,y:d+1,w:l-2,h:a-2,radius:s}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,d,l,a),e.strokeRect(t,d,l,a),e.fillStyle=o.backgroundColor,e.fillRect(n,d+1,l-2,a-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:s,boxHeight:a,boxWidth:l,boxPadding:A}=n,c=eF(n.bodyFont);let u=c.lineHeight,h=0;const d=QF(n.rtl,this.x,this.width),p=function(n){t.fillText(n,d.x(e.x+h),e.y+u/2),e.y+=u+i},f=d.textAlign(o);let g,m,v,y,b,w,x;for(t.textAlign=o,t.textBaseline="middle",t.font=c.string,e.x=uU(this,f,n),t.fillStyle=n.bodyColor,gM(this.beforeBody,p),h=s&&"right"!==f?"center"===o?l/2+A:l+2+A:0,y=0,w=r.length;y<w;++y){for(g=r[y],m=this.labelTextColors[y],t.fillStyle=m,gM(g.before,p),v=g.lines,s&&v.length&&(this._drawColorBox(t,e,y,d,n),u=Math.max(c.lineHeight,a)),b=0,x=v.length;b<x;++b)p(v[b]),u=c.lineHeight;gM(g.after,p)}h=0,u=c.lineHeight,gM(this.afterBody,p),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let o,s;if(i){const a=QF(n.rtl,this.x,this.width);for(e.x=uU(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=a.textAlign(n.footerAlign),t.textBaseline="middle",o=eF(n.footerFont),t.fillStyle=n.footerColor,t.font=o.string,s=0;s<i;++s)t.fillText(r[s],a.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:o}=this,{x:s,y:a}=e,{width:l,height:A}=n,{topLeft:c,topRight:u,bottomLeft:h,bottomRight:d}=JT(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(s+c,a),"top"===o&&this.drawCaret(e,t,n,r),t.lineTo(s+l-u,a),t.quadraticCurveTo(s+l,a,s+l,a+u),"center"===o&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(s+l,a+A-d),t.quadraticCurveTo(s+l,a+A,s+l-d,a+A),"bottom"===o&&this.drawCaret(e,t,n,r),t.lineTo(s+h,a+A),t.quadraticCurveTo(s,a+A,s,a+A-h),"center"===o&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(s,a+c),t.quadraticCurveTo(s,a,s+c,a),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=rU[e.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=aU(this,e),s=Object.assign({},n,this._size),a=AU(t,e,s),l=cU(e,s,a,t);r._to===l.x&&i._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=ZT(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),HF(e,t.textDirection),i.y+=o.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),zF(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}})),i=!mM(n,r),o=this._positionChanged(r,t);(i||o)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(e,i,t,n),s=this._positionChanged(o,e),a=t||!mM(o,i)||s;return a&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,o=rU[i.position].call(this,e,t);return!1!==o&&(n!==o.x||r!==o.y)}}var mU={id:"tooltip",_element:gU,positioners:rU,afterInit(e,t,n){n&&(e.tooltip=new gU({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:pU},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},vU=Object.freeze({__proto__:null,Colors:MP,Decimation:IP,Filler:qP,Legend:JP,SubTitle:nU,Title:eU,Tooltip:mU});function yU(e,t,n,r){const i=e.indexOf(t);if(-1===i)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return i!==e.lastIndexOf(t)?n:i}function bU(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class wU extends xL{static id="category";static defaults=(()=>({ticks:{callback:bU}}))();constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(lM(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:JM(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:yU(n,e,dM(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=t;o++)r.push({value:o});return r}getLabelForValue(e){return bU.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function xU(e,t){const n=[],{bounds:r,step:i,min:o,max:s,precision:a,count:l,maxTicks:A,maxDigits:c,includeBounds:u}=e,h=i||1,d=A-1,{min:p,max:f}=t,g=!lM(o),m=!lM(s),v=!lM(l),y=(f-p)/(c+1);let b,w,x,_,S=HM((f-p)/d/h)*h;if(S<1e-14&&!g&&!m)return[{value:p},{value:f}];_=Math.ceil(f/S)-Math.floor(p/S),_>d&&(S=HM(_*S/d/h)*h),lM(a)||(b=Math.pow(10,a),S=Math.ceil(S*b)/b),"ticks"===r?(w=Math.floor(p/S)*S,x=Math.ceil(f/S)*S):(w=p,x=f),g&&m&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((s-o)/i,S/1e3)?(_=Math.round(Math.min((s-o)/S,A)),S=(s-o)/_,w=o,x=s):v?(w=g?o:w,x=m?s:x,_=l-1,S=(x-w)/_):(_=(x-w)/S,_=QM(_,Math.round(_),S/1e3)?Math.round(_):Math.ceil(_));const C=Math.max(GM(S),GM(w));b=Math.pow(10,lM(a)?C:a),w=Math.round(w*b)/b,x=Math.round(x*b)/b;let B=0;for(g&&(u&&w!==o?(n.push({value:o}),w<o&&B++,QM(Math.round((w+B*S)*b)/b,o,_U(o,y,e))&&B++):w<o&&B++);B<_;++B){const e=Math.round((w+B*S)*b)/b;if(m&&e>s)break;n.push({value:e})}return m&&u&&x!==s?n.length&&QM(n[n.length-1].value,s,_U(s,y,e))?n[n.length-1].value=s:n.push({value:s}):m&&x!==s||n.push({value:x}),n}function _U(e,t,n){let{horizontal:r,minRotation:i}=n;const o=VM(i),s=(r?Math.sin(o):Math.cos(o))||.001,a=.75*t*(""+e).length;return Math.min(t/s,a)}class SU extends xL{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return lM(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const o=e=>r=t?r:e,s=e=>i=n?i:e;if(e){const e=OM(r),t=OM(i);e<0&&t<0?s(0):e>0&&t>0&&o(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);s(i+t),e||o(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=xU({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&jM(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return xT(e,this.chart.options.locale,this.options.ticks.format)}}class CU extends SU{static id="linear";static defaults=(()=>({ticks:{callback:ST.formatters.numeric}}))();determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=uM(e)?e:0,this.max=uM(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=VM(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const BU=e=>Math.floor(DM(e)),EU=(e,t)=>Math.pow(10,BU(e)+t);function MU(e){return 1===e/Math.pow(10,BU(e))}function TU(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function FU(e,t){let{min:n,max:r}=t;n=hM(e.min,n);const i=[],o=BU(n);let s=function(e,t){let n=BU(t-e);for(;TU(e,t,n)>10;)n++;for(;TU(e,t,n)<10;)n--;return Math.min(n,BU(e))}(n,r),a=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),A=o>s?Math.pow(10,o):0,c=Math.round((n-A)*a)/a,u=Math.floor((n-A)/l/10)*l*10;let h=Math.floor((c-u)/Math.pow(10,s)),d=hM(e.min,Math.round((A+u+h*Math.pow(10,s))*a)/a);for(;d<r;)i.push({value:d,major:MU(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,a=s>=0?1:a),d=Math.round((A+u+h*Math.pow(10,s))*a)/a;const p=hM(e.max,d);return i.push({value:p,major:MU(p),significand:h}),i}class IU extends xL{static id="logarithmic";static defaults=(()=>({ticks:{callback:ST.formatters.logarithmic,major:{enabled:!0}}}))();constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=SU.prototype.parse.apply(this,[e,t]);if(0!==n)return uM(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=uM(e)?Math.max(0,e):null,this.max=uM(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!uM(this._userMin)&&(this.min=e===EU(this.min,0)?EU(this.min,-1):EU(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const i=t=>n=e?n:t,o=e=>r=t?r:e;n===r&&(n<=0?(i(1),o(10)):(i(EU(n,-1)),o(EU(r,1)))),n<=0&&i(EU(r,-1)),r<=0&&o(EU(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=FU({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&jM(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":xT(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=DM(e),this._valueRange=DM(this.max)-DM(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(DM(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function LU(e){const t=e.ticks;if(t.display&&e.display){const e=ZT(t.backdropPadding);return dM(t.font&&t.font.size,FT.font.size)+e.height}return 0}function PU(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function UU(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],o=e._pointLabels.length,s=e.options.pointLabels,a=s.centerPointLabels?FM/o:0;for(let u=0;u<o;u++){const o=s.setContext(e.getPointLabelContext(u));i[u]=o.padding;const h=e.getPointPosition(u,e.drawingArea+i[u],a),d=eF(o.font),p=(l=e.ctx,A=d,c=AM(c=e._pointLabels[u])?c:[c],{w:LT(l,A.string,c),h:c.length*A.lineHeight});r[u]=p;const f=YM(e.getIndexAngle(u)+a),g=Math.round(WM(f));RU(n,t,f,PU(g,h.x,p.w,0,180),PU(g,h.y,p.h,90,270))}var l,A,c;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],i=e._pointLabels.length,o=e.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:LU(o)/2,additionalAngle:s?FM/i:0};let A;for(let c=0;c<i;c++){l.padding=n[c],l.size=t[c];const i=kU(e,c,l);r.push(i),"auto"===a&&(i.visible=NU(i,A),i.visible&&(A=i))}return r}(e,r,i)}function RU(e,t,n,r,i){const o=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n));let a=0,l=0;r.start<t.l?(a=(t.l-r.start)/o,e.l=Math.min(e.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/s,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/s,e.b=Math.max(e.b,t.b+l))}function kU(e,t,n){const r=e.drawingArea,{extra:i,additionalAngle:o,padding:s,size:a}=n,l=e.getPointPosition(t,r+i+s,o),A=Math.round(WM(YM(l.angle+RM))),c=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,a.h,A),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(A),h=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,a.w,u);return{visible:!0,x:l.x,y:c,textAlign:u,left:h,top:c,right:h+a.w,bottom:c+a.h}}function NU(e,t){if(!t)return!0;const{left:n,top:r,right:i,bottom:o}=e;return!(NT({x:n,y:r},t)||NT({x:n,y:o},t)||NT({x:i,y:r},t)||NT({x:i,y:o},t))}function DU(e,t,n){const{left:r,top:i,right:o,bottom:s}=n,{backdropColor:a}=t;if(!lM(a)){const n=JT(t.borderRadius),l=ZT(t.backdropPadding);e.fillStyle=a;const A=r-l.left,c=i-l.top,u=o-r+l.width,h=s-i+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),WT(e,{x:A,y:c,w:u,h:h,radius:n}),e.fill()):e.fillRect(A,c,u,h)}}function OU(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,IM);else{let n=e.getPointPosition(0,t);i.moveTo(n.x,n.y);for(let o=1;o<r;o++)n=e.getPointPosition(o,t),i.lineTo(n.x,n.y)}}class QU extends SU{static id="radialLinear";static defaults=(()=>({display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ST.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}))();static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ZT(LU(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=uM(e)&&!isNaN(e)?e:0,this.max=uM(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/LU(this.options))}generateTickLabels(e){SU.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=fM(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?UU(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return YM(e*(IM/(this._pointLabels.length||1))+VM(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(lM(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(lM(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return nF(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-RM+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),OU(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:i}=t,o=this._pointLabels.length;let s,a,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const t=e._pointLabelItems[i];if(!t.visible)continue;const o=r.setContext(e.getPointLabelContext(i));DU(n,o,t);const s=eF(o.font),{x:a,y:l,textAlign:A}=t;VT(n,e._pointLabels[i],a,l+s.lineHeight/2,s,{color:o.color,textAlign:A,textBaseline:"middle"})}}(this,o),r.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){a=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),s=r.setContext(n),l=i.setContext(n);!function(e,t,n,r,i){const o=e.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!r||!a||!l||n<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(i.dash),o.lineDashOffset=i.dashOffset,o.beginPath(),OU(e,n,s,r),o.closePath(),o.stroke(),o.restore())}(this,s,a,o,l)}})),n.display){for(e.save(),s=o-1;s>=0;s--){const r=n.setContext(this.getPointLabelContext(s)),{color:i,lineWidth:o}=r;o&&i&&(e.lineWidth=o,e.strokeStyle=i,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,a=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(s,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((r,s)=>{if(0===s&&this.min>=0&&!t.reverse)return;const a=n.setContext(this.getContext(s)),l=eF(a.font);if(i=this.getDistanceFromCenterForValue(this.ticks[s].value),a.showLabelBackdrop){e.font=l.string,o=e.measureText(r.label).width,e.fillStyle=a.backdropColor;const t=ZT(a.backdropPadding);e.fillRect(-o/2-t.left,-i-l.size/2-t.top,o+t.width,l.size+t.height)}VT(e,r.label,0,-i,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),e.restore()}drawTitle(){}}const HU={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zU=Object.keys(HU);function jU(e,t){return e-t}function VU(e,t){if(lM(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:o}=e._parseOpts;let s=t;return"function"===typeof r&&(s=r(s)),uM(s)||(s="string"===typeof r?n.parse(s,r):n.parse(s)),null===s?null:(i&&(s="week"!==i||!zM(o)&&!0!==o?n.startOf(s,i):n.startOf(s,"isoWeek",o)),+s)}function WU(e,t,n,r){const i=zU.length;for(let o=zU.indexOf(e);o<i-1;++o){const e=HU[zU[o]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return zU[o]}return zU[i-1]}function GU(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=eT(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function KU(e,t,n){const r=[],i={},o=t.length;let s,a;for(s=0;s<o;++s)a=t[s],i[a]=s,r.push({value:a,major:!1});return 0!==o&&n?function(e,t,n,r){const i=e._adapter,o=+i.startOf(t[0].value,r),s=t[t.length-1].value;let a,l;for(a=o;a<=s;a=+i.add(a,1,r))l=n[a],l>=0&&(t[l].major=!0);return t}(e,r,i,n):r}class qU extends xL{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new MI(e.adapters.date);r.init(t),xM(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:VU(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:s}=this.getUserBounds();function a(e){o||isNaN(e.min)||(r=Math.min(r,e.min)),s||isNaN(e.max)||(i=Math.max(i,e.max))}o&&s||(a(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||a(this.getMinMax(!1))),r=uM(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),i=uM(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?WU(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(let o=zU.length-1;o>=zU.indexOf(n);o--){const n=zU[o];if(HU[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return zU[n?zU.indexOf(n):0]}(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=zU.indexOf(e)+1,n=zU.length;t<n;++t)if(HU[zU[t]].common)return zU[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&o.reverse(),KU(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),i=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const o=n.length<3?.5:.25;r=JM(r,0,o),i=JM(i,0,o),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,o=i.unit||WU(i.minUnit,t,n,this._getLabelCapacity(t)),s=dM(r.ticks.stepSize,1),a="week"===o&&i.isoWeekday,l=zM(a)||!0===a,A={};let c,u,h=t;if(l&&(h=+e.startOf(h,"isoWeek",a)),h=+e.startOf(h,l?"day":o),e.diff(n,t,o)>1e5*s)throw new Error(t+" and "+n+" are too far apart with stepSize of "+s+" "+o);const d="data"===r.ticks.source&&this.getDataTimestamps();for(c=h,u=0;c<n;c=+e.add(c,s,o),u++)GU(A,c,d);return c!==n&&"ticks"!==r.bounds&&1!==u||GU(A,c,d),Object.keys(A).sort(jU).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,r){const i=this.options,o=i.ticks.callback;if(o)return fM(o,[e,t,n],this);const s=i.time.displayFormats,a=this._unit,l=this._majorUnit,A=a&&s[a],c=l&&s[l],u=n[t],h=l&&c&&u&&u.major;return this._adapter.format(e,r||(h?c:A))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=VM(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),o=Math.sin(r),s=this._resolveTickFontOptions(0).size;return{w:n*i+s*o,h:n*o+s*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,KU(this,[e],this._majorUnit),r),o=this._getLabelSize(i),s=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return s>0?s:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(VU(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return oT(e.sort(jU))}}function XU(e,t,n){let r,i,o,s,a=0,l=e.length-1;n?(t>=e[a].pos&&t<=e[l].pos&&({lo:a,hi:l}=tT(e,"pos",t)),({pos:r,time:o}=e[a]),({pos:i,time:s}=e[l])):(t>=e[a].time&&t<=e[l].time&&({lo:a,hi:l}=tT(e,"time",t)),({time:r,pos:o}=e[a]),({time:i,pos:s}=e[l]));const A=i-r;return A?o+(s-o)*(t-r)/A:o}class YU extends qU{static id="timeseries";static defaults=(()=>qU.defaults)();constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=XU(t,this.min),this._tableRange=XU(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],i=[];let o,s,a,l,A;for(o=0,s=e.length;o<s;++o)l=e[o],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,s=r.length;o<s;++o)A=r[o+1],a=r[o-1],l=r[o],Math.round((A+a)/2)!==l&&i.push({time:l,pos:o/(s-1)});return i}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(XU(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return XU(this._table,n*this._tableRange+this._minPos,!0)}}const $U=[CI,wP,vU,Object.freeze({__proto__:null,CategoryScale:wU,LinearScale:CU,LogarithmicScale:IU,RadialLinearScale:QU,TimeScale:qU,TimeSeriesScale:YU})],JU="label";function ZU(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function eR(e,t){e.labels=t}function tR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:JU;const r=[];e.datasets=t.map((t=>{const i=e.datasets.find((e=>e[n]===t[n]));return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):{...t}}))}function nR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JU;const n={labels:[],datasets:[]};return eR(n,e.labels),tR(n,e.datasets,t),n}function rR(e,n){const{height:r=150,width:i=300,redraw:o=!1,datasetIdKey:s,type:a,data:l,options:A,plugins:c=[],fallbackContent:u,updateMode:h,...d}=e,p=(0,t.useRef)(null),f=(0,t.useRef)(),g=()=>{p.current&&(f.current=new ZL(p.current,{type:a,data:nR(l,s),options:A&&{...A},plugins:c}),ZU(n,f.current))},m=()=>{ZU(n,null),f.current&&(f.current.destroy(),f.current=null)};return(0,t.useEffect)((()=>{!o&&f.current&&A&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(f.current,A)}),[o,A]),(0,t.useEffect)((()=>{!o&&f.current&&eR(f.current.config.data,l.labels)}),[o,l.labels]),(0,t.useEffect)((()=>{!o&&f.current&&l.datasets&&tR(f.current.config.data,l.datasets,s)}),[o,l.datasets]),(0,t.useEffect)((()=>{f.current&&(o?(m(),setTimeout(g)):f.current.update(h))}),[o,A,l.labels,l.datasets,h]),(0,t.useEffect)((()=>{f.current&&(m(),setTimeout(g))}),[a]),(0,t.useEffect)((()=>(g(),()=>m())),[]),t.createElement("canvas",Object.assign({ref:p,role:"img",height:r,width:i},d),u)}const iR=(0,t.forwardRef)(rR);function oR(e,n){return ZL.register(n),(0,t.forwardRef)(((n,r)=>t.createElement(iR,Object.assign({},n,{ref:r,type:e}))))}const sR=oR("line",_I);ZL.register(...$U);const aR={modes:{point:(e,t)=>AR(e,t,{intersect:!0}),nearest:(e,t,n)=>function(e,t,n){let r=Number.POSITIVE_INFINITY;return AR(e,t,n).reduce(((e,i)=>{const o=i.getCenterPoint(),s=function(e,t,n){if("x"===n)return{x:e.x,y:t.y};if("y"===n)return{x:t.x,y:e.y};return t}(t,o,n.axis),a=qM(t,s);return a<r?(e=[i],r=a):a===r&&e.push(i),e}),[]).sort(((e,t)=>e._index-t._index)).slice(0,1)}(e,t,n),x:(e,t,n)=>AR(e,t,{intersect:n.intersect,axis:"x"}),y:(e,t,n)=>AR(e,t,{intersect:n.intersect,axis:"y"})}};function lR(e,t,n){return(aR.modes[n.mode]||aR.modes.nearest)(e,t,n)}function AR(e,t,n){return e.visibleElements.filter((e=>n.intersect?e.inRange(t.x,t.y):function(e,t,n){return"x"!==n&&"y"!==n?e.inRange(t.x,t.y,"x",!0)||e.inRange(t.x,t.y,"y",!0):e.inRange(t.x,t.y,n,!0)}(e,t,n.axis)))}const cR=(e,t)=>t>e||e.length>t.length&&e.slice(0,t.length)===t,uR=.001,hR=(e,t,n)=>Math.min(n,Math.max(t,e));function dR(e,t,n){for(const r of Object.keys(e))e[r]=hR(e[r],t,n);return e}function pR(e,t,n,r){let{x:i,y:o,x2:s,y2:a}=t;const l=r/2,A=e.x>=i-l-uR&&e.x<=s+l+uR,c=e.y>=o-l-uR&&e.y<=a+l+uR;return"x"===n?A:("y"===n||A)&&c}function fR(e,t){const{centerX:n,centerY:r}=e.getProps(["centerX","centerY"],t);return{x:n,y:r}}const gR=e=>"string"===typeof e&&e.endsWith("%"),mR=e=>parseFloat(e)/100,vR=e=>hR(mR(e),0,1),yR=(e,t)=>({x:e,y:t,x2:e,y2:t,width:0,height:0}),bR={box:e=>yR(e.centerX,e.centerY),ellipse:e=>({centerX:e.centerX,centerY:e.centerX,radius:0,width:0,height:0}),label:e=>yR(e.centerX,e.centerY),line:e=>yR(e.x,e.y),point:e=>({centerX:e.centerX,centerY:e.centerY,radius:0,width:0,height:0}),polygon:e=>yR(e.centerX,e.centerY)};function wR(e,t){return"start"===t?0:"end"===t?e:gR(t)?vR(t)*e:e/2}function xR(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return"number"===typeof t?t:gR(t)?(n?vR(t):mR(t))*e:e}function _R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center";return cM(e)?{x:dM(e.x,t),y:dM(e.y,t)}:{x:e=dM(e,t),y:e}}function SR(e){return e&&(EM(e.xValue)||EM(e.yValue))}function CR(e,t,n){const r=n.init;if(r)return!0===r?ER(t,n):function(e,t,n){const r=fM(n.init,[{chart:e,properties:t,options:n}]);if(!0===r)return ER(t,n);if(cM(r))return r}(e,t,n)}function BR(e,t,n){let r=!1;return t.forEach((t=>{MM(e[t])?(r=!0,n[t]=e[t]):EM(n[t])&&delete n[t]})),r}function ER(e,t){const n=t.type||"line";return bR[n](e)}const MR=new Map,TR=e=>e.reduce((function(e,t){return e+=t.string}),"");function FR(e){if(e&&"object"===typeof e){const t=e.toString();return"[object HTMLImageElement]"===t||"[object HTMLCanvasElement]"===t}}function IR(e,t,n){let{x:r,y:i}=t;n&&(e.translate(r,i),e.rotate(VM(n)),e.translate(-r,-i))}function LR(e,t){if(t&&t.borderWidth)return e.lineCap=t.borderCapStyle,e.setLineDash(t.borderDash),e.lineDashOffset=t.borderDashOffset,e.lineJoin=t.borderJoinStyle,e.lineWidth=t.borderWidth,e.strokeStyle=t.borderColor,!0}function PR(e,t){e.shadowColor=t.backgroundShadowColor,e.shadowBlur=t.shadowBlur,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY}function UR(e,t){const n=t.content;if(FR(n))return{width:xR(n.width,t.width),height:xR(n.height,t.height)};const r=t.font,i=AM(r)?r.map((e=>eF(e))):[eF(r)],o=t.textStrokeWidth,s=AM(n)?n:[n],a=s.join()+TR(i)+o+(e._measureText?"-spriting":"");return MR.has(a)||MR.set(a,function(e,t,n,r){e.save();const i=t.length;let o=0,s=r;for(let a=0;a<i;a++){const i=n[Math.min(a,n.length-1)];e.font=i.string;const l=t[a];o=Math.max(o,e.measureText(l).width+r),s+=i.lineHeight}return e.restore(),{width:o,height:s}}(e,s,i,o)),MR.get(a)}function RR(e,t,n){const{x:r,y:i,width:o,height:s}=t;e.save(),PR(e,n);const a=LR(e,n);e.fillStyle=n.backgroundColor,e.beginPath(),WT(e,{x:r,y:i,w:o,h:s,radius:dR(JT(n.borderRadius),0,Math.min(o,s)/2)}),e.closePath(),e.fill(),a&&(e.shadowColor=n.borderShadowColor,e.stroke()),e.restore()}function kR(e,t,n){const r=n.content;if(FR(r))return e.save(),e.globalAlpha=function(e,t){const n=zM(e)?e:t;return zM(n)?hR(n,0,1):1}(n.opacity,r.style.opacity),e.drawImage(r,t.x,t.y,t.width,t.height),void e.restore();const i=AM(r)?r:[r],o=n.font,s=AM(o)?o.map((e=>eF(e))):[eF(o)],a=n.color,l=AM(a)?a:[a],A=function(e,t){const{x:n,width:r}=e,i=t.textAlign;return"center"===i?n+r/2:"end"===i||"right"===i?n+r:n}(t,n),c=t.y+n.textStrokeWidth/2;e.save(),e.textBaseline="middle",e.textAlign=n.textAlign,function(e,t){if(t.textStrokeWidth>0)return e.lineJoin="round",e.miterLimit=2,e.lineWidth=t.textStrokeWidth,e.strokeStyle=t.textStrokeColor,!0}(e,n)&&function(e,t,n,r){let{x:i,y:o}=t;e.beginPath();let s=0;n.forEach((function(t,n){const a=r[Math.min(n,r.length-1)],l=a.lineHeight;e.font=a.string,e.strokeText(t,i,o+l/2+s),s+=l})),e.stroke()}(e,{x:A,y:c},i,s),function(e,t,n,r){let{x:i,y:o}=t,{fonts:s,colors:a}=r,l=0;n.forEach((function(t,n){const r=a[Math.min(n,a.length-1)],A=s[Math.min(n,s.length-1)],c=A.lineHeight;e.beginPath(),e.font=A.string,e.fillStyle=r,e.fillText(t,i,o+c/2+l),l+=c,e.fill()}))}(e,{x:A,y:c},i,{fonts:s,colors:l}),e.restore()}function NR(e,t,n,r){const{radius:i,options:o}=t,s=o.pointStyle,a=o.rotation;let l=(a||0)*UM;if(FR(s))return e.save(),e.translate(n,r),e.rotate(l),e.drawImage(s,-s.width/2,-s.height/2,s.width,s.height),void e.restore();(e=>isNaN(e)||e<=0)(i)||function(e,t){let n,r,i,o,{x:s,y:a,radius:l,rotation:A,style:c,rad:u}=t;switch(e.beginPath(),c){default:e.arc(s,a,l,0,IM),e.closePath();break;case"triangle":e.moveTo(s+Math.sin(u)*l,a-Math.cos(u)*l),u+=NM,e.lineTo(s+Math.sin(u)*l,a-Math.cos(u)*l),u+=NM,e.lineTo(s+Math.sin(u)*l,a-Math.cos(u)*l),e.closePath();break;case"rectRounded":o=.516*l,i=l-o,n=Math.cos(u+kM)*i,r=Math.sin(u+kM)*i,e.arc(s-n,a-r,o,u-FM,u-RM),e.arc(s+r,a-n,o,u-RM,u),e.arc(s+n,a+r,o,u,u+RM),e.arc(s-r,a+n,o,u+RM,u+FM),e.closePath();break;case"rect":if(!A){i=Math.SQRT1_2*l,e.rect(s-i,a-i,2*i,2*i);break}u+=kM;case"rectRot":n=Math.cos(u)*l,r=Math.sin(u)*l,e.moveTo(s-n,a-r),e.lineTo(s+r,a-n),e.lineTo(s+n,a+r),e.lineTo(s-r,a+n),e.closePath();break;case"crossRot":u+=kM;case"cross":n=Math.cos(u)*l,r=Math.sin(u)*l,e.moveTo(s-n,a-r),e.lineTo(s+n,a+r),e.moveTo(s+r,a-n),e.lineTo(s-r,a+n);break;case"star":n=Math.cos(u)*l,r=Math.sin(u)*l,e.moveTo(s-n,a-r),e.lineTo(s+n,a+r),e.moveTo(s+r,a-n),e.lineTo(s-r,a+n),u+=kM,n=Math.cos(u)*l,r=Math.sin(u)*l,e.moveTo(s-n,a-r),e.lineTo(s+n,a+r),e.moveTo(s+r,a-n),e.lineTo(s-r,a+n);break;case"line":n=Math.cos(u)*l,r=Math.sin(u)*l,e.moveTo(s-n,a-r),e.lineTo(s+n,a+r);break;case"dash":e.moveTo(s,a),e.lineTo(s+Math.cos(u)*l,a+Math.sin(u)*l)}e.fill()}(e,{x:n,y:r,radius:i,rotation:a,style:s,rad:l})}const DR={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function OR(e,t,n){return uM(t="number"===typeof t?t:e.parse(t))?e.getPixelForValue(t):n}function QR(e,t,n){const r=t[n];if(r||"scaleID"===n)return r;const i=n.charAt(0),o=Object.values(e).filter((e=>e.axis&&e.axis===i));return o.length?o[0].id:i}function HR(e,t){if(e){const n=e.options.reverse;return{start:OR(e,t.min,n?t.end:t.start),end:OR(e,t.max,n?t.start:t.end)}}}function zR(e,t){const{chartArea:n,scales:r}=e,i=r[QR(r,t,"xScaleID")],o=r[QR(r,t,"yScaleID")];let s=n.width/2,a=n.height/2;return i&&(s=OR(i,t.xValue,i.left+i.width/2)),o&&(a=OR(o,t.yValue,o.top+o.height/2)),{x:s,y:a}}function jR(e,t){const n=e.scales,r=n[QR(n,t,"xScaleID")],i=n[QR(n,t,"yScaleID")];if(!r&&!i)return{};let{left:o,right:s}=r||e.chartArea,{top:a,bottom:l}=i||e.chartArea;const A=KR(r,{min:t.xMin,max:t.xMax,start:o,end:s});o=A.start,s=A.end;const c=KR(i,{min:t.yMin,max:t.yMax,start:l,end:a});return a=c.start,l=c.end,{x:o,y:a,x2:s,y2:l,width:s-o,height:l-a,centerX:o+(s-o)/2,centerY:a+(l-a)/2}}function VR(e,t){if(!SR(t)){const n=jR(e,t);let r=t.radius;r&&!isNaN(r)||(r=Math.min(n.width,n.height)/2,t.radius=r);const i=2*r,o=n.centerX+t.xAdjust,s=n.centerY+t.yAdjust;return{x:o-r,y:s-r,x2:o+r,y2:s+r,centerX:o,centerY:s,width:i,height:i,radius:r}}return function(e,t){const n=zR(e,t),r=2*t.radius;return{x:n.x-t.radius+t.xAdjust,y:n.y-t.radius+t.yAdjust,x2:n.x+t.radius+t.xAdjust,y2:n.y+t.radius+t.yAdjust,centerX:n.x+t.xAdjust,centerY:n.y+t.yAdjust,radius:t.radius,width:r,height:r}}(e,t)}function WR(e,t){const{scales:n,chartArea:r}=e,i=n[t.scaleID],o={x:r.left,y:r.top,x2:r.right,y2:r.bottom};return i?function(e,t,n){const r=OR(e,n.value,NaN),i=OR(e,n.endValue,r);e.isHorizontal()?(t.x=r,t.x2=i):(t.y=r,t.y2=i)}(i,o,t):function(e,t,n){for(const r of Object.keys(DR)){const i=e[QR(e,n,r)];if(i){const{min:e,max:o,start:s,end:a,startProp:l,endProp:A}=DR[r],c=HR(i,{min:n[e],max:n[o],start:i[s],end:i[a]});t[l]=c.start,t[A]=c.end}}}(n,o,t),o}function GR(e,t){const n=jR(e,t);return n.initProperties=CR(e,n,t),n.elements=[{type:"label",optionScope:"label",properties:XR(e,n,t),initProperties:n.initProperties}],n}function KR(e,t){const n=HR(e,t)||t;return{start:Math.min(n.start,n.end),end:Math.max(n.start,n.end)}}function qR(e,t){const{start:n,end:r,borderWidth:i}=e,{position:o,padding:{start:s,end:a},adjust:l}=t;return n+i/2+l+wR(r-i-n-s-a-t.size,o)}function XR(e,t,n){const r=n.label;r.backgroundColor="transparent",r.callout.display=!1;const i=_R(r.position),o=ZT(r.padding),s=UR(e.ctx,r),a=function(e,t,n,r){let{properties:i,options:o}=e;const{x:s,x2:a,width:l}=i;return qR({start:s,end:a,size:l,borderWidth:o.borderWidth},{position:n.x,padding:{start:r.left,end:r.right},adjust:o.label.xAdjust,size:t.width})}({properties:t,options:n},s,i,o),l=function(e,t,n,r){let{properties:i,options:o}=e;const{y:s,y2:a,height:l}=i;return qR({start:s,end:a,size:l,borderWidth:o.borderWidth},{position:n.y,padding:{start:r.top,end:r.bottom},adjust:o.label.yAdjust,size:t.height})}({properties:t,options:n},s,i,o),A=s.width+o.width,c=s.height+o.height;return{x:a,y:l,x2:a+A,y2:l+c,width:A,height:c,centerX:a+A/2,centerY:l+c/2,rotation:r.rotation}}function YR(e,t,n){const r=Math.cos(n),i=Math.sin(n),o=t.x,s=t.y;return{x:o+r*(e.x-o)-i*(e.y-s),y:s+i*(e.x-o)+r*(e.y-s)}}const $R=["enter","leave"],JR=$R.concat("click");function ZR(e,t,n){if(e.listened)switch(t.type){case"mousemove":case"mouseout":return function(e,t,n){if(!e.moveListened)return;let r;r="mousemove"===t.type?lR(e,t,n.interaction):[];const i=e.hovered;e.hovered=r;const o={state:e,event:t};let s=ek(o,"leave",i,r);return ek(o,"enter",r,i)||s}(e,t,n);case"click":return function(e,t,n){const r=e.listeners,i=lR(e,t,n.interaction);let o;for(const s of i)o=tk(s.options.click||r.click,s,t)||o;return o}(e,t,n)}}function ek(e,t,n,r){let i,{state:o,event:s}=e;for(const a of n)r.indexOf(a)<0&&(i=tk(a.options[t]||o.listeners[t],a,s)||i);return i}function tk(e,t,n){return!0===fM(e,[t.$context,n])}const nk=["afterDraw","beforeDraw"];function rk(e,t,n){if(e.hooked){return fM(t.options[n]||e.hooks[n],[t.$context])}}function ik(e,t,n){const r=function(e,t,n){const r=t.axis,i=t.id,o=r+"ScaleID",s={min:dM(t.min,Number.NEGATIVE_INFINITY),max:dM(t.max,Number.POSITIVE_INFINITY)};for(const a of n)a.scaleID===i?lk(a,t,["value","endValue"],s):QR(e,a,o)===i&&lk(a,t,[r+"Min",r+"Max",r+"Value"],s);return s}(e.scales,t,n);let i=ok(t,r,"min","suggestedMin");i=ok(t,r,"max","suggestedMax")||i,i&&MM(t.handleTickRangeOptions)&&t.handleTickRangeOptions()}function ok(e,t,n,r){if(uM(t[n])&&!function(e,t,n){return EM(e[t])||EM(e[n])}(e.options,n,r)){const r=e[n]!==t[n];return e[n]=t[n],r}}function sk(e,t){for(const n of["scaleID","xScaleID","yScaleID"]){const r=QR(t,e,n);r&&!t[r]&&ak(e,n)&&console.warn(`No scale found with id '${r}' for annotation '${e.id}'`)}}function ak(e,t){if("scaleID"===t)return!0;const n=t.charAt(0);for(const r of["Min","Max","Value"])if(EM(e[n+r]))return!0;return!1}function lk(e,t,n,r){for(const i of n){const n=e[i];if(EM(n)){const e=t.parse(n);r.min=Math.min(r.min,e),r.max=Math.max(r.max,e)}}}class Ak extends hL{inRange(e,t,n,r){const{x:i,y:o}=YR({x:e,y:t},this.getCenterPoint(r),VM(-this.options.rotation));return pR({x:i,y:o},this.getProps(["x","y","x2","y2"],r),n,this.options.borderWidth)}getCenterPoint(e){return fR(this,e)}draw(e){e.save(),IR(e,this.getCenterPoint(),this.options.rotation),RR(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return GR(e,t)}}Ak.id="boxAnnotation",Ak.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},Ak.defaultRoutes={borderColor:"color",backgroundColor:"color"},Ak.descriptors={label:{_fallback:!0}};const ck=["left","bottom","top","right"];class uk extends hL{inRange(e,t,n,r){const{x:i,y:o}=YR({x:e,y:t},this.getCenterPoint(r),VM(-this.rotation));return pR({x:i,y:o},this.getProps(["x","y","x2","y2"],r),n,this.options.borderWidth)}getCenterPoint(e){return fR(this,e)}draw(e){const t=this.options,n=!EM(this._visible)||this._visible;t.display&&t.content&&n&&(e.save(),IR(e,this.getCenterPoint(),this.rotation),function(e,t){const{pointX:n,pointY:r,options:i}=t,o=i.callout,s=o&&o.display&&function(e,t){const n=t.position;if(ck.includes(n))return n;return function(e,t){const{x:n,y:r,x2:i,y2:o,width:s,height:a,pointX:l,pointY:A,centerX:c,centerY:u,rotation:h}=e,d={x:c,y:u},p=t.start,f=xR(s,p),g=xR(a,p),m=[n,n+f,n+f,i],v=[r+g,o,r,o],y=[];for(let b=0;b<4;b++){const e=YR({x:m[b],y:v[b]},d,VM(h));y.push({position:ck[b],distance:qM(e,{x:l,y:A})})}return y.sort(((e,t)=>e.distance-t.distance))[0].position}(e,t)}(t,o);if(!s||function(e,t,n){const{pointX:r,pointY:i}=e,o=t.margin;let s=r,a=i;"left"===n?s+=o:"right"===n?s-=o:"top"===n?a+=o:"bottom"===n&&(a-=o);return e.inRange(s,a)}(t,o,s))return;e.save(),e.beginPath();const a=LR(e,o);if(!a)return e.restore();const{separatorStart:l,separatorEnd:A}=function(e,t){const{x:n,y:r,x2:i,y2:o}=e,s=function(e,t){const{width:n,height:r,options:i}=e,o=i.callout.margin+i.borderWidth/2;if("right"===t)return n+o;if("bottom"===t)return r+o;return-o}(e,t);let a,l;"left"===t||"right"===t?(a={x:n+s,y:r},l={x:a.x,y:o}):(a={x:n,y:r+s},l={x:i,y:a.y});return{separatorStart:a,separatorEnd:l}}(t,s),{sideStart:c,sideEnd:u}=function(e,t,n){const{y:r,width:i,height:o,options:s}=e,a=s.callout.start,l=function(e,t){const n=t.side;if("left"===e||"top"===e)return-n;return n}(t,s.callout);let A,c;"left"===t||"right"===t?(A={x:n.x,y:r+xR(o,a)},c={x:A.x+l,y:A.y}):(A={x:n.x+xR(i,a),y:n.y},c={x:A.x,y:A.y+l});return{sideStart:A,sideEnd:c}}(t,s,l);(o.margin>0||0===i.borderWidth)&&(e.moveTo(l.x,l.y),e.lineTo(A.x,A.y));e.moveTo(c.x,c.y),e.lineTo(u.x,u.y);const h=YR({x:n,y:r},t.getCenterPoint(),VM(-t.rotation));e.lineTo(h.x,h.y),e.stroke(),e.restore()}(e,this),RR(e,this,t),kR(e,function(e){let{x:t,y:n,width:r,height:i,options:o}=e;const s=o.borderWidth/2,a=ZT(o.padding);return{x:t+a.left+s,y:n+a.top+s,width:r-a.left-a.right-o.borderWidth,height:i-a.top-a.bottom-o.borderWidth}}(this),t),e.restore())}resolveElementProperties(e,t){let n;if(SR(t))n=zR(e,t);else{const{centerX:r,centerY:i}=jR(e,t);n={x:r,y:i}}const r=ZT(t.padding),i=function(e,t,n,r){const i=t.width+r.width+n.borderWidth,o=t.height+r.height+n.borderWidth,s=_R(n.position,"center"),a=hk(e.x,i,n.xAdjust,s.x),l=hk(e.y,o,n.yAdjust,s.y);return{x:a,y:l,x2:a+i,y2:l+o,width:i,height:o,centerX:a+i/2,centerY:l+o/2}}(n,UR(e.ctx,t),t,r);return{initProperties:CR(e,i,t),pointX:n.x,pointY:n.y,...i,rotation:t.rotation}}}function hk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e-wR(t,arguments.length>3?arguments[3]:void 0)+n}uk.id="labelAnnotation",uk.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},uk.defaultRoutes={borderColor:"color"};const dk=(e,t,n)=>({x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}),pk=(e,t,n)=>dk(t,n,Math.abs((e-t.y)/(n.y-t.y))).x,fk=(e,t,n)=>dk(t,n,Math.abs((e-t.x)/(n.x-t.x))).y,gk=e=>e*e,mk=(e,t,n,r)=>(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n,vk=(e,t,n,r)=>({x:mk(e.x,t.x,n.x,r),y:mk(e.y,t.y,n.y,r)}),yk=(e,t,n,r)=>2*(1-r)*(t-e)+2*r*(n-t),bk=(e,t,n,r)=>-Math.atan2(yk(e.x,t.x,n.x,r),yk(e.y,t.y,n.y,r))+.5*FM;class wk extends hL{inRange(e,t,n,r){const i=this.options.borderWidth/2;if("x"!==n&&"y"!==n){const n={mouseX:e,mouseY:t},{path:o,ctx:s}=this;if(o){LR(s,this.options);const{chart:i}=this.$context,a=e*i.currentDevicePixelRatio,l=t*i.currentDevicePixelRatio,A=s.isPointInStroke(o,a,l)||Sk(this,n,r);return s.restore(),A}return function(e,t){let{mouseX:n,mouseY:r}=t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uR,o=arguments.length>3?arguments[3]:void 0;const{x:s,y:a,x2:l,y2:A}=e.getProps(["x","y","x2","y2"],o),c=l-s,u=A-a,h=gk(c)+gk(u),d=0===h?-1:((n-s)*c+(r-a)*u)/h;let p,f;d<0?(p=s,f=a):d>1?(p=l,f=A):(p=s+d*c,f=a+d*u);return gk(n-p)+gk(r-f)<=i}(this,n,gk(i),r)||Sk(this,n,r)}return function(e,t,n,r){let{mouseX:i,mouseY:o}=t,{hBorderWidth:s,useFinalPosition:a}=r;const l=((e,t,n,r)=>{let{x:i,y:o,x2:s,y2:a}=n;return"y"===r?{start:Math.min(o,a),end:Math.max(o,a),value:t}:{start:Math.min(i,s),end:Math.max(i,s),value:e}})(i,o,e.getProps(["x","y","x2","y2"],a),n);return l.value>=l.start-s&&l.value<=l.end+s||Sk(e,{mouseX:i,mouseY:o},a,n)}(this,{mouseX:e,mouseY:t},n,{hBorderWidth:i,useFinalPosition:r})}getCenterPoint(e){return fR(this,e)}draw(e){const{x:t,y:n,x2:r,y2:i,cp:o,options:s}=this;if(e.save(),!LR(e,s))return e.restore();PR(e,s);const a=Math.sqrt(Math.pow(r-t,2)+Math.pow(i-n,2));if(s.curve&&o)return function(e,t,n,r){const{x:i,y:o,x2:s,y2:a,options:l}=t,{startOpts:A,endOpts:c,startAdjust:u,endAdjust:h}=Ek(t),d={x:i,y:o},p={x:s,y:a},f=bk(d,n,p,0),g=bk(d,n,p,1)-FM,m=vk(d,n,p,u/r),v=vk(d,n,p,1-h/r),y=new Path2D;e.beginPath(),y.moveTo(m.x,m.y),y.quadraticCurveTo(n.x,n.y,v.x,v.y),e.shadowColor=l.borderShadowColor,e.stroke(y),t.path=y,t.ctx=e,Fk(e,m,{angle:f,adjust:u},A),Fk(e,v,{angle:g,adjust:h},c)}(e,this,o,a),e.restore();const{startOpts:l,endOpts:A,startAdjust:c,endAdjust:u}=Ek(this),h=Math.atan2(i-n,r-t);e.translate(t,n),e.rotate(h),e.beginPath(),e.moveTo(0+c,0),e.lineTo(a-u,0),e.shadowColor=s.borderShadowColor,e.stroke(),Tk(e,0,c,l),Tk(e,a,-u,A),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){const n=WR(e,t),{x:r,y:i,x2:o,y2:s}=n,a=function(e,t){let{x:n,y:r,x2:i,y2:o}=e,{top:s,right:a,bottom:l,left:A}=t;return!(n<A&&i<A||n>a&&i>a||r<s&&o<s||r>l&&o>l)}(n,e.chartArea),l=a?function(e,t,n){const{x:r,y:i}=_k(e,t,n),{x:o,y:s}=_k(t,e,n);return{x:r,y:i,x2:o,y2:s,width:Math.abs(o-r),height:Math.abs(s-i)}}({x:r,y:i},{x:o,y:s},e.chartArea):{x:r,y:i,x2:o,y2:s,width:Math.abs(o-r),height:Math.abs(s-i)};if(l.centerX=(o+r)/2,l.centerY=(s+i)/2,l.initProperties=CR(e,l,t),t.curve){const e={x:l.x,y:l.y},n={x:l.x2,y:l.y2};l.cp=function(e,t,n){const{x:r,y:i,x2:o,y2:s,centerX:a,centerY:l}=e,A=Math.atan2(s-i,o-r),c=_R(t.controlPoint,0);return YR({x:a+xR(n,c.x,!1),y:l+xR(n,c.y,!1)},{x:a,y:l},A)}(l,t,qM(e,n))}const A=function(e,t,n){const r=n.borderWidth,i=ZT(n.padding),o=UR(e.ctx,n),s=o.width+i.width+r,a=o.height+i.height+r;return function(e,t,n,r){const{width:i,height:o,padding:s}=n,{xAdjust:a,yAdjust:l}=t,A={x:e.x,y:e.y},c={x:e.x2,y:e.y2},u="auto"===t.rotation?function(e){const{x:t,y:n,x2:r,y2:i}=e,o=Math.atan2(i-n,r-t);return o>FM/2?o-FM:o<FM/-2?o+FM:o}(e):VM(t.rotation),h=function(e,t,n){const r=Math.cos(n),i=Math.sin(n);return{w:Math.abs(e*r)+Math.abs(t*i),h:Math.abs(e*i)+Math.abs(t*r)}}(i,o,u),d=function(e,t,n,r){let i;const o=function(e,t){const{x:n,x2:r,y:i,y2:o}=e,s=Math.min(i,o)-t.top,a=Math.min(n,r)-t.left,l=t.bottom-Math.max(i,o),A=t.right-Math.max(n,r);return{x:Math.min(a,A),y:Math.min(s,l),dx:a<=A?1:-1,dy:s<=l?1:-1}}(e,r);i="start"===t.position?Ck({w:e.x2-e.x,h:e.y2-e.y},n,t,o):"end"===t.position?1-Ck({w:e.x-e.x2,h:e.y-e.y2},n,t,o):wR(1,t.position);return i}(e,t,{labelSize:h,padding:s},r),p=e.cp?vk(A,e.cp,c,d):dk(A,c,d),f={size:h.w,min:r.left,max:r.right,padding:s.left},g={size:h.h,min:r.top,max:r.bottom,padding:s.top},m=Bk(p.x,f)+a,v=Bk(p.y,g)+l;return{x:m-i/2,y:v-o/2,x2:m+i/2,y2:v+o/2,centerX:m,centerY:v,pointX:p.x,pointY:p.y,width:i,height:o,rotation:WM(u)}}(t,n,{width:s,height:a,padding:i},e.chartArea)}(e,l,t.label);return A._visible=a,l.elements=[{type:"label",optionScope:"label",properties:A,initProperties:l.initProperties}],l}}wk.id="lineAnnotation";const xk={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};function _k(e,t,n){let{x:r,y:i}=e,{top:o,right:s,bottom:a,left:l}=n;return r<l&&(i=fk(l,{x:r,y:i},t),r=l),r>s&&(i=fk(s,{x:r,y:i},t),r=s),i<o&&(r=pk(o,{x:r,y:i},t),i=o),i>a&&(r=pk(a,{x:r,y:i},t),i=a),{x:r,y:i}}function Sk(e,t,n,r){let{mouseX:i,mouseY:o}=t;const s=e.label;return s.options.display&&s.inRange(i,o,r,n)}function Ck(e,t,n,r){const{labelSize:i,padding:o}=t,s=e.w*r.dx,a=e.h*r.dy,l=s>0&&(i.w/2+o.left-r.x)/s,A=a>0&&(i.h/2+o.top-r.y)/a;return hR(Math.max(l,A),0,.25)}function Bk(e,t){const{size:n,min:r,max:i,padding:o}=t,s=n/2;return n>i-r?(i+r)/2:(r>=e-o-s&&(e=r+o+s),i<=e+o+s&&(e=i-o-s),e)}function Ek(e){const t=e.options,n=t.arrowHeads&&t.arrowHeads.start,r=t.arrowHeads&&t.arrowHeads.end;return{startOpts:n,endOpts:r,startAdjust:Mk(e,n),endAdjust:Mk(e,r)}}function Mk(e,t){if(!t||!t.display)return 0;const{length:n,width:r}=t,i=e.options.borderWidth/2,o={x:n,y:r+i},s={x:0,y:i};return Math.abs(pk(0,o,s))}function Tk(e,t,n,r){if(!r||!r.display)return;const{length:i,width:o,fill:s,backgroundColor:a,borderColor:l}=r,A=Math.abs(t-i)+n;e.beginPath(),PR(e,r),LR(e,r),e.moveTo(A,-o),e.lineTo(t+n,0),e.lineTo(A,o),!0===s?(e.fillStyle=a||l,e.closePath(),e.fill(),e.shadowColor="transparent"):e.shadowColor=r.borderShadowColor,e.stroke()}function Fk(e,t,n,r){let{x:i,y:o}=t,{angle:s,adjust:a}=n;r&&r.display&&(e.save(),e.translate(i,o),e.rotate(s),Tk(e,0,-a,r),e.restore())}wk.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},xk),fill:!1,length:12,start:Object.assign({},xk),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},uk.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},wk.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}},wk.defaultRoutes={borderColor:"color"};class Ik extends hL{inRange(e,t,n,r){const i=this.options.rotation,o=this.options.borderWidth;if("x"!==n&&"y"!==n)return function(e,t,n,r){const{width:i,height:o,centerX:s,centerY:a}=t,l=i/2,A=o/2;if(l<=0||A<=0)return!1;const c=VM(n||0),u=r/2||0,h=Math.cos(c),d=Math.sin(c),p=Math.pow(h*(e.x-s)+d*(e.y-a),2),f=Math.pow(d*(e.x-s)-h*(e.y-a),2);return p/Math.pow(l+u,2)+f/Math.pow(A+u,2)<=1.0001}({x:e,y:t},this.getProps(["width","height","centerX","centerY"],r),i,o);const{x:s,y:a,x2:l,y2:A}=this.getProps(["x","y","x2","y2"],r),c=o/2,u="y"===n?{start:a,end:A}:{start:s,end:l},h=YR({x:e,y:t},this.getCenterPoint(r),VM(-i));return h[n]>=u.start-c-uR&&h[n]<=u.end+c+uR}getCenterPoint(e){return fR(this,e)}draw(e){const{width:t,height:n,centerX:r,centerY:i,options:o}=this;e.save(),IR(e,this.getCenterPoint(),o.rotation),PR(e,this.options),e.beginPath(),e.fillStyle=o.backgroundColor;const s=LR(e,o);e.ellipse(r,i,n/2,t/2,FM/2,0,2*FM),e.fill(),s&&(e.shadowColor=o.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return GR(e,t)}}Ik.id="ellipseAnnotation",Ik.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,label:Object.assign({},Ak.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},Ik.defaultRoutes={borderColor:"color",backgroundColor:"color"},Ik.descriptors={label:{_fallback:!0}};class Lk extends hL{inRange(e,t,n,r){const{x:i,y:o,x2:s,y2:a,width:l}=this.getProps(["x","y","x2","y2","width"],r),A=this.options.borderWidth;if("x"!==n&&"y"!==n)return function(e,t,n,r){if(!e||!t||n<=0)return!1;const i=r/2;return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(n+i,2)}({x:e,y:t},this.getCenterPoint(r),l/2,A);const c=A/2,u="y"===n?{start:o,end:a,value:t}:{start:i,end:s,value:e};return u.value>=u.start-c&&u.value<=u.end+c}getCenterPoint(e){return fR(this,e)}draw(e){const t=this.options,n=t.borderWidth;if(t.radius<.1)return;e.save(),e.fillStyle=t.backgroundColor,PR(e,t);const r=LR(e,t);NR(e,this,this.centerX,this.centerY),r&&!FR(t.pointStyle)&&(e.shadowColor=t.borderShadowColor,e.stroke()),e.restore(),t.borderWidth=n}resolveElementProperties(e,t){const n=VR(e,t);return n.initProperties=CR(e,n,t),n}}Lk.id="pointAnnotation",Lk.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},Lk.defaultRoutes={borderColor:"color",backgroundColor:"color"};class Pk extends hL{inRange(e,t,n,r){if("x"!==n&&"y"!==n)return this.options.radius>=.1&&this.elements.length>1&&function(e,t,n,r){let i=!1,o=e[e.length-1].getProps(["bX","bY"],r);for(const s of e){const e=s.getProps(["bX","bY"],r);e.bY>n!==o.bY>n&&t<(o.bX-e.bX)*(n-e.bY)/(o.bY-e.bY)+e.bX&&(i=!i),o=e}return i}(this.elements,e,t,r);const i=YR({x:e,y:t},this.getCenterPoint(r),VM(-this.options.rotation)),o=this.elements.map((e=>"y"===n?e.bY:e.bX)),s=Math.min(...o),a=Math.max(...o);return i[n]>=s&&i[n]<=a}getCenterPoint(e){return fR(this,e)}draw(e){const{elements:t,options:n}=this;e.save(),e.beginPath(),e.fillStyle=n.backgroundColor,PR(e,n);const r=LR(e,n);let i=!0;for(const o of t)i?(e.moveTo(o.x,o.y),i=!1):e.lineTo(o.x,o.y);e.closePath(),e.fill(),r&&(e.shadowColor=n.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,t){const n=VR(e,t),{sides:r,rotation:i}=t,o=[],s=2*FM/r;let a=i*UM;for(let l=0;l<r;l++,a+=s){const r=Uk(n,t,a);r.initProperties=CR(e,n,t),o.push(r)}return n.elements=o,n}}function Uk(e,t,n){let{centerX:r,centerY:i}=e,{radius:o,borderWidth:s}=t;const a=s/2,l=Math.sin(n),A=Math.cos(n),c={x:r+l*o,y:i-A*o};return{type:"point",optionScope:"point",properties:{x:c.x,y:c.y,centerX:c.x,centerY:c.y,bX:r+l*(o+a),bY:i-A*(o+a)}}}Pk.id="polygonAnnotation",Pk.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},Pk.defaultRoutes={borderColor:"color",backgroundColor:"color"};const Rk={box:Ak,ellipse:Ik,label:uk,line:wk,point:Lk,polygon:Pk};Object.keys(Rk).forEach((e=>{FT.describe(`elements.${Rk[e].id}`,{_fallback:"plugins.annotation.common"})}));const kk={update:Object.assign},Nk=JR.concat(nk),Dk=(e,t)=>cM(t)?Gk(e,t):e,Ok=e=>"color"===e||"font"===e;function Qk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"line";return Rk[e]?e:(console.warn(`Unknown annotation type: '${e}', defaulting to 'line'`),"line")}function Hk(e,t,n,r){const i=function(e,t,n){if("reset"===n||"none"===n||"resize"===n)return kk;return new tI(e,t)}(e,n.animations,r),o=t.annotations,s=function(e,t){const n=t.length,r=e.length;if(r<n){const t=n-r;e.splice(r,0,...new Array(t))}else r>n&&e.splice(n,r-n);return e}(t.elements,o);for(let a=0;a<o.length;a++){const t=o[a],n=Vk(s,a,t.type),r=t.setContext(Kk(e,n,t)),l=n.resolveElementProperties(e,r);l.skip=zk(l),"elements"in l&&(jk(n,l.elements,r,i),delete l.elements),EM(n.x)||Object.assign(n,l),Object.assign(n,l.initProperties),l.options=Wk(r),i.update(n,l)}}function zk(e){return isNaN(e.x)||isNaN(e.y)}function jk(e,t,n,r){const i=e.elements||(e.elements=[]);i.length=t.length;for(let o=0;o<t.length;o++){const e=t[o],s=e.properties,a=Vk(i,o,e.type,e.initProperties),l=n[e.optionScope].override(e);s.options=Wk(l),r.update(a,s)}}function Vk(e,t,n,r){const i=Rk[Qk(n)];let o=e[t];return o&&o instanceof i||(o=e[t]=new i,Object.assign(o,r)),o}function Wk(e){const t=Rk[Qk(e.type)],n={};n.id=e.id,n.type=e.type,n.drawTime=e.drawTime,Object.assign(n,Gk(e,t.defaults),Gk(e,t.defaultRoutes));for(const r of Nk)n[r]=e[r];return n}function Gk(e,t){const n={};for(const r of Object.keys(t)){const i=t[r],o=e[r];Ok(r)&&AM(o)?n[r]=o.map((e=>Dk(e,i))):n[r]=Dk(o,i)}return n}function Kk(e,t,n){return t.$context||(t.$context=Object.assign(Object.create(e.getContext()),{element:t,id:n.id,type:"annotation"}))}const qk=new Map,Xk=JR.concat(nk);var Yk={id:"annotation",version:"3.0.1",beforeRegister(){!function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=n.split(".");let o=0;for(const s of t.split(".")){const a=i[o++];if(parseInt(s,10)<parseInt(a,10))break;if(cR(a,s)){if(r)throw new Error(`${e} v${n} is not supported. v${t} or newer is required.`);return!1}}}("chart.js","4.0",ZL.version)},afterRegister(){ZL.register(Rk)},afterUnregister(){ZL.unregister(Rk)},beforeInit(e){qk.set(e,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(e,t,n){const r=qk.get(e).annotations=[];let i=n.annotations;cM(i)?Object.keys(i).forEach((e=>{const t=i[e];cM(t)&&(t.id=e,r.push(t))})):AM(i)&&r.push(...i),function(e,t){for(const n of e)sk(n,t)}(r,e.scales)},afterDataLimits(e,t){const n=qk.get(e);ik(e,t.scale,n.annotations.filter((e=>e.display&&e.adjustScaleRange)))},afterUpdate(e,t,n){const r=qk.get(e);!function(e,t,n){t.listened=BR(n,JR,t.listeners),t.moveListened=!1,t._getElements=lR,$R.forEach((e=>{MM(n[e])&&(t.moveListened=!0)})),t.listened&&t.moveListened||t.annotations.forEach((e=>{!t.listened&&MM(e.click)&&(t.listened=!0),t.moveListened||$R.forEach((n=>{MM(e[n])&&(t.listened=!0,t.moveListened=!0)}))}))}(0,r,n),Hk(e,r,n,t.mode),r.visibleElements=r.elements.filter((e=>!e.skip&&e.options.display)),function(e,t,n){const r=t.visibleElements;t.hooked=BR(n,nk,t.hooks),t.hooked||r.forEach((e=>{t.hooked||nk.forEach((n=>{MM(e.options[n])&&(t.hooked=!0)}))}))}(0,r,n)},beforeDatasetsDraw(e,t,n){$k(e,"beforeDatasetsDraw",n.clip)},afterDatasetsDraw(e,t,n){$k(e,"afterDatasetsDraw",n.clip)},beforeDraw(e,t,n){$k(e,"beforeDraw",n.clip)},afterDraw(e,t,n){$k(e,"afterDraw",n.clip)},beforeEvent(e,t,n){ZR(qk.get(e),t.event,n)&&(t.changed=!0)},afterDestroy(e){qk.delete(e)},_getState:e=>qk.get(e),defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:e=>!Xk.includes(e)&&"init"!==e,annotations:{_allKeys:!1,_fallback:(e,t)=>`elements.${Rk[Qk(t.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:Ok,_fallback:!0},_indexable:Ok}},additionalOptionScopes:[""]};function $k(e,t,n){const{ctx:r,chartArea:i}=e,o=qk.get(e);n&&DT(r,i);const s=function(e,t){const n=[];for(const r of e)if(r.options.drawTime===t&&n.push({element:r,main:!0}),r.elements&&r.elements.length)for(const e of r.elements)e.options.display&&e.options.drawTime===t&&n.push({element:e});return n}(o.visibleElements,t).sort(((e,t)=>e.element.options.z-t.element.options.z));for(const a of s)Jk(r,i,o,a);n&&OT(r)}function Jk(e,t,n,r){const i=r.element;r.main?(rk(n,i,"beforeDraw"),i.draw(e,t),rk(n,i,"afterDraw")):i.draw(e,t)}ZL.register(...$U,Yk);const Zk=e=>{let{heartRateData:t,hrvData:n,runningAverageHRV:r,tags:i,maxMinData:o,isSummary:s=!1}=e;const a=60,l=t.length;let A=t,c=n,u=i,h=r;!s&&l>a&&(A=t.slice(l-a),c=n.slice(l-a),u=i.filter((e=>e.index>=l-a)),h=r.slice(l-a));const d={labels:A.map(((e,t)=>l>a&&!s?l-a+t+1:t+1)),datasets:[{label:"Heart Rate (BPM)",data:A,fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.5)",tension:.4,pointRadius:0,yAxisID:"y"},{label:"HRV (RMSSD)",data:c,fill:!1,backgroundColor:"rgb(54, 162, 235)",borderColor:"rgba(54, 162, 235, 0.5)",tension:.4,pointRadius:0,yAxisID:"y1"},{label:"Running Avg HRV",data:h,fill:!1,backgroundColor:"rgb(75, 192, 192)",borderColor:"rgba(75, 192, 192, 0.5)",tension:.4,pointRadius:0,yAxisID:"y1"}]},p=u.map((e=>({type:"line",xMin:l>a&&!s?e.index-(l-a)+1:e.index+1,xMax:l>a&&!s?e.index-(l-a)+1:e.index+1,borderColor:e.color,borderWidth:2,label:{enabled:!0,content:e.type,position:"start"}})));if(o){const{maxHR:e,minHR:t,maxHRIndex:n,minHRIndex:r,maxHRV:i,minHRV:A,maxHRVIndex:c,minHRVIndex:u,averageHR:h,averageHRV:d}=o;p.push({type:"point",xValue:l>a&&!s?n-(l-a)+1:n+1,yValue:e,backgroundColor:"red",radius:5,label:{enabled:!0,content:`Max HR: ${e}`,position:"top"},yScaleID:"y"},{type:"point",xValue:l>a&&!s?r-(l-a)+1:r+1,yValue:t,backgroundColor:"red",radius:5,label:{enabled:!0,content:`Min HR: ${t}`,position:"bottom"},yScaleID:"y"},{type:"point",xValue:l>a&&!s?c-(l-a)+1:c+1,yValue:i,backgroundColor:"blue",radius:5,label:{enabled:!0,content:`Max HRV: ${i}`,position:"top"},yScaleID:"y1"},{type:"point",xValue:l>a&&!s?u-(l-a)+1:u+1,yValue:A,backgroundColor:"blue",radius:5,label:{enabled:!0,content:`Min HRV: ${A}`,position:"bottom"},yScaleID:"y1"},{type:"line",yMin:h,yMax:h,borderWidth:3,borderColor:"orange",label:{display:!0,content:`Avg HR: ${h}`,position:"left",backgroundColor:"orange",padding:10}},{type:"line",yMin:d,yMax:d,yScaleID:"y1",borderWidth:3,borderColor:"#8267EF",label:{display:!0,content:`Avg HRV: ${d}`,position:"left",backgroundColor:"#8267EF",padding:10}})}const f={animation:{duration:0},hover:{animationDuration:0},responsiveAnimationDuration:0,scales:{x:{title:{display:!0,text:"Time (s)"}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Heart Rate"}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},title:{display:!0,text:"HRV"}}},plugins:{tooltip:{enabled:!0,mode:"nearest",intersect:!1,callbacks:{label:function(e){let t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=e.parsed.y.toFixed(2)),t}}},annotation:{annotations:p},legend:{onClick:(e,t,n)=>{const r=t.datasetIndex,i=n.chart;i.getDatasetMeta(r).hidden=!i.getDatasetMeta(r).hidden,i.update()}}}};return(0,g.jsx)(sR,{data:d,options:f})};var eN=n(2284),tN=Uint8Array,nN=Uint16Array,rN=Uint32Array,iN=new tN([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),oN=new tN([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sN=new tN([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aN=function(e,t){for(var n=new nN(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new rN(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},lN=aN(iN,2),AN=lN[0],cN=lN[1];AN[28]=258,cN[258]=28;for(var uN=aN(oN,0),hN=uN[0],dN=uN[1],pN=new nN(32768),fN=0;fN<32768;++fN){var gN=(43690&fN)>>>1|(21845&fN)<<1;gN=(61680&(gN=(52428&gN)>>>2|(13107&gN)<<2))>>>4|(3855&gN)<<4,pN[fN]=((65280&gN)>>>8|(255&gN)<<8)>>>1}var mN=function(e,t,n){for(var r=e.length,i=0,o=new nN(t);i<r;++i)++o[e[i]-1];var s,a=new nN(t);for(i=0;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;if(n){s=new nN(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var A=i<<4|e[i],c=t-e[i],u=a[e[i]-1]++<<c,h=u|(1<<c)-1;u<=h;++u)s[pN[u]>>>l]=A}else for(s=new nN(r),i=0;i<r;++i)s[i]=pN[a[e[i]-1]++]>>>15-e[i];return s},vN=new tN(288);for(fN=0;fN<144;++fN)vN[fN]=8;for(fN=144;fN<256;++fN)vN[fN]=9;for(fN=256;fN<280;++fN)vN[fN]=7;for(fN=280;fN<288;++fN)vN[fN]=8;var yN=new tN(32);for(fN=0;fN<32;++fN)yN[fN]=5;var bN=mN(vN,9,0),wN=mN(vN,9,1),xN=mN(yN,5,0),_N=mN(yN,5,1),SN=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},CN=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>>(7&t)&n},BN=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>>(7&t)},EN=function(e){return(e/8|0)+(7&e&&1)},MN=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof nN?nN:e instanceof rN?rN:tN)(n-t);return r.set(e.subarray(t,n)),r},TN=function(e,t,n){var r=e.length,i=!t||n,o=!n||n.i;n||(n={}),t||(t=new tN(3*r));var s=function(e){var n=t.length;if(e>n){var r=new tN(Math.max(2*n,e));r.set(t),t=r}},a=n.f||0,l=n.p||0,A=n.b||0,c=n.l,u=n.d,h=n.m,d=n.n,p=8*r;do{if(!c){n.f=a=CN(e,l,1);var f=CN(e,l+1,3);if(l+=3,!f){var g=e[(E=EN(l)+4)-4]|e[E-3]<<8,m=E+g;if(m>r){if(o)throw"unexpected EOF";break}i&&s(A+g),t.set(e.subarray(E,m),A),n.b=A+=g,n.p=l=8*m;continue}if(1==f)c=wN,u=_N,h=9,d=5;else{if(2!=f)throw"invalid block type";var v=CN(e,l,31)+257,y=CN(e,l+10,15)+4,b=v+CN(e,l+5,31)+1;l+=14;for(var w=new tN(b),x=new tN(19),_=0;_<y;++_)x[sN[_]]=CN(e,l+3*_,7);l+=3*y;var S=SN(x),C=(1<<S)-1;if(!o&&l+b*(S+7)>p)break;var B=mN(x,S,1);for(_=0;_<b;){var E,M=B[CN(e,l,C)];if(l+=15&M,(E=M>>>4)<16)w[_++]=E;else{var T=0,F=0;for(16==E?(F=3+CN(e,l,3),l+=2,T=w[_-1]):17==E?(F=3+CN(e,l,7),l+=3):18==E&&(F=11+CN(e,l,127),l+=7);F--;)w[_++]=T}}var I=w.subarray(0,v),L=w.subarray(v);h=SN(I),d=SN(L),c=mN(I,h,1),u=mN(L,d,1)}if(l>p)throw"unexpected EOF"}i&&s(A+131072);for(var P=(1<<h)-1,U=(1<<d)-1,R=h+d+18;o||l+R<p;){var k=(T=c[BN(e,l)&P])>>>4;if((l+=15&T)>p)throw"unexpected EOF";if(!T)throw"invalid length/literal";if(k<256)t[A++]=k;else{if(256==k){c=null;break}var N=k-254;if(k>264){var D=iN[_=k-257];N=CN(e,l,(1<<D)-1)+AN[_],l+=D}var O=u[BN(e,l)&U],Q=O>>>4;if(!O)throw"invalid distance";l+=15&O;L=hN[Q];if(Q>3){D=oN[Q];L+=BN(e,l)&(1<<D)-1,l+=D}if(l>p)throw"unexpected EOF";i&&s(A+131072);for(var H=A+N;A<H;A+=4)t[A]=t[A-L],t[A+1]=t[A+1-L],t[A+2]=t[A+2-L],t[A+3]=t[A+3-L];A=H}}n.l=c,n.p=l,n.b=A,c&&(a=1,n.m=h,n.d=u,n.n=d)}while(!a);return A==t.length?t:MN(t,0,A)},FN=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},IN=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},LN=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[new tN(0),0];if(1==i){var s=new tN(n[0].s+1);return s[n[0].s]=1,[s,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var a=n[0],l=n[1],A=0,c=1,u=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=n[n[A].f<n[u].f?A++:u++],l=n[A!=c&&n[A].f<n[u].f?A++:u++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};var h=o[0].s;for(r=1;r<i;++r)o[r].s>h&&(h=o[r].s);var d=new nN(h+1),p=PN(n[c-1],d,0);if(p>t){r=0;var f=0,g=p-t,m=1<<g;for(o.sort((function(e,t){return d[t.s]-d[e.s]||e.f-t.f}));r<i;++r){var v=o[r].s;if(!(d[v]>t))break;f+=m-(1<<p-d[v]),d[v]=t}for(f>>>=g;f>0;){var y=o[r].s;d[y]<t?f-=1<<t-d[y]++-1:++r}for(;r>=0&&f;--r){var b=o[r].s;d[b]==t&&(--d[b],++f)}p=t}return[new tN(d),p]},PN=function(e,t,n){return-1==e.s?Math.max(PN(e.l,t,n+1),PN(e.r,t,n+1)):t[e.s]=n},UN=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new nN(++t),r=0,i=e[0],o=1,s=function(e){n[r++]=e},a=1;a<=t;++a)if(e[a]==i&&a!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[a]}return[n.subarray(0,r),t]},RN=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},kN=function(e,t,n){var r=n.length,i=EN(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},NN=function(e,t,n,r,i,o,s,a,l,A,c){FN(t,c++,n),++i[256];for(var u=LN(i,15),h=u[0],d=u[1],p=LN(o,15),f=p[0],g=p[1],m=UN(h),v=m[0],y=m[1],b=UN(f),w=b[0],x=b[1],_=new nN(19),S=0;S<v.length;++S)_[31&v[S]]++;for(S=0;S<w.length;++S)_[31&w[S]]++;for(var C=LN(_,7),B=C[0],E=C[1],M=19;M>4&&!B[sN[M-1]];--M);var T,F,I,L,P=A+5<<3,U=RN(i,vN)+RN(o,yN)+s,R=RN(i,h)+RN(o,f)+s+14+3*M+RN(_,B)+(2*_[16]+3*_[17]+7*_[18]);if(P<=U&&P<=R)return kN(t,c,e.subarray(l,l+A));if(FN(t,c,1+(R<U)),c+=2,R<U){T=mN(h,d,0),F=h,I=mN(f,g,0),L=f;var k=mN(B,E,0);FN(t,c,y-257),FN(t,c+5,x-1),FN(t,c+10,M-4),c+=14;for(S=0;S<M;++S)FN(t,c+3*S,B[sN[S]]);c+=3*M;for(var N=[v,w],D=0;D<2;++D){var O=N[D];for(S=0;S<O.length;++S){var Q=31&O[S];FN(t,c,k[Q]),c+=B[Q],Q>15&&(FN(t,c,O[S]>>>5&127),c+=O[S]>>>12)}}}else T=bN,F=vN,I=xN,L=yN;for(S=0;S<a;++S)if(r[S]>255){Q=r[S]>>>18&31;IN(t,c,T[Q+257]),c+=F[Q+257],Q>7&&(FN(t,c,r[S]>>>23&31),c+=iN[Q]);var H=31&r[S];IN(t,c,I[H]),c+=L[H],H>3&&(IN(t,c,r[S]>>>5&8191),c+=oN[H])}else IN(t,c,T[r[S]]),c+=F[r[S]];return IN(t,c,T[256]),c+F[256]},DN=new rN([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ON=new tN(0),QN=function(e,t,n,r,i,o){var s=e.length,a=new tN(r+s+5*(1+Math.floor(s/7e3))+i),l=a.subarray(r,a.length-i),A=0;if(!t||s<8)for(var c=0;c<=s;c+=65535){var u=c+65535;u<s?A=kN(l,A,e.subarray(c,u)):(l[c]=o,A=kN(l,A,e.subarray(c,s)))}else{for(var h=DN[t-1],d=h>>>13,p=8191&h,f=(1<<n)-1,g=new nN(32768),m=new nN(f+1),v=Math.ceil(n/3),y=2*v,b=function(t){return(e[t]^e[t+1]<<v^e[t+2]<<y)&f},w=new rN(25e3),x=new nN(288),_=new nN(32),S=0,C=0,B=(c=0,0),E=0,M=0;c<s;++c){var T=b(c),F=32767&c,I=m[T];if(g[F]=I,m[T]=F,E<=c){var L=s-c;if((S>7e3||B>24576)&&L>423){A=NN(e,l,0,w,x,_,C,B,M,c-M,A),B=S=C=0,M=c;for(var P=0;P<286;++P)x[P]=0;for(P=0;P<30;++P)_[P]=0}var U=2,R=0,k=p,N=F-I&32767;if(L>2&&T==b(c-N))for(var D=Math.min(d,L)-1,O=Math.min(32767,c),Q=Math.min(258,L);N<=O&&--k&&F!=I;){if(e[c+U]==e[c+U-N]){for(var H=0;H<Q&&e[c+H]==e[c+H-N];++H);if(H>U){if(U=H,R=N,H>D)break;var z=Math.min(N,H-2),j=0;for(P=0;P<z;++P){var V=c-N+P+32768&32767,W=V-g[V]+32768&32767;W>j&&(j=W,I=V)}}}N+=(F=I)-(I=g[F])+32768&32767}if(R){w[B++]=268435456|cN[U]<<18|dN[R];var G=31&cN[U],K=31&dN[R];C+=iN[G]+oN[K],++x[257+G],++_[K],E=c+U,++S}else w[B++]=e[c],++x[e[c]]}}A=NN(e,l,o,w,x,_,C,B,M,c-M,A),o||(A=kN(l,A,ON))}return MN(a,0,r+EN(A)+i)},HN=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,o=n.length,s=0;s!=o;){for(var a=Math.min(s+5552,o);s<a;++s)i+=r+=n[s];r%=65521,i%=65521}e=r,t=i},d:function(){return(e>>>8<<16|(255&t)<<8|t>>>8)+2*((255&e)<<23)}}},zN=function(e,t,n,r,i){return QN(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},jN=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},VN=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)},WN=function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function GN(e,t){void 0===t&&(t={});var n=HN();n.p(e);var r=zN(e,t,2,4);return VN(r,t),jN(r,r.length-4,n.d()),r}function KN(e,t){return TN((WN(e),e.subarray(2,-4)),t)}var qN=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function XN(){qN.console&&"function"==typeof qN.console.log&&qN.console.log.apply(qN.console,arguments)}var YN={log:XN,warn:function(e){qN.console&&("function"==typeof qN.console.warn?qN.console.warn.apply(qN.console,arguments):XN.call(null,arguments))},error:function(e){qN.console&&("function"==typeof qN.console.error?qN.console.error.apply(qN.console,arguments):XN(e))}};function $N(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){nD(r.response,t,n)},r.onerror=function(){YN.error("could not download file")},r.send()}function JN(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function ZN(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var eD,tD,nD=qN.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,eN.A)(window))||window!==qN?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=qN.URL||qN.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin!==location.origin?JN(i.href)?$N(e,t,n):ZN(i,i.target="_blank"):ZN(i)):(i.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){ZN(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(JN(e))$N(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){ZN(r)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,eN.A)(t)&&(YN.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return $N(e,t,n);var i="application/octet-stream"===e.type,o=/constructor/i.test(qN.HTMLElement)||qN.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&"object"===("undefined"==typeof FileReader?"undefined":(0,eN.A)(FileReader))){var a=new FileReader;a.onloadend=function(){var e=a.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},a.readAsDataURL(e)}else{var l=qN.URL||qN.webkitURL,A=l.createObjectURL(e);r?r.location=A:location.href=A,r=null,setTimeout((function(){l.revokeObjectURL(A)}),4e4)}});function rD(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,s=i.exec(e);s&&(t=o(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}function iD(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];n=sD(n,r,i,o,t[0],7,-680876936),o=sD(o,n,r,i,t[1],12,-389564586),i=sD(i,o,n,r,t[2],17,606105819),r=sD(r,i,o,n,t[3],22,-1044525330),n=sD(n,r,i,o,t[4],7,-176418897),o=sD(o,n,r,i,t[5],12,1200080426),i=sD(i,o,n,r,t[6],17,-1473231341),r=sD(r,i,o,n,t[7],22,-45705983),n=sD(n,r,i,o,t[8],7,1770035416),o=sD(o,n,r,i,t[9],12,-1958414417),i=sD(i,o,n,r,t[10],17,-42063),r=sD(r,i,o,n,t[11],22,-1990404162),n=sD(n,r,i,o,t[12],7,1804603682),o=sD(o,n,r,i,t[13],12,-40341101),i=sD(i,o,n,r,t[14],17,-1502002290),n=aD(n,r=sD(r,i,o,n,t[15],22,1236535329),i,o,t[1],5,-165796510),o=aD(o,n,r,i,t[6],9,-1069501632),i=aD(i,o,n,r,t[11],14,643717713),r=aD(r,i,o,n,t[0],20,-373897302),n=aD(n,r,i,o,t[5],5,-701558691),o=aD(o,n,r,i,t[10],9,38016083),i=aD(i,o,n,r,t[15],14,-660478335),r=aD(r,i,o,n,t[4],20,-405537848),n=aD(n,r,i,o,t[9],5,568446438),o=aD(o,n,r,i,t[14],9,-1019803690),i=aD(i,o,n,r,t[3],14,-187363961),r=aD(r,i,o,n,t[8],20,1163531501),n=aD(n,r,i,o,t[13],5,-1444681467),o=aD(o,n,r,i,t[2],9,-51403784),i=aD(i,o,n,r,t[7],14,1735328473),n=lD(n,r=aD(r,i,o,n,t[12],20,-1926607734),i,o,t[5],4,-378558),o=lD(o,n,r,i,t[8],11,-2022574463),i=lD(i,o,n,r,t[11],16,1839030562),r=lD(r,i,o,n,t[14],23,-35309556),n=lD(n,r,i,o,t[1],4,-1530992060),o=lD(o,n,r,i,t[4],11,1272893353),i=lD(i,o,n,r,t[7],16,-155497632),r=lD(r,i,o,n,t[10],23,-1094730640),n=lD(n,r,i,o,t[13],4,681279174),o=lD(o,n,r,i,t[0],11,-358537222),i=lD(i,o,n,r,t[3],16,-722521979),r=lD(r,i,o,n,t[6],23,76029189),n=lD(n,r,i,o,t[9],4,-640364487),o=lD(o,n,r,i,t[12],11,-421815835),i=lD(i,o,n,r,t[15],16,530742520),n=AD(n,r=lD(r,i,o,n,t[2],23,-995338651),i,o,t[0],6,-198630844),o=AD(o,n,r,i,t[7],10,1126891415),i=AD(i,o,n,r,t[14],15,-1416354905),r=AD(r,i,o,n,t[5],21,-57434055),n=AD(n,r,i,o,t[12],6,1700485571),o=AD(o,n,r,i,t[3],10,-1894986606),i=AD(i,o,n,r,t[10],15,-1051523),r=AD(r,i,o,n,t[1],21,-2054922799),n=AD(n,r,i,o,t[8],6,1873313359),o=AD(o,n,r,i,t[15],10,-30611744),i=AD(i,o,n,r,t[6],15,-1560198380),r=AD(r,i,o,n,t[13],21,1309151649),n=AD(n,r,i,o,t[4],6,-145523070),o=AD(o,n,r,i,t[11],10,-1120210379),i=AD(i,o,n,r,t[2],15,718787259),r=AD(r,i,o,n,t[9],21,-343485551),e[0]=mD(n,e[0]),e[1]=mD(r,e[1]),e[2]=mD(i,e[2]),e[3]=mD(o,e[3])}function oD(e,t,n,r,i,o){return t=mD(mD(t,e),mD(r,o)),mD(t<<i|t>>>32-i,n)}function sD(e,t,n,r,i,o,s){return oD(t&n|~t&r,e,t,i,o,s)}function aD(e,t,n,r,i,o,s){return oD(t&r|n&~r,e,t,i,o,s)}function lD(e,t,n,r,i,o,s){return oD(t^n^r,e,t,i,o,s)}function AD(e,t,n,r,i,o,s){return oD(n^(t|~r),e,t,i,o,s)}function cD(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)iD(r,uD(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(iD(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,iD(r,i),r}function uD(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}eD=qN.atob.bind(qN),tD=qN.btoa.bind(qN);var hD="0123456789abcdef".split("");function dD(e){for(var t="",n=0;n<4;n++)t+=hD[e>>8*n+4&15]+hD[e>>8*n&15];return t}function pD(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function fD(e){return cD(e).map(pD).join("")}var gD="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=dD(e[t]);return e.join("")}(cD("hello"));function mD(e,t){if(gD){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function vD(e,t){var n,r,i,o;if(e!==n){for(var s=(i=e,o=1+(256/e.length|0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var A=0;for(l=0;l<256;l++){var c=a[l];A=(A+c+s.charCodeAt(l))%256,a[l]=a[A],a[A]=c}n=e,r=a}else a=r;var u=t.length,h=0,d=0,p="";for(l=0;l<u;l++)d=(d+(c=a[h=(h+1)%256]))%256,a[h]=a[d],a[d]=c,s=a[(a[h]+a[d])%256],p+=String.fromCharCode(t.charCodeAt(l)^s);return p}var yD={print:4,modify:8,copy:16,"annot-forms":32};function bD(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach((function(e){if(void 0!==yD.perm)throw new Error("Invalid permission: "+e);i+=yD[e]})),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var o=(t+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=fD(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=vD(this.encryptionKey,this.padding)}function wD(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function xD(e){if("object"!==(0,eN.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!r],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in t[n]){var s=t[n][o];try{s[0].apply(e,r)}catch(n){qN.console&&YN.error("jsPDF PubSub Error",n.message,n)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function _D(e){if(!(this instanceof _D))return new _D(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function SD(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function CD(e,t,n,r,i){if(!(this instanceof CD))return new CD(e,t,n,r,i);this.type="axial"===e?2:3,this.coords=t,this.colors=n,SD.call(this,r,i)}function BD(e,t,n,r,i){if(!(this instanceof BD))return new BD(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,SD.call(this,r,i)}function ED(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,A="S",c=null;"object"===(0,eN.A)(e=e||{})&&(n=e.orientation,r=e.unit||r,i=e.format||i,o=e.compress||e.compressPdf||o,null!==(c=e.encryption||null)&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),A=e.defaultPathOperation||"S"),s=e.filters||(!0===o?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=xD;var p="1.3",f=d.__private__.getPdfVersion=function(){return p};d.__private__.setPdfVersion=function(e){p=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return g};var m=d.__private__.getPageFormat=function(e){return g[e]};i=i||"a4";var v="compat",y="advanced",b=v;function w(){this.saveGraphicsState(),$(new Ie(he,0,0,-he,0,cn()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),A="n",b=y}function x(){this.restoreGraphicsState(),A="S",b=v}var _=d.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};d.advancedAPI=function(e){var t=b===v;return t&&w.call(this),"function"!=typeof e||(e(this),t&&x.call(this)),this},d.compatAPI=function(e){var t=b===y;return t&&x.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},d.isAdvancedAPI=function(){return b===y};var S,C=function(e){if(b!==y)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=d.roundToPrecision=d.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};S=d.hpf=d.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return B(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return B(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return B(e,16)};var E=d.f2=d.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return B(e,2)},M=d.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return B(e,3)},T=d.scale=d.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return b===v?e*he:b===y?e:void 0},F=function(e){return T(function(e){return b===v?cn()-e:b===y?e:void 0}(e))};d.__private__.setPrecision=d.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var I,L="00000000000000000000000000000000",P=d.__private__.getFileId=function(){return L},U=d.__private__.setFileId=function(e){return L=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():L.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),null!==c&&(yt=new bD(c.userPermissions,c.userPassword,c.ownerPassword,L)),L};d.setFileId=function(e){return U(e),this},d.getFileId=function(){return P()};var R=d.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),o=[n,Q(r),"'",Q(i),"'"].join("");return["D:",e.getFullYear(),Q(e.getMonth()+1),Q(e.getDate()),Q(e.getHours()),Q(e.getMinutes()),Q(e.getSeconds()),o].join("")},k=d.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),s=parseInt(e.substr(14,2),10);return new Date(t,n,r,i,o,s,0)},N=d.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=R(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return I=t},D=d.__private__.getCreationDate=function(e){var t=I;return"jsDate"===e&&(t=k(I)),t};d.setCreationDate=function(e){return N(e),this},d.getCreationDate=function(e){return D(e)};var O,Q=d.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},H=d.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},z=0,j=[],V=[],W=0,G=[],K=[],q=!1,X=V;d.__private__.setCustomOutputDestination=function(e){q=!0,X=e};var Y=function(e){q||(X=e)};d.__private__.resetCustomOutputDestination=function(){q=!1,X=V};var $=d.__private__.out=function(e){return e=e.toString(),W+=e.length+1,X.push(e),X},J=d.__private__.write=function(e){return $(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Z=d.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(e){return te=b===y?e/he:e,this};var ne,re=d.__private__.getFontSize=d.getFontSize=function(){return b===v?te:te*he},ie=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(e){return ie=e,this},d.__private__.getR2L=d.getR2L=function(){return ie};var oe,se=d.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};d.__private__.getZoomMode=function(){return ne};var ae,le=d.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');oe=e};d.__private__.getPageMode=function(){return oe};var Ae=d.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');ae=e};d.__private__.getLayoutMode=function(){return ae},d.__private__.setDisplayMode=d.setDisplayMode=function(e,t,n){return se(e),Ae(t),le(n),this};var ce={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ce).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ce[e]},d.__private__.getDocumentProperties=function(){return ce},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(e){for(var t in ce)ce.hasOwnProperty(t)&&e[t]&&(ce[t]=e[t]);return this},d.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ce).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ce[e]=t};var ue,he,de,pe,fe,ge={},me={},ve=[],ye={},be={},we={},xe={},_e=null,Se=0,Ce=[],Be=new xD(d),Ee=e.hotfixes||[],Me={},Te={},Fe=[],Ie=function e(t,n,r,i,o,s){if(!(this instanceof e))return new e(t,n,r,i,o,s);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(o)&&(o=0),isNaN(s)&&(s=0),this._matrix=[t,n,r,i,o,s]};Object.defineProperty(Ie.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ie.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ie.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ie.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ie.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ie.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ie.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ie.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ie.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ie.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ie.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ie.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ie.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ie.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ie.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ie.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ie.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(e)},Ie.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,i=e.shx*this.shy+e.sy*this.sy,o=e.tx*this.sx+e.ty*this.shx+this.tx,s=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ie(t,n,r,i,o,s)},Ie.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,s=Math.sqrt(e*e+t*t),a=(e/=s)*n+(t/=s)*r;n-=e*a,r-=t*a;var l=Math.sqrt(n*n+r*r);return a/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,a=-a,s=-s),{scale:new Ie(s,0,0,l,0,0),translate:new Ie(1,0,0,1,i,o),rotate:new Ie(e,t,-t,e,0,0),skew:new Ie(1,0,a,1,0,0)}},Ie.prototype.toString=function(e){return this.join(" ")},Ie.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,s=1/(e*r-t*n),a=r*s,l=-t*s,A=-n*s,c=e*s;return new Ie(a,l,A,c,-a*i-A*o,-l*i-c*o)},Ie.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new nn(t,n)},Ie.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new nn(e.x+e.w,e.y+e.h));return new rn(t.x,t.y,n.x-t.x,n.y-t.y)},Ie.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty;return new Ie(e,t,n,r,i,o)},d.Matrix=Ie;var Le=d.matrixMult=function(e,t){return t.multiply(e)},Pe=new Ie(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Pe;var Ue=function(e,t){if(!be[e]){var n=(t instanceof CD?"Sh":"P")+(Object.keys(ye).length+1).toString(10);t.id=n,be[e]=n,ye[n]=t,Be.publish("addPattern",t)}};d.ShadingPattern=CD,d.TilingPattern=BD,d.addShadingPattern=function(e,t){return C("addShadingPattern()"),Ue(e,t),this},d.beginTilingPattern=function(e){C("beginTilingPattern()"),sn(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},d.endTilingPattern=function(e,t){C("endTilingPattern()"),t.stream=K[O].join("\n"),Ue(e,t),Be.publish("endTilingPattern",t),Fe.pop().restore()};var Re,ke=d.__private__.newObject=function(){var e=Ne();return De(e,!0),e},Ne=d.__private__.newObjectDeferred=function(){return z++,j[z]=function(){return W},z},De=function(e,t){return t="boolean"==typeof t&&t,j[e]=W,t&&$(e+" 0 obj"),e},Oe=d.__private__.newAdditionalObject=function(){var e={objId:Ne(),content:""};return G.push(e),e},Qe=Ne(),He=Ne(),ze=d.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return r},je=d.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,i=e.ch3,o=e.ch4,s="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var a=new rD(n);if(a.ok)n=a.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,i=255&l}if(void 0===r||void 0===o&&n===r&&r===i)if("string"==typeof n)t=n+" "+s[0];else if(2===e.precision)t=E(n/255)+" "+s[0];else t=M(n/255)+" "+s[0];else if(void 0===o||"object"===(0,eN.A)(o)){if(o&&!isNaN(o.a)&&0===o.a)return["1.","1.","1.",s[1]].join(" ");if("string"==typeof n)t=[n,r,i,s[1]].join(" ");else if(2===e.precision)t=[E(n/255),E(r/255),E(i/255),s[1]].join(" ");else t=[M(n/255),M(r/255),M(i/255),s[1]].join(" ")}else if("string"==typeof n)t=[n,r,i,o,s[2]].join(" ");else if(2===e.precision)t=[E(n),E(r),E(i),E(o),s[2]].join(" ");else t=[M(n),M(r),M(i),M(o),s[2]].join(" ");return t},Ve=d.__private__.getFilters=function(){return s},We=d.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||Ve(),r=e.alreadyAppliedFilters||[],i=e.addLength1||!1,o=t.length,s=e.objectId,a=function(e){return e};if(null!==c&&void 0===s)throw new Error("ObjectId must be passed to putStream for file encryption");null!==c&&(a=yt.encryptor(s,0));var l={};!0===n&&(n=["FlateEncode"]);var A=e.additionalKeyValues||[],u=(l=void 0!==ED.API.processDataByFilters?ED.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(A.push({key:"Length",value:l.data.length}),!0===i&&A.push({key:"Length1",value:o})),0!=u.length)if(u.split("/").length-1==1)A.push({key:"Filter",value:u});else{A.push({key:"Filter",value:"["+u+"]"});for(var h=0;h<A.length;h+=1)if("DecodeParms"===A[h].key){for(var d=[],p=0;p<l.reverseChain.split("/").length-1;p+=1)d.push("null");d.push(A[h].value),A[h].value="["+d.join(" ")+"]"}}$("<<");for(var f=0;f<A.length;f++)$("/"+A[f].key+" "+A[f].value);$(">>"),0!==l.data.length&&($("stream"),$(a(l.data)),$("endstream"))},Ge=d.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,i=e.contentsObjId;De(r,!0),$("<</Type /Page"),$("/Parent "+e.rootDictionaryObjId+" 0 R"),$("/Resources "+e.resourceDictionaryObjId+" 0 R"),$("/MediaBox ["+parseFloat(S(e.mediaBox.bottomLeftX))+" "+parseFloat(S(e.mediaBox.bottomLeftY))+" "+S(e.mediaBox.topRightX)+" "+S(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&$("/CropBox ["+S(e.cropBox.bottomLeftX)+" "+S(e.cropBox.bottomLeftY)+" "+S(e.cropBox.topRightX)+" "+S(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&$("/BleedBox ["+S(e.bleedBox.bottomLeftX)+" "+S(e.bleedBox.bottomLeftY)+" "+S(e.bleedBox.topRightX)+" "+S(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&$("/TrimBox ["+S(e.trimBox.bottomLeftX)+" "+S(e.trimBox.bottomLeftY)+" "+S(e.trimBox.topRightX)+" "+S(e.trimBox.topRightY)+"]"),null!==e.artBox&&$("/ArtBox ["+S(e.artBox.bottomLeftX)+" "+S(e.artBox.bottomLeftY)+" "+S(e.artBox.topRightX)+" "+S(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&$("/UserUnit "+e.userUnit),Be.publish("putPage",{objId:r,pageContext:Ce[t],pageNumber:t,page:n}),$("/Contents "+i+" 0 R"),$(">>"),$("endobj");var o=n.join("\n");return b===y&&(o+="\nQ"),De(i,!0),We({data:o,filters:Ve(),objectId:i}),$("endobj"),r},Ke=d.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Se;e++)Ce[e].objId=Ne(),Ce[e].contentsObjId=Ne();for(e=1;e<=Se;e++)n.push(Ge({number:e,data:K[e],objId:Ce[e].objId,contentsObjId:Ce[e].contentsObjId,mediaBox:Ce[e].mediaBox,cropBox:Ce[e].cropBox,bleedBox:Ce[e].bleedBox,trimBox:Ce[e].trimBox,artBox:Ce[e].artBox,userUnit:Ce[e].userUnit,rootDictionaryObjId:Qe,resourceDictionaryObjId:He}));De(Qe,!0),$("<</Type /Pages");var r="/Kids [";for(t=0;t<Se;t++)r+=n[t]+" 0 R ";$(r+"]"),$("/Count "+Se),$(">>"),$("endobj"),Be.publish("postPutPages")},qe=function(e){Be.publish("putFont",{font:e,out:$,newObject:ke,putStream:We}),!0!==e.isAlreadyPutted&&(e.objectNumber=ke(),$("<<"),$("/Type /Font"),$("/BaseFont /"+wD(e.postScriptName)),$("/Subtype /Type1"),"string"==typeof e.encoding&&$("/Encoding /"+e.encoding),$("/FirstChar 32"),$("/LastChar 255"),$(">>"),$("endobj"))},Xe=function(e){e.objectNumber=ke();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[S(e.x),S(e.y),S(e.x+e.width),S(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");We({data:n,additionalKeyValues:t,objectId:e.objectNumber}),$("endobj")},Ye=function(e,t){t||(t=21);var n=ke(),r=function(e,t){var n,r=[],i=1/(t-1);for(n=0;n<1;n+=i)r.push(n);if(r.push(1),0!=e[0].offset){var o={offset:0,color:e[0].color};e.unshift(o)}if(1!=e[e.length-1].offset){var s={offset:1,color:e[e.length-1].color};e.push(s)}for(var a="",l=0,A=0;A<r.length;A++){for(n=r[A];n>e[l+1].offset;)l++;var c=e[l].offset,u=(n-c)/(e[l+1].offset-c),h=e[l].color,d=e[l+1].color;a+=H(Math.round((1-u)*h[0]+u*d[0]).toString(16))+H(Math.round((1-u)*h[1]+u*d[1]).toString(16))+H(Math.round((1-u)*h[2]+u*d[2]).toString(16))}return a.trim()}(e.colors,t),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+t+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),We({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),$("endobj"),e.objectNumber=ke(),$("<< /ShadingType "+e.type),$("/ColorSpace /DeviceRGB");var o="/Coords ["+S(parseFloat(e.coords[0]))+" "+S(parseFloat(e.coords[1]))+" ";2===e.type?o+=S(parseFloat(e.coords[2]))+" "+S(parseFloat(e.coords[3])):o+=S(parseFloat(e.coords[2]))+" "+S(parseFloat(e.coords[3]))+" "+S(parseFloat(e.coords[4]))+" "+S(parseFloat(e.coords[5])),$(o+="]"),e.matrix&&$("/Matrix ["+e.matrix.toString()+"]"),$("/Function "+n+" 0 R"),$("/Extend [true true]"),$(">>"),$("endobj")},$e=function(e,t){var n=Ne(),r=ke();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+e.boundingBox.map(S).join(" ")+"]"}),i.push({key:"XStep",value:S(e.xStep)}),i.push({key:"YStep",value:S(e.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),e.matrix&&i.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),We({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),$("endobj")},Je=function(e){for(var t in e.objectNumber=ke(),$("<<"),e)switch(t){case"opacity":$("/ca "+E(e[t]));break;case"stroke-opacity":$("/CA "+E(e[t]))}$(">>"),$("endobj")},Ze=function(e){De(e.resourcesOid,!0),$("<<"),$("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in $("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&$("/"+e+" "+ge[e].objectNumber+" 0 R");$(">>")}(),function(){if(Object.keys(ye).length>0){for(var e in $("/Shading <<"),ye)ye.hasOwnProperty(e)&&ye[e]instanceof CD&&ye[e].objectNumber>=0&&$("/"+e+" "+ye[e].objectNumber+" 0 R");Be.publish("putShadingPatternDict"),$(">>")}}(),function(e){if(Object.keys(ye).length>0){for(var t in $("/Pattern <<"),ye)ye.hasOwnProperty(t)&&ye[t]instanceof d.TilingPattern&&ye[t].objectNumber>=0&&ye[t].objectNumber<e&&$("/"+t+" "+ye[t].objectNumber+" 0 R");Be.publish("putTilingPatternDict"),$(">>")}}(e.objectOid),function(){if(Object.keys(we).length>0){var e;for(e in $("/ExtGState <<"),we)we.hasOwnProperty(e)&&we[e].objectNumber>=0&&$("/"+e+" "+we[e].objectNumber+" 0 R");Be.publish("putGStateDict"),$(">>")}}(),function(){for(var e in $("/XObject <<"),Me)Me.hasOwnProperty(e)&&Me[e].objectNumber>=0&&$("/"+e+" "+Me[e].objectNumber+" 0 R");Be.publish("putXobjectDict"),$(">>")}(),$(">>"),$("endobj")},et=function(){var e=[];(function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&qe(ge[e])})(),function(){var e;for(e in we)we.hasOwnProperty(e)&&Je(we[e])}(),function(){for(var e in Me)Me.hasOwnProperty(e)&&Xe(Me[e])}(),function(e){var t;for(t in ye)ye.hasOwnProperty(t)&&(ye[t]instanceof CD?Ye(ye[t]):ye[t]instanceof BD&&$e(ye[t],e))}(e),Be.publish("putResources"),e.forEach(Ze),Ze({resourcesOid:He,objectOid:Number.MAX_SAFE_INTEGER}),Be.publish("postPutResources")},tt=function(e){me[e.fontName]=me[e.fontName]||{},me[e.fontName][e.fontStyle]=e.id},nt=function(e,t,n,r,i){var o={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return Be.publish("addFont",{font:o,instance:this}),ge[o.id]=o,tt(o),o.id},rt=d.__private__.pdfEscape=d.pdfEscape=function(e,t){return function(e,t){var n,r,i,o,s,a,l,A,c;if(i=(t=t||{}).sourceEncoding||"Unicode",s=t.outputEncoding,(t.autoencode||s)&&ge[ue].metadata&&ge[ue].metadata[i]&&ge[ue].metadata[i].encoding&&(o=ge[ue].metadata[i].encoding,!s&&ge[ue].encoding&&(s=ge[ue].encoding),!s&&o.codePages&&(s=o.codePages[0]),"string"==typeof s&&(s=o[s]),s)){for(l=!1,a=[],n=0,r=e.length;n<r;n++)(A=s[e.charCodeAt(n)])?a.push(String.fromCharCode(A)):a.push(e[n]),a[n].charCodeAt(0)>>8&&(l=!0);e=a.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(a=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((c=(A=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(c),a.push(A-(c<<8))}return String.fromCharCode.apply(void 0,a)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},it=d.__private__.beginPage=function(e){K[++Se]=[],Ce[Se]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},at(Se),Y(K[O])},ot=function(e,t){var r,o,s;switch(n=t||n,"string"==typeof e&&(r=m(e.toLowerCase()),Array.isArray(r)&&(o=r[0],s=r[1])),Array.isArray(e)&&(o=e[0]*he,s=e[1]*he),isNaN(o)&&(o=i[0],s=i[1]),(o>14400||s>14400)&&(YN.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),o=Math.min(14400,o),s=Math.min(14400,s)),i=[o,s],n.substr(0,1)){case"l":s>o&&(i=[s,o]);break;case"p":o>s&&(i=[s,o])}it(i),Ot(Nt),$(Kt),0!==Zt&&$(Zt+" J"),0!==en&&$(en+" j"),Be.publish("addPage",{pageNumber:Se})},st=function(e){e>0&&e<=Se&&(K.splice(e,1),Ce.splice(e,1),Se--,O>Se&&(O=Se),this.setPage(O))},at=function(e){e>0&&e<=Se&&(O=e)},lt=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return K.length-1},At=function(e,t,n){var r,i=void 0;return n=n||{},e=void 0!==e?e:ge[ue].fontName,t=void 0!==t?t:ge[ue].fontStyle,r=e.toLowerCase(),void 0!==me[r]&&void 0!==me[r][t]?i=me[r][t]:void 0!==me[e]&&void 0!==me[e][t]?i=me[e][t]:!1===n.disableWarning&&YN.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=me.times[t])&&(i=me.times.normal),i},ct=d.__private__.putInfo=function(){var e=ke(),t=function(e){return e};for(var n in null!==c&&(t=yt.encryptor(e,0)),$("<<"),$("/Producer ("+rt(t("jsPDF "+ED.version))+")"),ce)ce.hasOwnProperty(n)&&ce[n]&&$("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+rt(t(ce[n]))+")");$("/CreationDate ("+rt(t(I))+")"),$(">>"),$("endobj")},ut=d.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Qe;switch(ke(),$("<<"),$("/Type /Catalog"),$("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":$("/OpenAction [3 0 R /FitH null]");break;case"fullheight":$("/OpenAction [3 0 R /FitV null]");break;case"fullpage":$("/OpenAction [3 0 R /Fit]");break;case"original":$("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&$("/OpenAction [3 0 R /XYZ null null "+E(ne)+"]")}switch(ae||(ae="continuous"),ae){case"continuous":$("/PageLayout /OneColumn");break;case"single":$("/PageLayout /SinglePage");break;case"two":case"twoleft":$("/PageLayout /TwoColumnLeft");break;case"tworight":$("/PageLayout /TwoColumnRight")}oe&&$("/PageMode /"+oe),Be.publish("putCatalog"),$(">>"),$("endobj")},ht=d.__private__.putTrailer=function(){$("trailer"),$("<<"),$("/Size "+(z+1)),$("/Root "+z+" 0 R"),$("/Info "+(z-1)+" 0 R"),null!==c&&$("/Encrypt "+yt.oid+" 0 R"),$("/ID [ <"+L+"> <"+L+"> ]"),$(">>")},dt=d.__private__.putHeader=function(){$("%PDF-"+p),$("%\xba\xdf\xac\xe0")},pt=d.__private__.putXRef=function(){var e="0000000000";$("xref"),$("0 "+(z+1)),$("0000000000 65535 f ");for(var t=1;t<=z;t++)"function"==typeof j[t]?$((e+j[t]()).slice(-10)+" 00000 n "):void 0!==j[t]?$((e+j[t]).slice(-10)+" 00000 n "):$("0000000000 00000 n ")},ft=d.__private__.buildDocument=function(){z=0,W=0,V=[],j=[],G=[],Qe=Ne(),He=Ne(),Y(V),Be.publish("buildDocument"),dt(),Ke(),function(){Be.publish("putAdditionalObjects");for(var e=0;e<G.length;e++){var t=G[e];De(t.objId,!0),$(t.content),$("endobj")}Be.publish("postPutAdditionalObjects")}(),et(),null!==c&&(yt.oid=ke(),$("<<"),$("/Filter /Standard"),$("/V "+yt.v),$("/R "+yt.r),$("/U <"+yt.toHexString(yt.U)+">"),$("/O <"+yt.toHexString(yt.O)+">"),$("/P "+yt.P),$(">>"),$("endobj")),ct(),ut();var e=W;return pt(),ht(),$("startxref"),$(""+e),$("%%EOF"),Y(K[O]),V.join("\n")},gt=d.__private__.getBlob=function(e){return new Blob([Z(e)],{type:"application/pdf"})},mt=d.output=d.__private__.output=(Re=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return ft();case"save":d.save(t.filename);break;case"arraybuffer":return Z(ft());case"blob":return gt(ft());case"bloburi":case"bloburl":if(void 0!==qN.URL&&"function"==typeof qN.URL.createObjectURL)return qN.URL&&qN.URL.createObjectURL(gt(ft()))||void 0;YN.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=ft();try{n=tD(r)}catch(e){n=tD(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(qN)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",o=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(i=t.pdfObjectUrl,o="");var s='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+o+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",a=qN.open();return null!==a&&a.document.write(s),a}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(qN)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',A=qN.open();if(null!==A){A.document.write(l);var c=this;A.document.documentElement.querySelector("#pdfViewer").onload=function(){A.document.title=t.filename,A.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(c.output("bloburl"))}}return A}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(qN))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',h=qN.open();if(null!==h&&(h.document.write(u),h.document.title=t.filename),h||"undefined"==typeof safari)return h;break;case"datauri":case"dataurl":return qN.document.location.href=this.output("datauristring",t);default:return null}},Re.foo=function(){try{return Re.apply(this,arguments)}catch(Re){var e=Re.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+Re.message;if(!qN.console)throw new Error(t);qN.console.error(t,Re),qN.alert&&alert(t)}},Re.foo.bar=Re,Re.foo),vt=function(e){return!0===Array.isArray(Ee)&&Ee.indexOf(e)>-1};switch(r){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=1==vt("px_scaling")?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);he=r}var yt=null;N(),U();var bt=d.__private__.getPageInfo=d.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ce[e].objId,pageNumber:e,pageContext:Ce[e]}},wt=d.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Ce)if(Ce[t].objId===e)break;return bt(t)},xt=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Ce[O].objId,pageNumber:O,pageContext:Ce[O]}};d.addPage=function(){return ot.apply(this,arguments),this},d.setPage=function(){return at.apply(this,arguments),Y.call(this,K[O]),this},d.insertPage=function(e){return this.addPage(),this.movePage(O,e),this},d.movePage=function(e,t){var n,r;if(e>t){n=K[e],r=Ce[e];for(var i=e;i>t;i--)K[i]=K[i-1],Ce[i]=Ce[i-1];K[t]=n,Ce[t]=r,this.setPage(t)}else if(e<t){n=K[e],r=Ce[e];for(var o=e;o<t;o++)K[o]=K[o+1],Ce[o]=Ce[o+1];K[t]=n,Ce[t]=r,this.setPage(t)}return this},d.deletePage=function(){return st.apply(this,arguments),this},d.__private__.text=d.text=function(e,t,n,r,i){var o,s,a,l,A,c,u,d,p,f=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var g=n;n=t,t=e,e=g}if(arguments[3]instanceof Ie==0?(a=arguments[4],l=arguments[5],"object"===(0,eN.A)(u=arguments[3])&&null!==u||("string"==typeof a&&(l=a,a=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(a=u,u=null),r={flags:u,angle:a,align:l})):(C("The transform parameter of text() with a Matrix value"),p=i),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return f;var m,v="",w="number"==typeof r.lineHeightFactor?r.lineHeightFactor:kt,x=f.internal.scaleFactor;function _(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),rt(e,u)}function B(e){for(var t,n=e.concat(),r=[],i=n.length;i--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function E(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,i,o=e.concat(),s=[],a=o.length;a--;)"string"==typeof(r=o.shift())?s.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=t(r[0],r[1],r[2]),s.push([i[0],i[1],i[2]]));n=s}return n}var M=!1,F=!0;if("string"==typeof e)M=!0;else if(Array.isArray(e)){var I=e.concat();s=[];for(var L,P=I.length;P--;)("string"!=typeof(L=I.shift())||Array.isArray(L)&&"string"!=typeof L[0])&&(F=!1);M=F}if(!1===M)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var U=te/f.internal.scaleFactor,R=U*(w-1);switch(r.baseline){case"bottom":n-=R;break;case"top":n+=U-R;break;case"hanging":n+=U-2*R;break;case"middle":n+=U/2-R}if((c=r.maxWidth||0)>0&&("string"==typeof e?e=f.splitTextToSize(e,c):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(f.splitTextToSize(t,c))}),[]))),o={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Be.publish("preProcessText",o),e=o.text,a=(r=o.options).angle,p instanceof Ie==0&&a&&"number"==typeof a){a*=Math.PI/180,0===r.rotationDirection&&(a=-a),b===y&&(a=-a);var k=Math.cos(a),N=Math.sin(a);p=new Ie(k,N,-N,k,0,0)}else a&&a instanceof Ie&&(p=a);b!==y||p||(p=Pe),void 0!==(A=r.charSpace||$t)&&(v+=S(T(A))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(d=r.horizontalScale)&&(v+=S(100*d)+" Tz\n"),r.lang;var D=-1,O=void 0!==r.renderingMode?r.renderingMode:r.stroke,Q=f.internal.getCurrentPageInfo().pageContext;switch(O){case 0:case!1:case"fill":D=0;break;case 1:case!0:case"stroke":D=1;break;case 2:case"fillThenStroke":D=2;break;case 3:case"invisible":D=3;break;case 4:case"fillAndAddForClipping":D=4;break;case 5:case"strokeAndAddPathForClipping":D=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":D=6;break;case 7:case"addToPathForClipping":D=7}var H=void 0!==Q.usedRenderingMode?Q.usedRenderingMode:-1;-1!==D?v+=D+" Tr\n":-1!==H&&(v+="0 Tr\n"),-1!==D&&(Q.usedRenderingMode=D),l=r.align||"left";var z,j=te*w,V=f.internal.pageSize.getWidth(),W=ge[ue];A=r.charSpace||$t,c=r.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},r.flags);var G=[];if("[object Array]"===Object.prototype.toString.call(e)){var K;s=B(e),"left"!==l&&(z=s.map((function(e){return f.getStringUnitWidth(e,{font:W,charSpace:A,fontSize:te,doKerning:!1})*te/x})));var q,X=0;if("right"===l){t-=z[0],e=[],P=s.length;for(var Y=0;Y<P;Y++)0===Y?(q=jt(t),K=Vt(n)):(q=T(X-z[Y]),K=-j),e.push([s[Y],q,K]),X=z[Y]}else if("center"===l){t-=z[0]/2,e=[],P=s.length;for(var J=0;J<P;J++)0===J?(q=jt(t),K=Vt(n)):(q=T((X-z[J])/2),K=-j),e.push([s[J],q,K]),X=z[J]}else if("left"===l){e=[],P=s.length;for(var Z=0;Z<P;Z++)e.push(s[Z])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');e=[],P=s.length,c=0!==c?c:V;for(var ee=0;ee<P;ee++)K=0===ee?Vt(n):-j,q=0===ee?jt(t):0,ee<P-1?G.push(S(T((c-z[ee])/(s[ee].split(" ").length-1)))):G.push(0),e.push([s[ee],q,K])}}!0===("boolean"==typeof r.R2L?r.R2L:ie)&&(e=E(e,(function(e,t,n){return[e.split("").reverse().join(""),t,n]}))),o={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:ue,fonts:ge,activeFontSize:te}},Be.publish("postProcessText",o),e=o.text,m=o.mutex.isHex||!1;var ne=ge[ue].encoding;"WinAnsiEncoding"!==ne&&"StandardEncoding"!==ne||(e=E(e,(function(e,t,n){return[_(e),t,n]}))),s=B(e),e=[];for(var re,oe,se,ae=Array.isArray(s[0])?1:0,le="",Ae=function(e,t,n){var i="";return n instanceof Ie?(n="number"==typeof r.angle?Le(n,new Ie(1,0,0,1,e,t)):Le(new Ie(1,0,0,1,e,t),n),b===y&&(n=Le(new Ie(1,0,0,-1,0,0),n)),i=n.join(" ")+" Tm\n"):i=S(e)+" "+S(t)+" Td\n",i},ce=0;ce<s.length;ce++){switch(le="",ae){case 1:se=(m?"<":"(")+s[ce][0]+(m?">":")"),re=parseFloat(s[ce][1]),oe=parseFloat(s[ce][2]);break;case 0:se=(m?"<":"(")+s[ce]+(m?">":")"),re=jt(t),oe=Vt(n)}void 0!==G&&void 0!==G[ce]&&(le=G[ce]+" Tw\n"),0===ce?e.push(le+Ae(re,oe,p)+se):0===ae?e.push(le+se):1===ae&&e.push(le+Ae(re,oe,p)+se)}e=0===ae?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var he="BT\n/";return he+=ue+" "+te+" Tf\n",he+=S(te*w)+" TL\n",he+=Xt+"\n",he+=v,he+=e,$(he+="ET"),h[ue]=!0,f};var _t=d.__private__.clip=d.clip=function(e){return $("evenodd"===e?"W*":"W"),this};d.clipEvenOdd=function(){return _t("evenodd")},d.__private__.discardPath=d.discardPath=function(){return $("n"),this};var St=d.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(e){return St(e)&&(A=e),this};var Ct=d.__private__.getStyle=d.getStyle=function(e){var t=A;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},Bt=d.close=function(){return $("h"),this};d.stroke=function(){return $("S"),this},d.fill=function(e){return Et("f",e),this},d.fillEvenOdd=function(e){return Et("f*",e),this},d.fillStroke=function(e){return Et("B",e),this},d.fillStrokeEvenOdd=function(e){return Et("B*",e),this};var Et=function(e,t){"object"===(0,eN.A)(t)?Ft(t,e):$(e)},Mt=function(e){null===e||b===y&&void 0===e||(e=Ct(e),$(e))};function Tt(e,t,n,r,i){var o=new BD(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);o.stream=this.stream;var s=e+"$$"+this.cloneIndex+++"$$";return Ue(s,o),o}var Ft=function(e,t){var n=be[e.key],r=ye[n];if(r instanceof CD)$("q"),$(It(t)),r.gState&&d.setGState(r.gState),$(e.matrix.toString()+" cm"),$("/"+n+" sh"),$("Q");else if(r instanceof BD){var i=new Ie(1,0,0,-1,0,cn());e.matrix&&(i=i.multiply(e.matrix||Pe),n=Tt.call(r,e.key,e.boundingBox,e.xStep,e.yStep,i).id),$("q"),$("/Pattern cs"),$("/"+n+" scn"),r.gState&&d.setGState(r.gState),$(t),$("Q")}},It=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Lt=d.moveTo=function(e,t){return $(S(T(e))+" "+S(F(t))+" m"),this},Pt=d.lineTo=function(e,t){return $(S(T(e))+" "+S(F(t))+" l"),this},Ut=d.curveTo=function(e,t,n,r,i,o){return $([S(T(e)),S(F(t)),S(T(n)),S(F(r)),S(T(i)),S(F(o)),"c"].join(" ")),this};d.__private__.line=d.line=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!St(i))throw new Error("Invalid arguments passed to jsPDF.line");return b===v?this.lines([[n-e,r-t]],e,t,[1,1],i||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},d.__private__.lines=d.lines=function(e,t,n,r,i,o){var s,a,l,A,c,u,h,d,p,f,g,m;if("number"==typeof e&&(m=n,n=t,t=e,e=m),r=r||[1,1],o=o||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!St(i)||"boolean"!=typeof o)throw new Error("Invalid arguments passed to jsPDF.lines");for(Lt(t,n),s=r[0],a=r[1],A=e.length,f=t,g=n,l=0;l<A;l++)2===(c=e[l]).length?(f=c[0]*s+f,g=c[1]*a+g,Pt(f,g)):(u=c[0]*s+f,h=c[1]*a+g,d=c[2]*s+f,p=c[3]*a+g,f=c[4]*s+f,g=c[5]*a+g,Ut(u,h,d,p,f,g));return o&&Bt(),Mt(i),this},d.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Lt(r[0],r[1]);break;case"l":Pt(r[0],r[1]);break;case"c":Ut.apply(this,r);break;case"h":Bt()}}return this},d.__private__.rect=d.rect=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!St(i))throw new Error("Invalid arguments passed to jsPDF.rect");return b===v&&(r=-r),$([S(T(e)),S(F(t)),S(T(n)),S(T(r)),"re"].join(" ")),Mt(i),this},d.__private__.triangle=d.triangle=function(e,t,n,r,i,o,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!St(s))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[i-n,o-r],[e-i,t-o]],e,t,[1,1],s,!0),this},d.__private__.roundedRect=d.roundedRect=function(e,t,n,r,i,o,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!St(s))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var a=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),o=Math.min(o,.5*r),this.lines([[n-2*i,0],[i*a,0,i,o-o*a,i,o],[0,r-2*o],[0,o*a,-i*a,o,-i,o],[2*i-n,0],[-i*a,0,-i,-o*a,-i,-o],[0,2*o-r],[0,-o*a,i*a,-o,i,-o]],e+i,t,[1,1],s,!0),this},d.__private__.ellipse=d.ellipse=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!St(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var o=4/3*(Math.SQRT2-1)*n,s=4/3*(Math.SQRT2-1)*r;return Lt(e+n,t),Ut(e+n,t-s,e+o,t-r,e,t-r),Ut(e-o,t-r,e-n,t-s,e-n,t),Ut(e-n,t+s,e-o,t+r,e,t+r),Ut(e+o,t+r,e+n,t+s,e+n,t),Mt(i),this},d.__private__.circle=d.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!St(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},d.setFont=function(e,t,n){return n&&(t=_(t,n)),ue=At(e,t,{disableWarning:!1}),this};var Rt=d.__private__.getFont=d.getFont=function(){return ge[At.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var e,t,n={};for(e in me)if(me.hasOwnProperty(e))for(t in n[e]=[],me[e])me[e].hasOwnProperty(t)&&n[e].push(t);return n},d.addFont=function(e,t,n,r,i){var o=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==o.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==o.indexOf(arguments[3])&&(n=_(n,r)),nt.call(this,e,t,n,i=i||"Identity-H")};var kt,Nt=e.lineWidth||.200025,Dt=d.__private__.getLineWidth=d.getLineWidth=function(){return Nt},Ot=d.__private__.setLineWidth=d.setLineWidth=function(e){return Nt=e,$(S(T(e))+" w"),this};d.__private__.setLineDash=ED.API.setLineDash=ED.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map((function(e){return S(T(e))})).join(" "),t=S(T(t)),$("["+e+"] "+t+" d"),this};var Qt=d.__private__.getLineHeight=d.getLineHeight=function(){return te*kt};d.__private__.getLineHeight=d.getLineHeight=function(){return te*kt};var Ht=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(kt=e),this},zt=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return kt};Ht(e.lineHeight);var jt=d.__private__.getHorizontalCoordinate=function(e){return T(e)},Vt=d.__private__.getVerticalCoordinate=function(e){return b===y?e:Ce[O].mediaBox.topRightY-Ce[O].mediaBox.bottomLeftY-T(e)},Wt=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(e){return S(jt(e))},Gt=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(e){return S(Vt(e))},Kt=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return ze(Kt)},d.__private__.setStrokeColor=d.setDrawColor=function(e,t,n,r){return Kt=je({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),$(Kt),this};var qt=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return ze(qt)},d.__private__.setFillColor=d.setFillColor=function(e,t,n,r){return qt=je({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),$(qt),this};var Xt=e.textColor||"0 g",Yt=d.__private__.getTextColor=d.getTextColor=function(){return ze(Xt)};d.__private__.setTextColor=d.setTextColor=function(e,t,n,r){return Xt=je({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var $t=e.charSpace,Jt=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat($t||0)};d.__private__.setCharSpace=d.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $t=e,this};var Zt=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(e){var t=d.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,$(t+" J"),this};var en=0;d.__private__.setLineJoin=d.setLineJoin=function(e){var t=d.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return en=t,$(t+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return $(S(T(e))+" M"),this},d.GState=_D,d.setGState=function(e){(e="string"==typeof e?we[xe[e]]:tn(null,e)).equals(_e)||($("/"+e.id+" gs"),_e=e)};var tn=function(e,t){if(!e||!xe[e]){var n=!1;for(var r in we)if(we.hasOwnProperty(r)&&we[r].equals(t)){n=!0;break}if(n)t=we[r];else{var i="GS"+(Object.keys(we).length+1).toString(10);we[i]=t,t.id=i}return e&&(xe[e]=t.id),Be.publish("addGState",t),t}};d.addGState=function(e,t){return tn(e,t),this},d.saveGraphicsState=function(){return $("q"),ve.push({key:ue,size:te,color:Xt}),this},d.restoreGraphicsState=function(){$("Q");var e=ve.pop();return ue=e.key,te=e.size,Xt=e.color,_e=null,this},d.setCurrentTransformationMatrix=function(e){return $(e.toString()+" cm"),this},d.comment=function(e){return $("#"+e),this};var nn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},rn=function(e,t,n,r){nn.call(this,e,t),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var o=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return o},set:function(e){isNaN(e)||(o=parseFloat(e))}}),this},on=function(){this.page=Se,this.currentPage=O,this.pages=K.slice(0),this.pagesContext=Ce.slice(0),this.x=de,this.y=pe,this.matrix=fe,this.width=ln(O),this.height=cn(O),this.outputDestination=X,this.id="",this.objectNumber=-1};on.prototype.restore=function(){Se=this.page,O=this.currentPage,Ce=this.pagesContext,K=this.pages,de=this.x,pe=this.y,fe=this.matrix,An(O,this.width),un(O,this.height),X=this.outputDestination};var sn=function(e,t,n,r,i){Fe.push(new on),Se=O=0,K=[],de=e,pe=t,fe=i,it([n,r])};for(var an in d.beginFormObject=function(e,t,n,r,i){return sn(e,t,n,r,i),this},d.endFormObject=function(e){return function(e){if(Te[e])Fe.pop().restore();else{var t=new on,n="Xo"+(Object.keys(Me).length+1).toString(10);t.id=n,Te[e]=n,Me[n]=t,Be.publish("addFormObject",t),Fe.pop().restore()}}(e),this},d.doFormObject=function(e,t){var n=Me[Te[e]];return $("q"),$(t.toString()+" cm"),$("/"+n.id+" Do"),$("Q"),this},d.getFormObject=function(e){var t=Me[Te[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},d.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(nD(gt(ft()),e),"function"==typeof nD.unload&&qN.setTimeout&&setTimeout(nD.unload,911),this):new Promise((function(t,n){try{var r=nD(gt(ft()),e);"function"==typeof nD.unload&&qN.setTimeout&&setTimeout(nD.unload,911),t(r)}catch(e){n(e.message)}}))},ED.API)ED.API.hasOwnProperty(an)&&("events"===an&&ED.API.events.length?function(e,t){var n,r,i;for(i=t.length-1;-1!==i;i--)n=t[i][0],r=t[i][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Be,ED.API.events):d[an]=ED.API[an]);var ln=d.getPageWidth=function(e){return(Ce[e=e||O].mediaBox.topRightX-Ce[e].mediaBox.bottomLeftX)/he},An=d.setPageWidth=function(e,t){Ce[e].mediaBox.topRightX=t*he+Ce[e].mediaBox.bottomLeftX},cn=d.getPageHeight=function(e){return(Ce[e=e||O].mediaBox.topRightY-Ce[e].mediaBox.bottomLeftY)/he},un=d.setPageHeight=function(e,t){Ce[e].mediaBox.topRightY=t*he+Ce[e].mediaBox.bottomLeftY};return d.internal={pdfEscape:rt,getStyle:Ct,getFont:Rt,getFontSize:re,getCharSpace:Jt,getTextColor:Yt,getLineHeight:Qt,getLineHeightFactor:zt,getLineWidth:Dt,write:J,getHorizontalCoordinate:jt,getVerticalCoordinate:Vt,getCoordinateString:Wt,getVerticalCoordinateString:Gt,collections:{},newObject:ke,newAdditionalObject:Oe,newObjectDeferred:Ne,newObjectDeferredBegin:De,getFilters:Ve,putStream:We,events:Be,scaleFactor:he,pageSize:{getWidth:function(){return ln(O)},setWidth:function(e){An(O,e)},getHeight:function(){return cn(O)},setHeight:function(e){un(O,e)}},encryptionOptions:c,encryption:yt,getEncryptor:function(e){return null!==c?yt.encryptor(e,0):function(e){return e}},output:mt,getNumberOfPages:lt,pages:K,out:$,f2:E,f3:M,getPageInfo:bt,getPageInfoByObjId:wt,getCurrentPageInfo:xt,getPDFVersion:f,Point:nn,Rectangle:rn,Matrix:Ie,hasHotfix:vt},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return ln(O)},set:function(e){An(O,e)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return cn(O)},set:function(e){un(O,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=nt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===u&&(h[r]=!0);var i=e[t][0].split("-");tt({id:r,fontName:i[0],fontStyle:i[1]||""})}Be.publish("addFonts",{fonts:ge,dictionary:me})}.call(d,ee),ue="F1",ot(i,n),Be.publish("initialized"),d}bD.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},bD.prototype.toHexString=function(e){return e.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},bD.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},bD.prototype.processOwnerPassword=function(e,t){return vD(fD(t).substr(0,5),e)},bD.prototype.encryptor=function(e,t){var n=fD(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return vD(n,e)}},_D.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,eN.A)(e)!==(0,eN.A)(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},ED.API={events:[]},ED.version="2.5.1";var MD=ED.API,TD=1,FD=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ID=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},LD=function(e){return e.toFixed(2)},PD=function(e){return e.toFixed(5)};MD.__acroform__={};var UD=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},RD=function(e){return e*TD},kD=function(e){var t=new ZD,n=dO.internal.getHeight(e)||0,r=dO.internal.getWidth(e)||0;return t.BBox=[0,0,Number(LD(r)),Number(LD(n))],t},ND=MD.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},DD=MD.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},OD=MD.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},QD=MD.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return OD(e,t-1)},HD=MD.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ND(e,t-1)},zD=MD.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return DD(e,t-1)},jD=MD.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],o=e[1],s=e[2],a=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(o)||0,[Number(LD(l.lowerLeft_X)),Number(LD(l.lowerLeft_Y)),Number(LD(l.upperRight_X)),Number(LD(l.upperRight_Y))]},VD=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=WD(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+LD(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=kD(e);return o.scope=e.scope,o.stream=t.join("\n"),o}},WD=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map((function(e){return e.split("\n")})):i.map((function(e){return[e]}));var o=n,s=dO.internal.getHeight(e)||0;s=s<0?-s:s;var a=dO.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(t,n,r){if(t+1<i.length){var o=n+" "+i[t+1][0];return GD(o,e,r).width<=a-4}return!1};o++;e:for(;o>0;){t="",o--;var A,c,u=GD("3",e,o).height,h=e.multiline?s-o:(s-u)/2,d=h+=2,p=0,f=0,g=0;if(o<=0){t="(...) Tj\n",t+="% Width of Text: "+GD(t,e,o=12).width+", FieldWidth:"+a+"\n";break}for(var m="",v=0,y=0;y<i.length;y++)if(i.hasOwnProperty(y)){var b=!1;if(1!==i[y].length&&g!==i[y].length-1){if((u+2)*(v+2)+2>s)continue e;m+=i[y][g],b=!0,f=y,y--}else{m=" "==(m+=i[y][g]+" ").substr(m.length-1)?m.substr(0,m.length-1):m;var w=parseInt(y),x=l(w,m,o),_=y>=i.length-1;if(x&&!_){m+=" ",g=0;continue}if(x||_){if(_)f=w;else if(e.multiline&&(u+2)*(v+2)+2>s)continue e}else{if(!e.multiline)continue e;if((u+2)*(v+2)+2>s)continue e;f=w}}for(var S="",C=p;C<=f;C++){var B=i[C];if(e.multiline){if(C===f){S+=B[g]+" ",g=(g+1)%B.length;continue}if(C===p){S+=B[B.length-1]+" ";continue}}S+=B[0]+" "}switch(S=" "==S.substr(S.length-1)?S.substr(0,S.length-1):S,c=GD(S,e,o).width,e.textAlign){case"right":A=a-c-2;break;case"center":A=(a-c)/2;break;default:A=2}t+=LD(A)+" "+LD(d)+" Td\n",t+="("+FD(S)+") Tj\n",t+=-LD(A)+" 0 Td\n",d=-(o+2),c=0,p=b?f:f+1,v++,m=""}break}return r.text=t,r.fontSize=o,r},GD=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},KD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qD=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find((function(e){return e.type===n.type&&e.object===n.object}))&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},XD=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(tO.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(KD)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");TD=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new eO,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})),e.internal.events.subscribe("buildDocument",(function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&qD(r,e)}}(e)})),e.internal.events.subscribe("putCatalog",(function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)})),e.internal.events.subscribe("postPutPages",(function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var i=e[r],o=[],s=i.Rect;if(i.Rect&&(i.Rect=jD(i.Rect,t)),t.internal.newObjectDeferredBegin(i.objId,!0),i.DA=dO.createDefaultAppearanceStream(i),"object"===(0,eN.A)(i)&&"function"==typeof i.getKeyValueListForStream&&(o=i.getKeyValueListForStream()),i.Rect=s,i.hasAppearanceStream&&!i.appearanceStreamContent){var a=VD(i);o.push({key:"AP",value:"<</N "+a+">>"}),t.internal.acroformPlugin.xForms.push(a)}if(i.appearanceStreamContent){var l="";for(var A in i.appearanceStreamContent)if(i.appearanceStreamContent.hasOwnProperty(A)){var c=i.appearanceStreamContent[A];if(l+="/"+A+" ",l+="<<",Object.keys(c).length>=1||Array.isArray(c)){for(var r in c)if(c.hasOwnProperty(r)){var u=c[r];"function"==typeof u&&(u=u.call(t,i)),l+="/"+r+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=c)&&(u=u.call(t,i)),l+="/"+r+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}o.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:o,objectId:i.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),"object"===(0,eN.A)(i)&&"function"==typeof i.putStream&&i.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)})),e.internal.acroformPlugin.isInitialized=!0}},YD=MD.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var i="[",o=0;o<e.length;o++)switch(0!==o&&(i+=" "),(0,eN.A)(e[o])){case"boolean":case"number":case"object":i+=e[o].toString();break;case"string":"/"!==e[o].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),i+="("+FD(r(e[o].toString()))+")"):i+=e[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$D=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+FD(r(e))+")"},JD=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};JD.prototype.toString=function(){return this.objId+" 0 R"},JD.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},JD.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)}));for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:YD(i,this.objId,this.scope)}):i instanceof JD?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&e.push({key:r,value:i}))}return e};var ZD=function(){JD.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};UD(ZD,JD);var eO=function(){JD.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+FD(t(e))+")"}},set:function(t){e=t}})};UD(eO,JD);var tO=function e(){JD.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(t,3))},set:function(e){!0===Boolean(e)?this.F=HD(t,3):this.F=zD(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof AO)return;o="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+FD(t(o))+")"},set:function(e){o=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(e){o=e}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===A?50/TD:A},set:function(e){A=e}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(e){c=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof AO||this instanceof uO))return $D(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof sO==0?$D(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof sO==0?"("===e.substr(0,1)?ID(e.substr(1,e.length-2)):ID(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof sO==1?ID(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof sO==1?"/"+e:e}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof sO==0?$D(d,this.objId,this.scope):d},set:function(e){e=e.toString(),d=this instanceof sO==0?"("===e.substr(0,1)?ID(e.substr(1,e.length-2)):ID(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof sO==1?ID(d.substr(1,d.length-1)):d},set:function(e){e=e.toString(),d=this instanceof sO==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,f=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return f},set:function(e){e=Boolean(e),f=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(e){p=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,1):this.Ff=zD(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,2):this.Ff=zD(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,3):this.Ff=zD(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};UD(tO,JD);var nO=function(){tO.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return YD(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,i=[];r=t.exec(e);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,18):this.Ff=zD(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=HD(this.Ff,19):this.Ff=zD(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=HD(this.Ff,20),t.sort()):this.Ff=zD(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,22):this.Ff=zD(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,23):this.Ff=zD(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,27):this.Ff=zD(this.Ff,27)}}),this.hasAppearanceStream=!1};UD(nO,tO);var rO=function(){nO.call(this),this.fontName="helvetica",this.combo=!1};UD(rO,nO);var iO=function(){rO.call(this),this.combo=!0};UD(iO,rO);var oO=function(){iO.call(this),this.edit=!0};UD(oO,iO);var sO=function(){tO.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,15):this.Ff=zD(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,16):this.Ff=zD(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,17):this.Ff=zD(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,26):this.Ff=zD(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+FD(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,eN.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};UD(sO,tO);var aO=function(){sO.call(this),this.pushButton=!0};UD(aO,sO);var lO=function(){sO.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};UD(lO,sO);var AO=function(){var e,t;tO.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+FD(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,eN.A)(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dO.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};UD(AO,tO),lO.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},lO.prototype.createOption=function(e){var t=new AO;return t.Parent=this,t.optionName=e,this.Kids.push(t),pO.call(this.scope,t),t};var cO=function(){sO.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dO.CheckBox.createAppearanceStream()};UD(cO,sO);var uO=function(){tO.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,13):this.Ff=zD(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,21):this.Ff=zD(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,23):this.Ff=zD(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,24):this.Ff=zD(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,25):this.Ff=zD(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,26):this.Ff=zD(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};UD(uO,tO);var hO=function(){uO.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(QD(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=HD(this.Ff,14):this.Ff=zD(this.Ff,14)}}),this.password=!0};UD(hO,uO);var dO={CheckBox:{createAppearanceStream:function(){return{N:{On:dO.CheckBox.YesNormal},D:{On:dO.CheckBox.YesPushDown,Off:dO.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=kD(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),o=WD(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+LD(dO.internal.getWidth(e))+" "+LD(dO.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+LD(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=kD(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],o=dO.internal.getHeight(e),s=dO.internal.getWidth(e),a=WD(e,e.caption);return i.push("1 g"),i.push("0 0 "+LD(s)+" "+LD(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+LD(s-1)+" "+LD(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+LD(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=kD(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+LD(dO.internal.getWidth(e))+" "+LD(dO.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:dO.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=dO.RadioButton.Circle.YesNormal,t.D[e]=dO.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=kD(e);t.scope=e.scope;var n=[],r=dO.internal.getWidth(e)<=dO.internal.getHeight(e)?dO.internal.getWidth(e)/4:dO.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=dO.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+PD(dO.internal.getWidth(e)/2)+" "+PD(dO.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=kD(e);t.scope=e.scope;var n=[],r=dO.internal.getWidth(e)<=dO.internal.getHeight(e)?dO.internal.getWidth(e)/4:dO.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*dO.internal.Bezier_C).toFixed(5)),s=Number((r*dO.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+PD(dO.internal.getWidth(e)/2)+" "+PD(dO.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+PD(dO.internal.getWidth(e)/2)+" "+PD(dO.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=kD(e);t.scope=e.scope;var n=[],r=dO.internal.getWidth(e)<=dO.internal.getHeight(e)?dO.internal.getWidth(e)/4:dO.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*dO.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+PD(dO.internal.getWidth(e)/2)+" "+PD(dO.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:dO.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=dO.RadioButton.Cross.YesNormal,t.D[e]=dO.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=kD(e);t.scope=e.scope;var n=[],r=dO.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+LD(dO.internal.getWidth(e)-2)+" "+LD(dO.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(LD(r.x1.x)+" "+LD(r.x1.y)+" m"),n.push(LD(r.x2.x)+" "+LD(r.x2.y)+" l"),n.push(LD(r.x4.x)+" "+LD(r.x4.y)+" m"),n.push(LD(r.x3.x)+" "+LD(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=kD(e);t.scope=e.scope;var n=dO.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+LD(dO.internal.getWidth(e))+" "+LD(dO.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+LD(dO.internal.getWidth(e)-2)+" "+LD(dO.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(LD(n.x1.x)+" "+LD(n.x1.y)+" m"),r.push(LD(n.x2.x)+" "+LD(n.x2.y)+" l"),r.push(LD(n.x4.x)+" "+LD(n.x4.y)+" m"),r.push(LD(n.x3.x)+" "+LD(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=kD(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+LD(dO.internal.getWidth(e))+" "+LD(dO.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};dO.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=dO.internal.getWidth(e),n=dO.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},dO.internal.getWidth=function(e){var t=0;return"object"===(0,eN.A)(e)&&(t=RD(e.Rect[2])),t},dO.internal.getHeight=function(e){var t=0;return"object"===(0,eN.A)(e)&&(t=RD(e.Rect[3])),t};var pO=MD.addField=function(e){if(XD(this,e),!(e instanceof tO))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};MD.AcroFormChoiceField=nO,MD.AcroFormListBox=rO,MD.AcroFormComboBox=iO,MD.AcroFormEditBox=oO,MD.AcroFormButton=sO,MD.AcroFormPushButton=aO,MD.AcroFormRadioButton=lO,MD.AcroFormCheckBox=cO,MD.AcroFormTextField=uO,MD.AcroFormPasswordField=hO,MD.AcroFormAppearance=dO,MD.AcroForm={ChoiceField:nO,ListBox:rO,ComboBox:iO,EditBox:oO,Button:sO,PushButton:aO,RadioButton:lO,CheckBox:cO,TextField:uO,PasswordField:hO,Appearance:dO},ED.AcroForm={ChoiceField:nO,ListBox:rO,ComboBox:iO,EditBox:oO,Button:sO,PushButton:aO,RadioButton:lO,CheckBox:cO,TextField:uO,PasswordField:hO,Appearance:dO};ED.AcroForm;function fO(e){return e.reduce((function(e,t,n){return e[t]=n,e}),{})}!function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(e,r){var i,o,s,a,l,A=t;if("RGBA"===(r=r||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(x(e))for(l in n)for(s=n[l],i=0;i<s.length;i+=1){for(a=!0,o=0;o<s[i].length;o+=1)if(void 0!==s[i][o]&&s[i][o]!==e[o]){a=!1;break}if(!0===a){A=l;break}}else for(l in n)for(s=n[l],i=0;i<s.length;i+=1){for(a=!0,o=0;o<s[i].length;o+=1)if(void 0!==s[i][o]&&s[i][o]!==e.charCodeAt(o)){a=!1;break}if(!0===a){A=l;break}}return A===t&&r!==t&&(A=r),A},i=function e(t){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var o=[];if(o.push({key:"Type",value:"/XObject"}),o.push({key:"Subtype",value:"/Image"}),o.push({key:"Width",value:t.width}),o.push({key:"Height",value:t.height}),t.colorSpace===g.INDEXED?o.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(o.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===g.DEVICE_CMYK&&o.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),o.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&o.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var s="",a=0,l=t.transparency.length;a<l;a++)s+=t.transparency[a]+" "+t.transparency[a]+" ";o.push({key:"Mask",value:"["+s+"]"})}void 0!==t.sMask&&o.push({key:"SMask",value:t.objectId+1+" 0 R"});var A=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:o,alreadyAppliedFilters:A,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var c="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,u={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:c,data:t.sMask};"filter"in t&&(u.filter=t.filter),e.call(this,u)}if(t.colorSpace===g.INDEXED){var h=this.internal.newObject();r({data:S(new Uint8Array(t.palette)),objectId:h}),n("endobj")}},o=function(){var e=this.internal.collections.addImage_images;for(var t in e)i.call(this,e[t])},s=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var r in t)n("/I"+(e=t[r]).index,e.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var e=this.internal.collections.addImage_images;return a.call(this),e},A=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(t){return"function"==typeof e["process"+t.toUpperCase()]},u=function(e){return"object"===(0,eN.A)(e)&&1===e.nodeType},h=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return eD(unescape(r).split("base64,").pop());var i=e.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var o;switch(n){case"PNG":o="image/png";break;case"WEBP":o="image/webp";break;default:o="image/jpeg"}return eD(t.toDataURL(o,1).split("base64,").pop())}},d=function(e){var t=this.internal.collections.addImage_images;if(t)for(var n in t)if(e===t[n].alias)return t[n]},p=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},f=function(e,t,n,r,i,o){var s=p.call(this,n,r,i),a=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString,c=l.call(this);if(n=s[0],r=s[1],c[i.index]=i,o){o*=Math.PI/180;var u=Math.cos(o),h=Math.sin(o),d=function(e){return e.toFixed(4)},f=[d(u),d(h),d(-1*h),d(u),0,0,"cm"]}this.internal.write("q"),o?(this.internal.write([1,"0","0",1,a(e),A(t+r),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([a(n),"0","0",a(r),"0","0","cm"].join(" "))):this.internal.write([a(n),"0","0",a(r),a(e),A(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(x(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},y=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},b=e.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),n=null;if(2===t.length){var r=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:t[1]})}return n},w=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return w()&&e instanceof ArrayBuffer};var x=e.__addimage__.isArrayBufferView=function(e){return w()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},_=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},S=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=x(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,n,r,i,o,s,l,A,c;if("number"==typeof arguments[1]?(n=t,r=arguments[1],i=arguments[2],o=arguments[3],s=arguments[4],l=arguments[5],A=arguments[6],c=arguments[7]):(n=arguments[1],r=arguments[2],i=arguments[3],o=arguments[4],s=arguments[5],l=arguments[6],A=arguments[7],c=arguments[8]),"object"===(0,eN.A)(e=arguments[0])&&!u(e)&&"imageData"in e){var h=e;e=h.imageData,n=h.format||n||t,r=h.x||r||0,i=h.y||i||0,o=h.w||h.width||o,s=h.h||h.height||s,l=h.alias||l,A=h.compression||A,c=h.rotation||h.angle||c}var d=this.internal.getFilters();if(void 0===A&&-1!==d.indexOf("FlateEncode")&&(A="SLOW"),isNaN(r)||isNaN(i))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var p=C.call(this,e,n,l,A);return f.call(this,r,i,o,s,p,c),this};var C=function(n,i,o,s){var a,l,p;if("string"==typeof n&&r(n)===t){n=unescape(n);var f=B(n,!1);(""!==f||void 0!==(f=e.loadFile(n,!0)))&&(n=f)}if(u(n)&&(n=h(n,i)),i=r(n,i),!c(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if((null==(p=o)||0===p.length)&&(o=function(e){return"string"==typeof e||x(e)?v(e):x(e.data)?v(e.data):null}(n)),(a=d.call(this,o))||(w()&&(n instanceof Uint8Array||"RGBA"===i||(l=n,n=_(n))),a=this["process"+i.toUpperCase()](n,A.call(this),o,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:m.NONE}(s),l)),!a)throw new Error("An unknown error occurred whilst processing the image.");return a},B=e.__addimage__.convertBase64ToBinaryString=function(e,t){var n;t="boolean"!=typeof t||t;var r,i="";if("string"==typeof e){r=null!==(n=b(e))?n.data:e;try{i=eD(r)}catch(e){if(t)throw y(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};e.getImageProperties=function(n){var i,o,s="";if(u(n)&&(n=h(n)),"string"==typeof n&&r(n)===t&&(""===(s=B(n,!1))&&(s=e.loadFile(n)||""),n=s),o=r(n),!c(o))throw new Error("addImage does not support files of type '"+o+"', please ensure that a plugin for '"+o+"' support is added.");if(!w()||n instanceof Uint8Array||(n=_(n)),!(i=this["process"+o.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return i.fileType=o,i}}(ED.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};ED.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,i,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,A=!1,c=0;c<l.length&&!A;c++)switch((n=l[c]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(0!=A){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){n=l[u];var h=this.internal.pdfEscape,d=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),f=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(p.objId),m=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+h(g(n.contents))+")",i+=" /Popup "+f.objId+" 0 R",i+=" /P "+a.objId+" 0 R",i+=" /T ("+h(g(m))+") >>",p.content=i;var v=p.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+v,n.open&&(i+=" /Open true"),i+=" >>",f.content=i,this.internal.write(p.objId,"0 R",f.objId,"0 R");break;case"freetext":r="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var y=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(d(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var b=this.annotations._nameMap[n.options.name];n.options.pageNumber=b.page,n.options.top=b.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(d(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var w=s(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+w+" "+n.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,i){var o=this.internal.getCurrentPageInfo(),s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:s(e),y:a(t),w:s(e+n),h:a(t+r)},options:i,type:"link"})},e.textWithLink=function(e,t,n,r){var i,o,s=this.getTextWidth(e),a=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){o=r.maxWidth;var l=this.splitTextToSize(e,o).length;i=Math.ceil(a*l)}else o=s,i=a;return this.text(e,t,n,r),n+=.2*a,"center"===r.align&&(t-=s/2),"right"===r.align&&(t-=s),this.link(t,n-a,o,i,r),s},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(ED.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},s=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},a=e.__arabicParser__.isArabicEndLetter=function(e){return s(e)&&o(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return s(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return s(e)&&o(e)&&t[e.charCodeAt(0)].length>=1};var A=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return s(e)&&o(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return s(e)&&o(e)&&t[e.charCodeAt(0)].length>=3};var c=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return s(e)&&o(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,i="",o=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(o++,"number"==typeof(r=r[e.charCodeAt(t)])&&(i+=String.fromCharCode(r),r=n,o=0),t===e.length-1&&(r=n,i+=e.charAt(t-(o-1)),t-=o-1,o=0)):(r=n,i+=e.charAt(t-o),t-=o,o=0);return i};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,n){return s(e)?!1===o(e)?-1:!A(e)||!s(t)&&!s(n)||!s(n)&&a(t)||a(e)&&!s(t)||a(e)&&l(t)||a(e)&&a(t)?0:c(e)&&s(t)&&!a(t)&&s(n)&&A(n)?3:a(e)||!s(n)?1:2:-1},d=function(e){var n=0,r=0,i=0,o="",a="",l="",A=(e=e||"").split("\\s+"),c=[];for(n=0;n<A.length;n+=1){for(c.push(""),r=0;r<A[n].length;r+=1)o=A[n][r],a=A[n][r-1],l=A[n][r+1],s(o)?(i=h(o,a,l),c[n]+=-1!==i?String.fromCharCode(t[o.charCodeAt(0)][i]):o):c[n]+=o;c[n]=u(c[n])}return c.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([d(t[r][0]),t[r][1],t[r][2]]):n.push([d(t[r])]);e=n}else e=d(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",p])}(ED.API),ED.API.autoPrint=function(e){var t;if("javascript"===((e=e||{}).variant=e.variant||"non-conform",e.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}));return this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ED.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var o=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return o},set:function(e){o=e}});var s=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return s},set:function(e){s=e}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),i=t.font||this.getFont(),o=t.scaleFactor||this.internal.scaleFactor,s=0,a=0,l=0,A=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var c=t.maxWidth;c>0?"string"==typeof e?e=this.splitTextToSize(e,c):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(A.splitTextToSize(t,c))}),[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)s<(l=this.getStringUnitWidth(e[u],{font:i})*n)&&(s=l);return 0!==s&&(a=e.length),{w:s/=o,h:Math.max((a*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/o,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var e;e=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var i=this.internal.__cell__.lastCell,s=this.internal.__cell__.padding,a=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return void 0!==i.lineNumber&&(i.lineNumber===e.lineNumber?(e.x=(i.x||0)+(i.width||0),e.y=i.y||0):i.y+i.height+e.height+a.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=a.top,A&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=i.y+i.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-s,e.y+s,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+s,{align:"center",baseline:"top",maxWidth:e.width-s-s}):this.text(e.text,e.x+s,e.y+s,{align:"left",baseline:"top",maxWidth:e.width-s-s})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,A,c){if(r.call(this),!l)throw new Error("No data for PDF table.");var u,h,d,p,f=[],g=[],m=[],v={},y={},b=[],w=[],x=(c=c||{}).autoSize||!1,_=!1!==c.printHeaders,S=c.css&&void 0!==c.css["font-size"]?16*c.css["font-size"]:c.fontSize||12,C=c.margins||Object.assign({width:this.getPageWidth()},t),B="number"==typeof c.padding?c.padding:3,E=c.headerBackgroundColor||"#c8c8c8",M=c.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=S,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=M,this.setFontSize(S),null==A)g=f=Object.keys(l[0]),m=f.map((function(){return"left"}));else if(Array.isArray(A)&&"object"===(0,eN.A)(A[0]))for(f=A.map((function(e){return e.name})),g=A.map((function(e){return e.prompt||e.name||""})),m=A.map((function(e){return e.align||"left"})),u=0;u<A.length;u+=1)y[A[u].name]=A[u].width*(19.049976/25.4);else Array.isArray(A)&&"string"==typeof A[0]&&(g=f=A,m=f.map((function(){return"left"})));if(x||Array.isArray(A)&&"string"==typeof A[0])for(u=0;u<f.length;u+=1){for(v[p=f[u]]=l.map((function(e){return e[p]})),this.setFont(void 0,"bold"),b.push(this.getTextDimensions(g[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=v[p],this.setFont(void 0,"normal"),d=0;d<h.length;d+=1)b.push(this.getTextDimensions(h[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);y[p]=Math.max.apply(null,b)+B+B,b=[]}if(_){var T={};for(u=0;u<f.length;u+=1)T[f[u]]={},T[f[u]].text=g[u],T[f[u]].align=m[u];var F=a.call(this,T,y);w=f.map((function(t){return new o(e,n,y[t],F,T[t].text,void 0,T[t].align)})),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var I=A.reduce((function(e,t){return e[t.name]=t.align,e}),{});for(u=0;u<l.length;u+=1){"rowStart"in c&&c.rowStart instanceof Function&&c.rowStart({row:u,data:l[u]},this);var L=a.call(this,l[u],y);for(d=0;d<f.length;d+=1){var P=l[u][f[d]];"cellStart"in c&&c.cellStart instanceof Function&&c.cellStart({row:u,col:d,data:P},this),s.call(this,new o(e,n,y[f[d]],L,P,u+2,I[f[d]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var a=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map((function(r){var i=e[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,t[r]-n-n)}),this).map((function(e){return this.getLineHeightFactor()*e.length*r/i+n+n}),this).reduce((function(e,t){return Math.max(e,t)}),0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var i;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var a=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(a[0],a[1],a[2],a[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){i=this.internal.__cell__.tableHeaderRow[A].clone(),t&&(i.y=this.internal.__cell__.margins.top||0,l.push(i)),i.lineNumber=e;var c=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,i),this.setTextColor(c)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(ED.API);var gO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mO=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],vO=fO(mO),yO=[100,200,300,400,500,600,700,800,900],bO=fO(yO);function wO(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return gO[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),i=function(e){return"number"==typeof vO[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function xO(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var _O={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},SO={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function CO(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function BO(e){return e.trimLeft()}function EO(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function MO(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var TO,FO,IO,LO,PO=["times"];!function(e){var t,n,r,i,o,s,a,l,A,c=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new s,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new s,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,A=new c}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var o=0;Object.defineProperty(this,"posY",{get:function(){return o},set:function(e){isNaN(e)||(o=e)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),A.margin=t}});var s=!1;Object.defineProperty(this,"autoPaging",{get:function(){return s},set:function(e){s=e}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(e){a=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(e){e instanceof c&&(A=e)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(e){A.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var d=null;function p(e,t){if(null===d){var n=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].forEach((function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))}))})),t}(e.getFontList());d=function(e){for(var t={},n=0;n<e.length;++n){var r=wO(e[n]),i=r.family,o=r.stretch,s=r.style,a=r.weight;t[i]=t[i]||{},t[i][o]=t[i][o]||{},t[i][o][s]=t[i][o][s]||{},t[i][o][s][a]=r}return t}(n.concat(t))}return d}var f=null;Object.defineProperty(this,"fontFaces",{get:function(){return f},set:function(e){d=null,f=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1],r=(t[2],t[3]),i=t[4],o=(t[5],t[6]),s=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===s?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===s?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var a=function(e){var t,n,r=[],i=e.trim();if(""===i)return PO;if(i in SO)return[SO[i]];for(;""!==i;){switch(n=null,t=(i=BO(i)).charAt(0)){case'"':case"'":n=EO(i.substring(1),t);break;default:n=MO(i)}if(null===n)return PO;if(r.push(n[0]),""!==(i=BO(n[1]))&&","!==i.charAt(0))return PO;i=i.replace(/^,/,"")}return r}(o);if(this.fontFaces){var l=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},_O,n.genericFontFamilies||{}),o=null,s=null,a=0;a<t.length;++a)if(i[(o=wO(t[a])).family]&&(o.family=i[o.family]),e.hasOwnProperty(o.family)){s=e[o.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+CO(o)+"' and default family '"+r+"'.");if(s=function(e,t){if(t[e])return t[e];var n=vO[e],r=n<=vO.normal?-1:1,i=xO(t,mO,n,r);if(!i)throw new Error("Could not find a matching font-stretch value for "+e);return i}(o.stretch,s),s=function(e,t){if(t[e])return t[e];for(var n=gO[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(o.style,s),!(s=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=bO[e],r=xO(t,yO,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+CO(o)+"'.");return s}(p(this.pdf,this.fontFaces),a.map((function(e){return{family:e,stretch:"normal",weight:r,style:n}})));this.pdf.setFont(l.ref.name,l.ref.style)}else{var A="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(A="bold"),"italic"===n&&(A+="italic"),0===A.length&&(A="normal");for(var c="",u={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},h=0;h<a.length;h++){if(void 0!==this.pdf.internal.getFont(a[h],A,{noFallback:!0,disableWarning:!0})){c=a[h];break}if("bolditalic"===A&&void 0!==this.pdf.internal.getFont(a[h],"bold",{noFallback:!0,disableWarning:!0}))c=a[h],A="bold";else if(void 0!==this.pdf.internal.getFont(a[h],"normal",{noFallback:!0,disableWarning:!0})){c=a[h],A="normal";break}}if(""===c)for(var d=0;d<a.length;d++)if(u[a[d]]){c=u[a[d]];break}c=""===c?"Times":c,this.pdf.setFont(c,A)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,N.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,N.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){b.call(this,"fill",!1)},u.prototype.stroke=function(){b.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw YN.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(e,t)},u.prototype.closePath=function(){var e=new s(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,eN.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new s(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw YN.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw YN.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new s(n,r)),o=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"qct",x1:o.x,y1:o.y,x:i.x,y:i.y}),this.ctx.lastPoint=new s(i.x,i.y)},u.prototype.bezierCurveTo=function(e,t,n,r,i,o){if(isNaN(i)||isNaN(o)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw YN.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var a=this.ctx.transform.applyToPoint(new s(i,o)),l=this.ctx.transform.applyToPoint(new s(e,t)),A=this.ctx.transform.applyToPoint(new s(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:A.x,y2:A.y,x:a.x,y:a.y}),this.ctx.lastPoint=new s(a.x,a.y)},u.prototype.arc=function(e,t,n,r,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i))throw YN.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(o=Boolean(o),!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new s(e,t));e=a.x,t=a.y;var l=this.ctx.transform.applyToPoint(new s(0,n)),A=this.ctx.transform.applyToPoint(new s(0,0));n=Math.sqrt(Math.pow(l.x-A.x,2)+Math.pow(l.y-A.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:i,counterclockwise:o})},u.prototype.arcTo=function(e,t,n,r,i){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw YN.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw YN.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},u.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw YN.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},u.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw YN.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,n,r,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,i=0;else{var o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==o)t=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=1;else if(null!==(o=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=parseFloat(o[4]);else{if(i=1,"string"==typeof e&&"#"!==e.charAt(0)){var s=new rD(e);e=s.ok?s.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:i,style:e}},d=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},p=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw YN.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!d.call(this)){var i=U(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;M.call(this,{text:e,x:t,y:n,scale:o,angle:i,align:this.textAlign,maxWidth:r})}},u.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw YN.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){r=isNaN(r)?void 0:r;var i=U(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;M.call(this,{text:e,x:t,y:n,scale:o,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw YN.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw YN.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw YN.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw YN.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,r,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o))throw YN.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var s=new l(e,t,n,r,i,o);this.ctx.transform=this.ctx.transform.multiply(s)},u.prototype.setTransform=function(e,t,n,r,i,o){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,o=isNaN(o)?0:o,this.ctx.transform=new l(e,t,n,r,i,o)};var f=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,n,r,i,o,s,A,c){var u=this.pdf.getImageProperties(e),h=1,d=1,p=1,m=1;void 0!==r&&void 0!==A&&(p=A/r,m=c/i,h=u.width/r*A/r,d=u.height/i*c/i),void 0===o&&(o=t,s=n,t=0,n=0),void 0!==r&&void 0===A&&(A=r,c=i),void 0===r&&void 0===A&&(A=u.width,c=u.height);for(var b,x=this.ctx.transform.decompose(),_=U(x.rotate.shx),S=new l,C=(S=(S=(S=S.multiply(x.translate)).multiply(x.skew)).multiply(x.scale)).applyToRectangle(new a(o-t*p,s-n*m,r*h,i*d)),B=g.call(this,C),E=[],M=0;M<B.length;M+=1)-1===E.indexOf(B[M])&&E.push(B[M]);if(y(E),this.autoPaging)for(var T=E[0],F=E[E.length-1],I=T;I<F+1;I++){this.pdf.setPage(I);var L=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],P=1===I?this.posY+this.margin[0]:this.margin[0],R=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],k=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],N=1===I?0:R+(I-2)*k;if(0!==this.ctx.clip_path.length){var D=this.path;b=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(b,this.posX+this.margin[3],-N+P+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=D}var O=JSON.parse(JSON.stringify(C));O=v([O],this.posX+this.margin[3],-N+P+this.ctx.prevPageLastElemOffset)[0];var Q=(I>T||I<F)&&f.call(this);Q&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,k,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",O.x,O.y,O.w,O.h,null,null,_),Q&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",C.x,C.y,C.w,C.h,null,null,_)};var g=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+i)/n)+1);break;case"arc":r.push(Math.floor((e.y+i-e.radius)/n)+1),r.push(Math.floor((e.y+i+e.radius)/n)+1);break;case"qct":var o=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((o.y+i)/n)+1),r.push(Math.floor((o.y+o.h+i)/n)+1);break;case"bct":var s=k(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((s.y+i)/n)+1),r.push(Math.floor((s.y+s.h+i)/n)+1);break;case"rect":r.push(Math.floor((e.y+i)/n)+1),r.push(Math.floor((e.y+e.h+i)/n)+1)}for(var a=0;a<r.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<r[a];)m.call(this);return r},m=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,o=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=o},v=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},y=function(e){return e.sort((function(e,t){return e-t}))},b=function(e,t){for(var n,r,i=this.fillStyle,o=this.strokeStyle,s=this.lineCap,a=this.lineWidth,l=Math.abs(a*this.ctx.transform.scaleX),A=this.lineJoin,c=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),h=[],d=0;d<u.length;d++)if(void 0!==u[d].x)for(var p=g.call(this,u[d]),b=0;b<p.length;b+=1)-1===h.indexOf(p[b])&&h.push(p[b]);for(var x=0;x<h.length;x++)for(;this.pdf.internal.getNumberOfPages()<h[x];)m.call(this);if(y(h),this.autoPaging)for(var _=h[0],S=h[h.length-1],C=_;C<S+1;C++){this.pdf.setPage(C),this.fillStyle=i,this.strokeStyle=o,this.lineCap=s,this.lineWidth=l,this.lineJoin=A;var B=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],E=1===C?this.posY+this.margin[0]:this.margin[0],M=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],T=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],F=1===C?0:M+(C-2)*T;if(0!==this.ctx.clip_path.length){var I=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(n,this.posX+this.margin[3],-F+E+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=I}if(r=JSON.parse(JSON.stringify(c)),this.path=v(r,this.posX+this.margin[3],-F+E+this.ctx.prevPageLastElemOffset),!1===t||0===C){var L=(C>_||C<S)&&f.call(this);L&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],B,T,null).clip().discardPath()),w.call(this,e,t),L&&this.pdf.restoreGraphicsState()}this.lineWidth=a}else this.lineWidth=l,w.call(this,e,t),this.lineWidth=a;this.path=c},w=function(e,t){if(("stroke"!==e||t||!p.call(this))&&("stroke"===e||t||!d.call(this))){for(var n,r,i=[],o=this.path,s=0;s<o.length;s++){var a=o[s];switch(a.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:a,deltas:[],abs:[]});break;case"lt":var l=i.length;if(o[s-1]&&!isNaN(o[s-1].x)&&(n=[a.x-o[s-1].x,a.y-o[s-1].y],l>0))for(;l>=0;l--)if(!0!==i[l-1].close&&!0!==i[l-1].begin){i[l-1].deltas.push(n),i[l-1].abs.push(a);break}break;case"bct":n=[a.x1-o[s-1].x,a.y1-o[s-1].y,a.x2-o[s-1].x,a.y2-o[s-1].y,a.x-o[s-1].x,a.y-o[s-1].y],i[i.length-1].deltas.push(n);break;case"qct":var A=o[s-1].x+2/3*(a.x1-o[s-1].x),c=o[s-1].y+2/3*(a.y1-o[s-1].y),u=a.x+2/3*(a.x1-a.x),h=a.y+2/3*(a.y1-a.y),f=a.x,g=a.y;n=[A-o[s-1].x,c-o[s-1].y,u-o[s-1].x,h-o[s-1].y,f-o[s-1].x,g-o[s-1].y],i[i.length-1].deltas.push(n);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(a)}}r=t?null:"stroke"===e?"stroke":"fill";for(var m=!1,v=0;v<i.length;v++)if(i[v].arc)for(var y=i[v].abs,b=0;b<y.length;b++){var w=y[b];"arc"===w.type?S.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!m):T.call(this,w.x,w.y),m=!0}else if(!0===i[v].close)this.pdf.internal.out("h"),m=!1;else if(!0!==i[v].begin){var x=i[v].start.x,_=i[v].start.y;F.call(this,i[v].deltas,x,_),m=!0}r&&C.call(this,r),t&&B.call(this)}},x=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},_=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(e,t,n,r,i,o,s,a,l){for(var A=L.call(this,n,r,i,o),c=0;c<A.length;c++){var u=A[c];0===c&&(l?E.call(this,u.x1+e,u.y1+t):T.call(this,u.x1+e,u.y1+t)),I.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}a?B.call(this):C.call(this,s)},C=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},M=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=x.call(this,e.y),i=_.call(this,r)-n.h,o=this.ctx.transform.applyToPoint(new s(e.x,r)),A=this.ctx.transform.decompose(),c=new l;c=(c=(c=c.multiply(A.translate)).multiply(A.skew)).multiply(A.scale);for(var u,h,d,p=this.ctx.transform.applyToRectangle(new a(e.x,r,n.w,n.h)),m=c.applyToRectangle(new a(e.x,i,n.w,n.h)),b=g.call(this,m),S=[],C=0;C<b.length;C+=1)-1===S.indexOf(b[C])&&S.push(b[C]);if(y(S),this.autoPaging)for(var B=S[0],E=S[S.length-1],M=B;M<E+1;M++){this.pdf.setPage(M);var T=1===M?this.posY+this.margin[0]:this.margin[0],F=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],I=this.pdf.internal.pageSize.height-this.margin[2],L=I-this.margin[0],P=this.pdf.internal.pageSize.width-this.margin[1],U=P-this.margin[3],R=1===M?0:F+(M-2)*L;if(0!==this.ctx.clip_path.length){var k=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(u,this.posX+this.margin[3],-1*R+T),w.call(this,"fill",!0),this.path=k}var N=v([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-R+T+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),d=this.lineWidth,this.lineWidth=d*e.scale);var D="text"!==this.autoPaging;if(D||N.y+N.h<=I){if(D||N.y>=T&&N.x<=P){var O=D?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||P-N.x)[0],Q=v([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-R+T+this.ctx.prevPageLastElemOffset)[0],H=D&&(M>B||M<E)&&f.call(this);H&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],U,L,null).clip().discardPath()),this.pdf.text(O,Q.x,Q.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),H&&this.pdf.restoreGraphicsState()}}else N.y<I&&(this.ctx.prevPageLastElemOffset+=I-N.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=d)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),d=this.lineWidth,this.lineWidth=d*e.scale),this.pdf.text(e.text,o.x+this.posX,o.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=d)},T=function(e,t,i,o){i=i||0,o=o||0,this.pdf.internal.out(n(e+i)+" "+r(t+o)+" l")},F=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},I=function(e,n,r,s,a,l,A,c){this.pdf.internal.out([t(i(r+e)),t(o(s+n)),t(i(a+e)),t(o(l+n)),t(i(A+e)),t(o(c+n)),"c"].join(" "))},L=function(e,t,n,r){for(var i=2*Math.PI,o=Math.PI/2;t>n;)t-=i;var s=Math.abs(n-t);s<i&&r&&(s=i-s);for(var a=[],l=r?-1:1,A=t;s>1e-5;){var c=A+l*Math.min(s,o);a.push(P.call(this,e,A,c)),s-=Math.abs(c-A),A=c}return a},P=function(e,t,n){var r=(n-t)/2,i=e*Math.cos(r),o=e*Math.sin(r),s=i,a=-o,l=s*s+a*a,A=l+s*i+a*o,c=4/3*(Math.sqrt(2*l*A)-A)/(s*o-a*i),u=s-c*a,h=a+c*s,d=u,p=-h,f=r+t,g=Math.cos(f),m=Math.sin(f);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*g-h*m,y2:u*m+h*g,x3:d*g-p*m,y3:d*m+p*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},U=function(e){return 180*e/Math.PI},R=function(e,t,n,r,i,o){var s=e+.5*(n-e),l=t+.5*(r-t),A=i+.5*(n-i),c=o+.5*(r-o),u=Math.min(e,i,s,A),h=Math.max(e,i,s,A),d=Math.min(t,o,l,c),p=Math.max(t,o,l,c);return new a(u,d,h-u,p-d)},k=function(e,t,n,r,i,o,s,l){var A,c,u,h,d,p,f,g,m,v,y,b,w,x,_=n-e,S=r-t,C=i-n,B=o-r,E=s-i,M=l-o;for(c=0;c<41;c++)m=(f=(u=e+(A=c/40)*_)+A*((d=n+A*C)-u))+A*(d+A*(i+A*E-d)-f),v=(g=(h=t+A*S)+A*((p=r+A*B)-h))+A*(p+A*(o+A*M-p)-g),0==c?(y=m,b=v,w=m,x=v):(y=Math.min(y,m),b=Math.min(b,v),w=Math.max(w,m),x=Math.max(x,v));return new a(Math.round(y),Math.round(b),Math.round(w-y),Math.round(x-b))},N=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(ED.API),function(e){var t=function(e){var t,n,r,i,o,s,a,l,A,c;for(/[^\x00-\xFF]/.test(e),n=[],r=0,i=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i>r;r+=4)0!==(o=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(s=(o=((o=((o=((o=(o-(c=o%85))/85)-(A=o%85))/85)-(l=o%85))/85)-(a=o%85))/85)%85,n.push(s+33,a+33,l+33,A+33,c+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,i,o,s=String,a="length",l=255,A="charCodeAt",c="slice",u="replace";for(e[c](-2),e=e[c](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],i=0,o=(e+=t="uuuuu"[c](e[a]%5||5))[a];o>i;i+=5)n=52200625*(e[A](i)-33)+614125*(e[A](i+1)-33)+7225*(e[A](i+2)-33)+85*(e[A](i+3)-33)+(e[A](i+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[a]),s.fromCharCode.apply(s,r)},r=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},i=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=GN(t)).reduce((function(e,t){return e+String.fromCharCode(t)}),"")};e.processDataByFilters=function(e,o){var s=0,a=e||"",l=[];for("string"==typeof(o=o||[])&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":a=n(a),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=t(a),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=r(a),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map((function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)})).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=i(a),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:a,reverseChain:l.reverse().join(" ")}}}(ED.API),(LO=ED.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,i=0,o=function(e){var t=e.length,n=[],r=String.fromCharCode;for(i=0;i<t;i+=1)n.push(r(255&e.charCodeAt(i)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(o(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return o(r.responseText)}(e,t,n)}catch(e){}return r}(e,t,n)},LO.loadImageFile=LO.loadFile,function(e){function t(){return(qN.html2canvas?Promise.resolve(qN.html2canvas):Promise.resolve().then(n.t.bind(n,5239,23))).catch((function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))})).then((function(e){return e.default?e.default:e}))}function r(){return(qN.DOMPurify?Promise.resolve(qN.DOMPurify):n.e(213).then(n.t.bind(n,6213,23))).catch((function(e){return Promise.reject(new Error("Could not load dompurify: "+e))})).then((function(e){return e.default?e.default:e}))}var i=function(e){var t=(0,eN.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},o=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},s=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(e,t){return e.__proto__=t||s.prototype,e},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(e,t){return this.then((function(){switch(t=t||function(e){switch(i(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(r).then((function(t){return this.set({src:o("div",{innerHTML:e,dompurify:t})})}));case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}}))},s.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(e(i,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",(function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft}),!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},s.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},s.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var o=0;o<n.length;++o){var s=n[o],a=s.src.find((function(e){return"truetype"===e.format}));a&&t.addFont(a.url,s.ref.name,s.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)})).then((function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e}))},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},s.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},s.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(e,t)}))},s.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}}))},s.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},s.prototype.set=function(e){if("object"!==i(e))return this;var t=Object.keys(e||{}).map((function(t){if(t in s.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}}),this);return this.then((function(){return this.thenList(t)}))},s.prototype.get=function(e,t){return this.then((function(){var n=e in s.template.prop?this.prop[e]:this.opt[e];return t?t(n):n}))},s.prototype.setMargin=function(e){return this.then((function(){switch(i(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e})).then(this.setPageSize)},s.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then((function(){(e=e||ED.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e}))},s.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},s.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,(function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,(function(t){return n.updateProgress(null,e),t})).then(e,t).then((function(e){return n.updateProgress(1),e}))}))},s.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),i=n.call(r,e,t);return s.convert(i,this.__proto__)},s.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},s.prototype.thenList=function(e){var t=this;return e.forEach((function(e){t=t.thenCore(e)})),t},s.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return s.convert(t,this)},s.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},s.prototype.error=function(e){return this.then((function(){throw new Error(e)}))},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ED.getPageSize=function(e,t,n){if("object"===(0,eN.A)(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var i,o=(""+n).toLowerCase(),s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":i=1;break;case"mm":i=72/25.4;break;case"cm":i=72/2.54;break;case"in":i=72;break;case"px":i=.75;break;case"pc":case"em":i=12;break;case"ex":i=6;break;default:throw"Invalid unit: "+t}var a,l=0,A=0;if(s.hasOwnProperty(o))l=s[o][1]/i,A=s[o][0]/i;else try{l=n[1],A=n[0]}catch(LO){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",A>l&&(a=A,A=l,l=a);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>A&&(a=A,A=l,l=a)}return{width:A,height:l,unit:t,k:i,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(wO):null;var n=new s(t);return t.worker?n:n.from(e).doCallback()}}(ED.API),ED.API.addJS=function(e){return IO=e,this.internal.events.subscribe("postPutResources",(function(){TO=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(TO+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),FO=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+IO+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==TO&&void 0!==FO&&this.internal.out("/Names <</JavaScript "+TO+" 0 R>>")})),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),i=0;i<r.length;i++){var o=r[i],s=n.exec(o);if(null!=s){var a=s[1];e.internal.newObjectDeferredBegin(a,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,A=[];for(i=0;i<l;i++){var c=e.internal.newObject();A.push(c);var u=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<A.length;i++)e.internal.write("(page_"+(i+1)+")"+A[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var i=t.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var s=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var a=0;a<t.children.length;a++)this.renderItems(t.children[a])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(ED.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,i,o,s){var a,l=this.decode.DCT_DECODE,A=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(a=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,o={width:0,height:0,numcomponents:1},s=4;s<i;s+=2){if(s+=r,-1!==t.indexOf(e.charCodeAt(s+1))){n=256*e.charCodeAt(s+5)+e.charCodeAt(s+6),o={width:256*e.charCodeAt(s+7)+e.charCodeAt(s+8),height:n,numcomponents:e.charCodeAt(s+9)};break}r=256*e.charCodeAt(s+2)+e.charCodeAt(s+3)}return o}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}A={data:e,width:a.width,height:a.height,colorSpace:s,bitsPerComponent:8,filter:l,index:n,alias:r}}return A}}(ED.API);var UO,RO,kO,NO,DO,OO=function(){var e,t,n;function r(e){var t,n,r,i,o,s,a,l,A,c,u,h,d,p;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},s=null;;){switch(t=this.readUInt32(),A=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":s&&this.animation.frames.push(s),this.pos+=4,s={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),i=this.readUInt16()||100,s.delay=1e3*o/i,s.disposeOp=this.data[this.pos++],s.blendOp=this.data[this.pos++],s.data=[];break;case"IDAT":case"fdAT":for("fdAT"===A&&(this.pos+=4,t-=4),e=(null!=s?s.data:void 0)||this.imgData,h=0;0<=t?h<t:h>t;0<=t?++h:--h)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((c=r-this.transparency.indexed.length)>0)for(d=0;0<=c?d<c:d>c;0<=c?++d:--d)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":a=(u=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,u.slice(0,a)),this.text[l]=String.fromCharCode.apply(String,u.slice(a+1));break;case"IEND":return s&&this.animation.frames.push(s),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),r=0,i=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function o(o,s,a,l){var A,c,u,h,d,p,f,g,m,v,y,b,w,x,_,S,C,B,E,M,T,F=Math.ceil((i.width-o)/a),I=Math.ceil((i.height-s)/l),L=i.width==F&&i.height==I;for(x=t*F,b=L?n:new Uint8Array(x*I),p=e.length,w=0,c=0;w<I&&r<p;){switch(e[r++]){case 0:for(h=C=0;C<x;h=C+=1)b[c++]=e[r++];break;case 1:for(h=B=0;B<x;h=B+=1)A=e[r++],d=h<t?0:b[c-t],b[c++]=(A+d)%256;break;case 2:for(h=E=0;E<x;h=E+=1)A=e[r++],u=(h-h%t)/t,_=w&&b[(w-1)*x+u*t+h%t],b[c++]=(_+A)%256;break;case 3:for(h=M=0;M<x;h=M+=1)A=e[r++],u=(h-h%t)/t,d=h<t?0:b[c-t],_=w&&b[(w-1)*x+u*t+h%t],b[c++]=(A+Math.floor((d+_)/2))%256;break;case 4:for(h=T=0;T<x;h=T+=1)A=e[r++],u=(h-h%t)/t,d=h<t?0:b[c-t],0===w?_=S=0:(_=b[(w-1)*x+u*t+h%t],S=u&&b[(w-1)*x+(u-1)*t+h%t]),f=d+_-S,g=Math.abs(f-d),v=Math.abs(f-_),y=Math.abs(f-S),m=g<=v&&g<=y?d:v<=y?_:S,b[c++]=(A+m)%256;break;default:throw new Error("Invalid filter algorithm: "+e[r-1])}if(!L){var P=((s+w*l)*i.width+o)*t,U=w*x;for(h=0;h<F;h+=1){for(var R=0;R<t;R+=1)n[P++]=b[U++];P+=(a-1)*t}}w++}}return e=KN(e),1==i.interlaceMethod?(o(0,0,8,8),o(4,0,8,8),o(0,4,4,8),o(2,0,4,4),o(0,2,2,4),o(1,0,2,2),o(0,1,1,2)):o(0,0,1,1),n},r.prototype.decodePalette=function(){var e,t,n,r,i,o,s,a,l;for(n=this.palette,o=this.transparency.indexed||[],i=new Uint8Array((o.length||0)+n.length),r=0,e=0,t=s=0,a=n.length;s<a;t=s+=3)i[r++]=n[t],i[r++]=n[t+1],i[r++]=n[t+2],i[r++]=null!=(l=o[e++])?l:255;return i},r.prototype.copyToImageData=function(e,t){var n,r,i,o,s,a,l,A,c,u,h;if(r=this.colors,c=null,n=this.hasAlphaChannel,this.palette.length&&(c=null!=(h=this._decodedPalette)?h:this._decodedPalette=this.decodePalette(),r=4,n=!0),A=(i=e.data||e).length,s=c||t,o=a=0,1===r)for(;o<A;)l=c?4*t[o/4]:a,u=s[l++],i[o++]=u,i[o++]=u,i[o++]=u,i[o++]=n?s[l++]:255,a=l;else for(;o<A;)l=c?4*t[o/4]:a,i[o++]=s[l++],i[o++]=s[l++],i[o++]=s[l++],i[o++]=n?s[l++]:255,a=l},r.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var i=function(){if("[object Window]"===Object.prototype.toString.call(qN)){try{t=qN.document.createElement("canvas"),n=t.getContext("2d")}catch(e){return!1}return!0}return!1};return i(),e=function(e){var r;if(!0===i())return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(r=new Image).src=t.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(t){var n,r,i,o,s,a,l,A;if(this.animation){for(A=[],r=s=0,a=(l=this.animation.frames).length;s<a;r=++s)n=l[r],i=t.createImageData(n.width,n.height),o=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(i,o),n.imageData=i,A.push(n.image=e(i));return A}},r.prototype.renderFrame=function(e,t){var n,r,i;return n=(r=this.animation.frames)[t],i=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?e.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&e.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(e){var t,n,r,i,o,s,a=this;return n=0,s=this.animation,i=s.numFrames,r=s.frames,o=s.numPlays,(t=function(){var s,l;if(s=n++%i,l=r[s],a.renderFrame(e,s),i>1&&n/i<o)return a.animation._timeout=setTimeout(t,l.delay)})()},r.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},r.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},r}();function QO(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],o=i>>7,s=1<<1+(7&i);e[t++],e[t++];var a=null,l=null;o&&(a=t,l=s,t+=3*s);var A=!0,c=[],u=0,h=null,d=0,p=null;for(this.width=n,this.height=r;A&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(0===E)break;t+=E}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var f=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],0==(1&f)&&(h=null),d=f>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(0===E)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++],w=b>>6&1,x=1<<1+(7&b),_=a,S=l,C=!1;b>>7&&(C=!0,_=t,S=x,t+=3*x);var B=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(0===E)break;t+=E}c.push({x:g,y:m,width:v,height:y,has_local_palette:C,palette_offset:_,palette_size:S,data_offset:B,data_length:t-B,transparent_index:h,interlaced:!!w,delay:u,disposal:d});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return p},this.frameInfo=function(e){if(e<0||e>=c.length)throw new Error("Frame index out of range.");return c[e]},this.decodeAndBlitFrameBGRA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,s=new Uint8Array(o);HO(e,i.data_offset,s,o);var a=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var A=i.width,c=n-A,u=A,h=4*(i.y*n+i.x),d=4*((i.y+i.height)*n+i.x),p=h,f=4*c;!0===i.interlaced&&(f+=4*n*7);for(var g=8,m=0,v=s.length;m<v;++m){var y=s[m];if(0===u&&(u=A,(p+=f)>=d&&(f=4*c+4*n*(g-1),p=h+(A+c)*(g<<1),g>>=1)),y===l)p+=4;else{var b=e[a+3*y],w=e[a+3*y+1],x=e[a+3*y+2];r[p++]=x,r[p++]=w,r[p++]=b,r[p++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,s=new Uint8Array(o);HO(e,i.data_offset,s,o);var a=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var A=i.width,c=n-A,u=A,h=4*(i.y*n+i.x),d=4*((i.y+i.height)*n+i.x),p=h,f=4*c;!0===i.interlaced&&(f+=4*n*7);for(var g=8,m=0,v=s.length;m<v;++m){var y=s[m];if(0===u&&(u=A,(p+=f)>=d&&(f=4*c+4*n*(g-1),p=h+(A+c)*(g<<1),g>>=1)),y===l)p+=4;else{var b=e[a+3*y],w=e[a+3*y+1],x=e[a+3*y+2];r[p++]=b,r[p++]=w,r[p++]=x,r[p++]=255}--u}}}function HO(e,t,n,r){for(var i=e[t++],o=1<<i,s=o+1,a=s+1,l=i+1,A=(1<<l)-1,c=0,u=0,h=0,d=e[t++],p=new Int32Array(4096),f=null;;){for(;c<16&&0!==d;)u|=e[t++]<<c,c+=8,1===d?d=e[t++]:--d;if(c<l)break;var g=u&A;if(u>>=l,c-=l,g!==o){if(g===s)break;for(var m=g<a?g:f,v=0,y=m;y>o;)y=p[y]>>8,++v;var b=y;if(h+v+(m!==g?1:0)>r)return void YN.log("Warning, gif stream longer than expected.");n[h++]=b;var w=h+=v;for(m!==g&&(n[h++]=b),y=m;v--;)y=p[y],n[--w]=255&y,y>>=8;null!==f&&a<4096&&(p[a++]=f<<8|b,a>=A+1&&l<12&&(++l,A=A<<1|1)),f=g}else a=s+1,A=(1<<(l=i+1))-1,f=null}return h!==r&&YN.log("Warning, gif stream shorter than expected."),n}function zO(e){var t,n,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),A=new Array(64),c=new Array(64),u=new Array(65535),h=new Array(65535),d=new Array(64),p=new Array(64),f=[],g=0,m=7,v=new Array(64),y=new Array(64),b=new Array(64),w=new Array(256),x=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],I=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function L(e,t){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var s=1;s<=e[o];s++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=o,r++,n++;n*=2}return i}function P(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<m),n--,--m<0&&(255==g?(U(255),U(0)):U(g),m=7,g=0)}function U(e){f.push(e)}function R(e){U(e>>8&255),U(255&e)}function k(e,t,n,r,i){for(var o,s=i[0],a=i[240],l=function(e,t){var n,r,i,o,s,a,l,A,c,u,h=0;for(c=0;c<8;++c){n=e[h],r=e[h+1],i=e[h+2],o=e[h+3],s=e[h+4],a=e[h+5],l=e[h+6];var p=n+(A=e[h+7]),f=n-A,g=r+l,m=r-l,v=i+a,y=i-a,b=o+s,w=o-s,x=p+b,_=p-b,S=g+v,C=g-v;e[h]=x+S,e[h+4]=x-S;var B=.707106781*(C+_);e[h+2]=_+B,e[h+6]=_-B;var E=.382683433*((x=w+y)-(C=m+f)),M=.5411961*x+E,T=1.306562965*C+E,F=.707106781*(S=y+m),I=f+F,L=f-F;e[h+5]=L+M,e[h+3]=L-M,e[h+1]=I+T,e[h+7]=I-T,h+=8}for(h=0,c=0;c<8;++c){n=e[h],r=e[h+8],i=e[h+16],o=e[h+24],s=e[h+32],a=e[h+40],l=e[h+48];var P=n+(A=e[h+56]),U=n-A,R=r+l,k=r-l,N=i+a,D=i-a,O=o+s,Q=o-s,H=P+O,z=P-O,j=R+N,V=R-N;e[h]=H+j,e[h+32]=H-j;var W=.707106781*(V+z);e[h+16]=z+W,e[h+48]=z-W;var G=.382683433*((H=Q+D)-(V=k+U)),K=.5411961*H+G,q=1.306562965*V+G,X=.707106781*(j=D+k),Y=U+X,$=U-X;e[h+40]=$+K,e[h+24]=$-K,e[h+8]=Y+q,e[h+56]=Y-q,h++}for(c=0;c<64;++c)u=e[c]*t[c],d[c]=u>0?u+.5|0:u-.5|0;return d}(e,t),A=0;A<64;++A)p[_[A]]=l[A];var c=p[0]-n;n=p[0],0==c?P(r[0]):(P(r[h[o=32767+c]]),P(u[o]));for(var f=63;f>0&&0==p[f];)f--;if(0==f)return P(s),n;for(var g,m=1;m<=f;){for(var v=m;0==p[m]&&m<=f;)++m;var y=m-v;if(y>=16){g=y>>4;for(var b=1;b<=g;++b)P(a);y&=15}o=32767+p[m],P(i[(y<<4)+h[o]]),P(u[o]),m++}return 63!=f&&P(s),n}function N(e){e=Math.min(Math.max(e,1),100),o!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=s((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),a[_[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var u=s((i[o]*e+50)/100);u=Math.min(Math.max(u,1),255),l[_[o]]=u}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,p=0;p<8;p++)for(var f=0;f<8;f++)A[d]=1/(a[_[d]]*h[p]*h[f]*8),c[d]=1/(l[_[d]]*h[p]*h[f]*8),d++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),o=e)}this.encode=function(e,o){o&&N(o),f=new Array,g=0,m=7,R(65496),R(65504),R(16),U(74),U(70),U(73),U(70),U(0),U(1),U(1),U(0),R(1),R(1),U(0),U(0),function(){R(65499),R(132),U(0);for(var e=0;e<64;e++)U(a[e]);U(1);for(var t=0;t<64;t++)U(l[t])}(),function(e,t){R(65472),R(17),U(8),R(t),R(e),U(3),U(1),U(17),U(0),U(2),U(17),U(1),U(3),U(17),U(1)}(e.width,e.height),function(){R(65476),R(418),U(0);for(var e=0;e<16;e++)U(S[e+1]);for(var t=0;t<=11;t++)U(C[t]);U(16);for(var n=0;n<16;n++)U(B[n+1]);for(var r=0;r<=161;r++)U(E[r]);U(1);for(var i=0;i<16;i++)U(M[i+1]);for(var o=0;o<=11;o++)U(T[o]);U(17);for(var s=0;s<16;s++)U(F[s+1]);for(var a=0;a<=161;a++)U(I[a])}(),R(65498),R(12),U(3),U(1),U(0),U(2),U(17),U(3),U(17),U(0),U(63),U(0);var s=0,u=0,h=0;g=0,m=7,this.encode.displayName="_encode_";for(var d,p,w,_,L,D,O,Q,H,z=e.data,j=e.width,V=e.height,W=4*j,G=0;G<V;){for(d=0;d<W;){for(L=W*G+d,O=-1,Q=0,H=0;H<64;H++)D=L+(Q=H>>3)*W+(O=4*(7&H)),G+Q>=V&&(D-=W*(G+1+Q-V)),d+O>=W&&(D-=d+O-W+4),p=z[D++],w=z[D++],_=z[D++],v[H]=(x[p]+x[w+256|0]+x[_+512|0]>>16)-128,y[H]=(x[p+768|0]+x[w+1024|0]+x[_+1280|0]>>16)-128,b[H]=(x[p+1280|0]+x[w+1536|0]+x[_+1792|0]>>16)-128;s=k(v,A,s,t,r),u=k(y,c,u,n,i),h=k(b,c,h,n,i),d+=32}G+=8}if(m>=0){var K=[];K[1]=m+1,K[0]=(1<<m+1)-1,P(K)}return R(65497),new Uint8Array(f)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=L(S,C),n=L(M,T),r=L(B,E),i=L(F,I),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)h[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)h[32767+i]=n,u[32767+i]=[],u[32767+i][1]=n,u[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)x[e]=19595*e,x[e+256|0]=38470*e,x[e+512|0]=7471*e+32768,x[e+768|0]=-11059*e,x[e+1024|0]=-21709*e,x[e+1280|0]=32768*e+8421375,x[e+1536|0]=-27439*e,x[e+1792|0]=-5329*e}(),N(e)}function jO(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function VO(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,i){for(var o=0;o<i;o++)e[t+o]=n[r+o]}function i(e,t,n,r){for(var i=0;i<r;i++)e[t+i]=n}function o(e){return new Int32Array(e)}function s(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function a(e,t){var n=[];return function e(n,r,i){for(var o=i[r],s=0;s<o&&(n.push(i.length>r+1?[]:new t),!(i.length<r+1));s++)e(n[s],r+1,i)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function A(e,n,r,i,o){t(!(i%r));do{e[n+(i-=r)]=o}while(0<i)}function c(e,n,r,i,s){if(t(2328>=s),512>=s)var a=o(512);else if(null==(a=o(s)))return 0;return function(e,n,r,i,s,a){var c,h,d=n,p=1<<r,f=o(16),g=o(16);for(t(0!=s),t(null!=i),t(null!=e),t(0<r),h=0;h<s;++h){if(15<i[h])return 0;++f[i[h]]}if(f[0]==s)return 0;for(g[1]=0,c=1;15>c;++c){if(f[c]>1<<c)return 0;g[c+1]=g[c]+f[c]}for(h=0;h<s;++h)c=i[h],0<i[h]&&(a[g[c]++]=h);if(1==g[15])return(i=new u).g=0,i.value=a[0],A(e,d,1,p,i),p;var m,v=-1,y=p-1,b=0,w=1,x=1,_=1<<r;for(h=0,c=1,s=2;c<=r;++c,s<<=1){if(w+=x<<=1,0>(x-=f[c]))return 0;for(;0<f[c];--f[c])(i=new u).g=c,i.value=a[h++],A(e,d+b,s,_,i),b=l(b,c)}for(c=r+1,s=2;15>=c;++c,s<<=1){if(w+=x<<=1,0>(x-=f[c]))return 0;for(;0<f[c];--f[c]){if(i=new u,(b&y)!=v){for(d+=_,m=1<<(v=c)-r;15>v&&!(0>=(m-=f[v]));)++v,m<<=1;p+=_=1<<(m=v-r),e[n+(v=b&y)].g=m+r,e[n+v].value=d-n-v}i.g=c-r,i.value=a[h++],A(e,d+(b>>r),s,_,i),b=l(b,c)}}return w!=2*g[15]-1?0:p}(e,n,r,i,s,a)}function u(){this.value=this.g=0}function h(){this.value=this.g=0}function d(){this.G=s(5,u),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(On,h)}function p(e,n,r,i){t(null!=e),t(null!=n),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+i,e.Zc=4<=i?r+i-4+1:r,B(e)}function f(e,t){for(var n=0;0<t--;)n|=M(e,128)<<t;return n}function g(e,t){var n=f(e,t);return E(e)?-n:n}function m(e,n,r,i){var o,s=0;for(t(null!=e),t(null!=n),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),o=0;o<i;++o)s+=n[r+o]<<8*o;e.Ra=s,e.bb=i,e.oa=n,e.pa=r}function v(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<zn-8>>>0,++e.bb,e.u-=8;_(e)&&(e.h=1,e.u=0)}function y(e,n){if(t(0<=n),!e.h&&n<=Hn){var r=x(e)&Qn[n];return e.u+=n,v(e),r}return e.h=1,e.u=0}function b(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function x(e){return e.Ra>>>(e.u&zn-1)>>>0}function _(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>zn}function S(e,t){e.u=t,e.h=_(e)}function C(e){e.u>=jn&&(t(e.u>=jn),v(e))}function B(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function E(e){return f(e,1)}function M(e,t){var n=e.Ca;0>e.b&&B(e);var r=e.b,i=n*t>>>8,o=(e.I>>>r>i)+0;for(o?(n-=i,e.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return r=7^i+Vn[r],e.b-=r,e.Ca=(n<<r)-1,o}function T(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function F(e,t){return e[t+0]|e[t+1]<<8}function I(e,t){return F(e,t)|e[t+2]<<16}function L(e,t){return F(e,t)|F(e,t+2)<<16}function P(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=o(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function U(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function R(){this.X=[],this.Xa=this.Mb=0}function k(e,n,r,i){t(null!=r),t(null!=i);var o=r[0],s=i[0];return 0==o&&(o=(e*s+n/2)/n),0==s&&(s=(n*o+e/2)/e),0>=o||0>=s?0:(r[0]=o,i[0]=s,1)}function N(e,t){return e+(1<<t)-1>>>t}function D(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function O(t,n){e[n]=function(n,r,i,o,s,a,l){var A;for(A=0;A<s;++A){var c=e[t](a[l+A-1],i,o+A);a[l+A]=D(n[r+A],c)}}}function Q(){this.ud=this.hd=this.jd=0}function H(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function z(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function j(e,t){return z(e+(e-t+.5>>1))}function V(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function W(e,t,n,r,i,o,s){for(r=o[s-1],n=0;n<i;++n)o[s+n]=r=D(e[t+n],r)}function G(e,t,n,r,i){var o;for(o=0;o<n;++o){var s=e[t+o],a=s>>8&255,l=16711935&(l=(l=16711935&s)+((a<<16)+a));r[i+o]=(4278255360&s)+l>>>0}}function K(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function q(e,t,n,r,i,o){var s;for(s=0;s<r;++s){var a=t[n+s],l=a>>>8,A=a,c=255&(c=(c=a>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));A=255&(A=(A+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(c<<24>>24)>>>5)),i[o+s]=(4278255360&a)+(c<<16)+A}}function X(t,n,r,i,o){e[n]=function(e,t,n,r,s,a,l,A,c){for(r=l;r<A;++r)for(l=0;l<c;++l)s[a++]=o(n[i(e[t++])])},e[t]=function(t,n,s,a,l,A,c){var u=8>>t.b,h=t.Ea,d=t.K[0],p=t.w;if(8>u)for(t=(1<<t.b)-1,p=(1<<u)-1;n<s;++n){var f,g=0;for(f=0;f<h;++f)f&t||(g=i(a[l++])),A[c++]=o(d[g&p]),g>>=u}else e["VP8LMapColor"+r](a,l,d,p,A,c,n,s,h)}}function Y(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=255&o}}function $(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=255&o,r[i++]=o>>24&255}}function J(e,t,n,r,i){for(n=t+n;t<n;){var o=(s=e[t++])>>16&240|s>>12&15,s=240&s|s>>28&15;r[i++]=o,r[i++]=s}}function Z(e,t,n,r,i){for(n=t+n;t<n;){var o=(s=e[t++])>>16&248|s>>13&7,s=s>>5&224|s>>3&31;r[i++]=o,r[i++]=s}}function ee(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=255&o,r[i++]=o>>8&255,r[i++]=o>>16&255}}function te(e,t,n,i,o,s){if(0==s)for(n=t+n;t<n;)T(i,((s=e[t++])[0]>>24|s[1]>>8&65280|s[2]<<8&16711680|s[3]<<24)>>>0),o+=32;else r(i,o,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==jr||e==Vr||e==Wr||e==Gr}function ie(){this.eb=[],this.size=this.A=this.fb=0}function oe(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function se(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ie,this.f.kb=new oe,this.sd=null}function ae(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ae(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function ce(e,t){var n=e.T,i=t.ba.f.RGBA,o=i.eb,s=i.fb+e.ka*i.A,a=mi[t.ba.S],l=e.y,A=e.O,c=e.f,u=e.N,h=e.ea,d=e.W,p=t.cc,f=t.dc,g=t.Mc,m=t.Nc,v=e.ka,y=e.ka+e.T,b=e.U,w=b+1>>1;for(0==v?a(l,A,null,null,c,u,h,d,c,u,h,d,o,s,null,null,b):(a(t.ec,t.fc,l,A,p,f,g,m,c,u,h,d,o,s-i.A,o,s,b),++n);v+2<y;v+=2)p=c,f=u,g=h,m=d,u+=e.Rc,d+=e.Rc,s+=2*i.A,a(l,(A+=2*e.fa)-e.fa,l,A,p,f,g,m,c,u,h,d,o,s-i.A,o,s,b);return A+=e.fa,e.j+y<e.o?(r(t.ec,t.fc,l,A,b),r(t.cc,t.dc,c,u,w),r(t.Mc,t.Nc,h,d,w),n--):1&y||a(l,A,null,null,c,u,h,d,c,u,h,d,o,s+i.A,null,null,b),n}function ue(e,n,r){var i=e.F,o=[e.J];if(null!=i){var s=e.U,a=n.ba.S,l=a==Qr||a==Wr;n=n.ba.f.RGBA;var A=[0],c=e.ka;A[0]=e.T,e.Kb&&(0==c?--A[0]:(--c,o[0]-=e.width),e.j+e.ka+e.T==e.o&&(A[0]=e.o-e.j-c));var u=n.eb;c=n.fb+c*n.A,e=Cr(i,o[0],e.width,s,A,u,c+(l?0:3),n.A),t(r==A),e&&re(a)&&_r(u,c,l,s,A,n.A)}return 0}function he(e){var t=e.ma,n=t.ba.S,r=11>n,i=n==Nr||n==Or||n==Qr||n==Hr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!kn(t.Oa,e,i?11:12))return 0;if(i&&re(n)&&yn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=Ae,e.Kb){if(n=e.U+1>>1,t.memory=o(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=ce,yn()}}else alert("todo:EmitYUV");i&&(t.Jb=ue,r&&mn())}if(r&&!Ii){for(e=0;256>e;++e)Li[e]=89858*(e-128)+Bi>>Ci,Ri[e]=-22014*(e-128)+Bi,Ui[e]=-45773*(e-128),Pi[e]=113618*(e-128)+Bi>>Ci;for(e=Ei;e<Mi;++e)t=76283*(e-16)+Bi>>Ci,ki[e-Ei]=We(t,255),Ni[e-Ei]=We(t+8>>4,15);Ii=1}return 1}function de(e){var n=e.ma,r=e.U,i=e.T;return t(!(1&e.ka)),0>=r||0>=i?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function pe(e){e.ma.memory=null}function fe(e,t,n,r){return 47!=y(e,8)?0:(t[0]=y(e,14)+1,n[0]=y(e,14)+1,r[0]=y(e,1),0!=y(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+y(t,n)+1}function me(e,t){return 120<t?t-120:1<=(n=((n=Jr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ve(e,t,n){var r=x(n),i=e[t+=255&r].g-8;return 0<i&&(S(n,n.u+8),r=x(n),t+=e[t].value,t+=r&(1<<i)-1),S(n,n.u+e[t].g),e[t].value}function ye(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function be(e,n,r){var i=e.xc;return t((n=0==i?0:e.vc[e.md*(r>>i)+(n>>i)])<e.Wb),e.Ya[n]}function we(e,n,i,o){var s=e.ab,a=e.c*n,l=e.C;n=l+n;var A=i,c=o;for(o=e.Ta,i=e.Ua;0<s--;){var u=e.gc[s],h=l,d=n,p=A,f=c,g=(c=o,A=i,u.Ea);switch(t(h<d),t(d<=u.nc),u.hc){case 2:Kn(p,f,(d-h)*g,c,A);break;case 0:var m=h,v=d,y=c,b=A,w=(B=u).Ea;0==m&&(Wn(p,f,null,null,1,y,b),W(p,f+1,0,0,w-1,y,b+1),f+=w,b+=w,++m);for(var x=1<<B.b,_=x-1,S=N(w,B.b),C=B.K,B=B.w+(m>>B.b)*S;m<v;){var E=C,M=B,T=1;for(Gn(p,f,y,b-w,1,y,b);T<w;){var F=(T&~_)+x;F>w&&(F=w),(0,Jn[E[M++]>>8&15])(p,f+ +T,y,b+T-w,F-T,y,b+T),T=F}f+=w,b+=w,++m&_||(B+=S)}d!=u.nc&&r(c,A-g,c,A+(d-h-1)*g,g);break;case 1:for(g=p,v=f,w=(p=u.Ea)-(b=p&~(y=(f=1<<u.b)-1)),m=N(p,u.b),x=u.K,u=u.w+(h>>u.b)*m;h<d;){for(_=x,S=u,C=new Q,B=v+b,E=v+p;v<B;)K(_[S++],C),Zn(C,g,v,f,c,A),v+=f,A+=f;v<E&&(K(_[S++],C),Zn(C,g,v,w,c,A),v+=w,A+=w),++h&y||(u+=m)}break;case 3:if(p==c&&f==A&&0<u.b){for(v=c,p=g=A+(d-h)*g-(b=(d-h)*N(u.Ea,u.b)),f=c,y=A,m=[],b=(w=b)-1;0<=b;--b)m[b]=f[y+b];for(b=w-1;0<=b;--b)v[p+b]=m[b];qn(u,h,d,c,g,c,A)}else qn(u,h,d,p,f,c,A)}A=o,c=i}c!=i&&r(o,i,A,c,a)}function xe(e,n){var r=e.V,i=e.Ba+e.c*e.C,o=n-e.C;if(t(n<=e.l.o),t(16>=o),0<o){var s=e.l,a=e.Ta,l=e.Ua,A=s.width;if(we(e,o,r,i),o=l=[l],t((r=e.C)<(i=n)),t(s.v<s.va),i>s.o&&(i=s.o),r<s.j){var c=s.j-r;r=s.j,o[0]+=c*A}if(r>=i?r=0:(o[0]+=4*s.v,s.ka=r-s.j,s.U=s.va-s.v,s.T=i-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var u=r.f.RGBA,h=(i=r.S,o=s.U,s=s.T,c=u.eb,u.A),d=s;for(u=u.fb+e.Ma*u.A;0<d--;){var p=a,f=l,g=o,m=c,v=u;switch(i){case kr:er(p,f,g,m,v);break;case Nr:tr(p,f,g,m,v);break;case jr:tr(p,f,g,m,v),_r(m,v,0,g,1,0);break;case Dr:ir(p,f,g,m,v);break;case Or:te(p,f,g,m,v,1);break;case Vr:te(p,f,g,m,v,1),_r(m,v,0,g,1,0);break;case Qr:te(p,f,g,m,v,0);break;case Wr:te(p,f,g,m,v,0),_r(m,v,1,g,1,0);break;case Hr:nr(p,f,g,m,v);break;case Gr:nr(p,f,g,m,v),Sr(m,v,g,1,0);break;case zr:rr(p,f,g,m,v);break;default:t(0)}l+=A,u+=h}e.Ma+=s}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function _e(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Se(e,n,r,i,o,s){if(0!=e.Z){var a=e.qd,l=e.rd;for(t(null!=gi[e.Z]);n<r;++n)gi[e.Z](a,l,i,o,i,o,s),a=i,l=o,o+=s;e.qd=a,e.rd=l}}function Ce(e,n){var r=e.l.ma,i=0==r.Z||1==r.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,t(n<=e.l.o),n>i){var o=e.l.width,s=r.ca,a=r.tb+o*i,l=e.V,A=e.Ba+e.c*i,c=e.gc;t(1==e.ab),t(3==c[0].hc),Yn(c[0],i,n,l,A,s,a),Se(r,i,n,s,a,o)}e.C=e.Ma=n}function Be(e,n,r,i,o,s,a){var l=e.$/i,A=e.$%i,c=e.m,u=e.s,h=r+e.$,d=h;o=r+i*o;var p=r+i*s,f=280+u.ua,g=e.Pb?l:16777216,m=0<u.ua?u.Wa:null,v=u.wc,y=h<p?be(u,A,l):null;t(e.C<s),t(p<=o);var b=!1;e:for(;;){for(;b||h<p;){var w=0;if(l>=g){var B=h-r;t((g=e).Pb),g.wd=g.m,g.xd=B,0<g.s.ua&&U(g.s.Wa,g.s.vb),g=l+ei}if(A&v||(y=be(u,A,l)),t(null!=y),y.Qb&&(n[h]=y.qb,b=!0),!b)if(C(c),y.jc){w=c,B=n;var E=h,M=y.pd[x(w)&On-1];t(y.jc),256>M.g?(S(w,w.u+M.g),B[E]=M.value,w=0):(S(w,w.u+M.g-256),t(256<=M.value),w=M.value),0==w&&(b=!0)}else w=ve(y.G[0],y.H[0],c);if(c.h)break;if(b||256>w){if(!b)if(y.nd)n[h]=(y.qb|w<<8)>>>0;else{if(C(c),b=ve(y.G[1],y.H[1],c),C(c),B=ve(y.G[2],y.H[2],c),E=ve(y.G[3],y.H[3],c),c.h)break;n[h]=(E<<24|b<<16|w<<8|B)>>>0}if(b=!1,++h,++A>=i&&(A=0,++l,null!=a&&l<=s&&!(l%16)&&a(e,l),null!=m))for(;d<h;)w=n[d++],m.X[(506832829*w&4294967295)>>>m.Mb]=w}else if(280>w){if(w=ge(w-256,c),B=ve(y.G[4],y.H[4],c),C(c),B=me(i,B=ge(B,c)),c.h)break;if(h-r<B||o-h<w)break e;for(E=0;E<w;++E)n[h+E]=n[h+E-B];for(h+=w,A+=w;A>=i;)A-=i,++l,null!=a&&l<=s&&!(l%16)&&a(e,l);if(t(h<=o),A&v&&(y=be(u,A,l)),null!=m)for(;d<h;)w=n[d++],m.X[(506832829*w&4294967295)>>>m.Mb]=w}else{if(!(w<f))break e;for(b=w-280,t(null!=m);d<h;)w=n[d++],m.X[(506832829*w&4294967295)>>>m.Mb]=w;w=h,t(!(b>>>(B=m).Xa)),n[w]=B.X[b],b=!0}b||t(c.h==_(c))}if(e.Pb&&c.h&&h<o)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&U(e.s.vb,e.s.Wa);else{if(c.h)break e;null!=a&&a(e,l>s?s:l),e.a=0,e.$=h-r}return 1}return e.a=3,0}function Ee(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Me(){var t=new an;return null==t?null:(t.a=0,t.xb=fi,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Kn=G,Zn=q,er=Y,tr=$,nr=J,rr=Z,ir=ee,e.VP8LMapColor32b=Xn,e.VP8LMapColor8b=$n,t)}function Te(e,n,r,a,l){var A=1,h=[e],p=[n],f=a.m,g=a.s,m=null,v=0;e:for(;;){if(r)for(;A&&y(f,1);){var b=h,w=p,_=a,B=1,E=_.m,M=_.gc[_.ab],T=y(E,2);if(_.Oc&1<<T)A=0;else{switch(_.Oc|=1<<T,M.hc=T,M.Ea=b[0],M.nc=w[0],M.K=[null],++_.ab,t(4>=_.ab),T){case 0:case 1:M.b=y(E,3)+2,B=Te(N(M.Ea,M.b),N(M.nc,M.b),0,_,M.K),M.K=M.K[0];break;case 3:var F,I=y(E,8)+1,L=16<I?0:4<I?1:2<I?2:3;if(b[0]=N(M.Ea,L),M.b=L,F=B=Te(I,1,0,_,M.K)){var U,R=I,k=M,O=1<<(8>>k.b),Q=o(O);if(null==Q)F=0;else{var H=k.K[0],z=k.w;for(Q[0]=k.K[0][0],U=1;U<1*R;++U)Q[U]=D(H[z+U],Q[U-1]);for(;U<4*O;++U)Q[U]=0;k.K[0]=null,k.K[0]=Q,F=1}}B=F;break;case 2:break;default:t(0)}A=B}}if(h=h[0],p=p[0],A&&y(f,1)&&!(A=1<=(v=y(f,4))&&11>=v)){a.a=3;break e}var j;if(j=A)t:{var V,W,G,K=a,q=h,X=p,Y=v,$=r,J=K.m,Z=K.s,ee=[null],te=1,ne=0,re=Zr[Y];n:for(;;){if($&&y(J,1)){var ie=y(J,3)+2,oe=N(q,ie),se=N(X,ie),ae=oe*se;if(!Te(oe,se,0,K,ee))break n;for(ee=ee[0],Z.xc=ie,V=0;V<ae;++V){var le=ee[V]>>8&65535;ee[V]=le,le>=te&&(te=le+1)}}if(J.h)break n;for(W=0;5>W;++W){var Ae=Xr[W];!W&&0<Y&&(Ae+=1<<Y),ne<Ae&&(ne=Ae)}var ce=s(te*re,u),ue=te,he=s(ue,d);if(null==he)var de=null;else t(65536>=ue),de=he;var pe=o(ne);if(null==de||null==pe||null==ce){K.a=1;break n}var fe=ce;for(V=G=0;V<te;++V){var ge=de[V],me=ge.G,ve=ge.H,be=0,we=1,xe=0;for(W=0;5>W;++W){Ae=Xr[W],me[W]=fe,ve[W]=G,!W&&0<Y&&(Ae+=1<<Y);r:{var _e,Se=Ae,Ce=K,Me=pe,Fe=fe,Ie=G,Le=0,Pe=Ce.m,Ue=y(Pe,1);if(i(Me,0,0,Se),Ue){var Re=y(Pe,1)+1,ke=y(Pe,1),Ne=y(Pe,0==ke?1:8);Me[Ne]=1,2==Re&&(Me[Ne=y(Pe,8)]=1);var De=1}else{var Oe=o(19),Qe=y(Pe,4)+4;if(19<Qe){Ce.a=3;var He=0;break r}for(_e=0;_e<Qe;++_e)Oe[$r[_e]]=y(Pe,3);var ze=void 0,je=void 0,Ve=Ce,We=Oe,Ge=Se,Ke=Me,qe=0,Xe=Ve.m,Ye=8,$e=s(128,u);i:for(;c($e,0,7,We,19);){if(y(Xe,1)){var Je=2+2*y(Xe,3);if((ze=2+y(Xe,Je))>Ge)break i}else ze=Ge;for(je=0;je<Ge&&ze--;){C(Xe);var Ze=$e[0+(127&x(Xe))];S(Xe,Xe.u+Ze.g);var et=Ze.value;if(16>et)Ke[je++]=et,0!=et&&(Ye=et);else{var tt=16==et,nt=et-16,rt=qr[nt],it=y(Xe,Kr[nt])+rt;if(je+it>Ge)break i;for(var ot=tt?Ye:0;0<it--;)Ke[je++]=ot}}qe=1;break i}qe||(Ve.a=3),De=qe}(De=De&&!Pe.h)&&(Le=c(Fe,Ie,8,Me,Se)),De&&0!=Le?He=Le:(Ce.a=3,He=0)}if(0==He)break n;if(we&&1==Yr[W]&&(we=0==fe[G].g),be+=fe[G].g,G+=He,3>=W){var st,at=pe[0];for(st=1;st<Ae;++st)pe[st]>at&&(at=pe[st]);xe+=at}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(me[3][ve[3]+0].value<<24|me[1][ve[1]+0].value<<16|me[2][ve[2]+0].value)>>>0,0==be&&256>me[0][ve[0]+0].value&&(ge.Qb=1,ge.qb+=me[0][ve[0]+0].value<<8)),ge.jc=!ge.Qb&&6>xe,ge.jc){var lt,At=ge;for(lt=0;lt<On;++lt){var ct=lt,ut=At.pd[ct],ht=At.G[0][At.H[0]+ct];256<=ht.value?(ut.g=ht.g+256,ut.value=ht.value):(ut.g=0,ut.value=0,ct>>=ye(ht,8,ut),ct>>=ye(At.G[1][At.H[1]+ct],16,ut),ct>>=ye(At.G[2][At.H[2]+ct],0,ut),ye(At.G[3][At.H[3]+ct],24,ut))}}}Z.vc=ee,Z.Wb=te,Z.Ya=de,Z.yc=ce,j=1;break t}j=0}if(!(A=j)){a.a=3;break e}if(0<v){if(g.ua=1<<v,!P(g.Wa,v)){a.a=1,A=0;break e}}else g.ua=0;var dt=a,pt=h,ft=p,gt=dt.s,mt=gt.xc;if(dt.c=pt,dt.i=ft,gt.md=N(pt,mt),gt.wc=0==mt?-1:(1<<mt)-1,r){a.xb=pi;break e}if(null==(m=o(h*p))){a.a=1,A=0;break e}A=(A=Be(a,m,0,h,p,p,null))&&!f.h;break e}return A?(null!=l?l[0]=m:(t(null==m),t(r)),a.$=0,r||Ee(g)):Ee(g),A}function Fe(e,n){var r=e.c*e.i,i=r+n+16*n;return t(e.c<=n),e.V=o(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Ie(e,n){var r=e.C,i=n-r,o=e.V,s=e.Ba+e.c*r;for(t(n<=e.l.o);0<i;){var a=16<i?16:i,l=e.l.ma,A=e.l.width,c=A*a,u=l.ca,h=l.tb+A*r,d=e.Ta,p=e.Ua;we(e,a,o,s),Br(d,p,u,h,c),Se(l,r,r+a,u,h,A),i-=a,o+=a*e.c,r+=a}t(r==n),e.C=e.Ma=n}function Le(){this.ub=this.yd=this.td=this.Rb=0}function Pe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ue(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Re(){this.Yb=function(){var e=[];return function e(t,n,r){for(var i=r[n],o=0;o<i&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));o++)e(t[o],n+1,r)}(e,0,[3,11]),e}()}function ke(){this.jb=o(3),this.Wc=a([4,8],Re),this.Xc=a([4,17],Re)}function Ne(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function De(){this.ld=this.La=this.dd=this.tc=0}function Oe(){this.Na=this.la=0}function Qe(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function He(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ze(){this.uc=this.M=this.Nb=0,this.wa=Array(new De),this.Y=0,this.ya=Array(new He),this.aa=0,this.l=new Ge}function je(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Ve(){this.cb=this.a=0,this.sc="",this.m=new b,this.Od=new Le,this.Kc=new Pe,this.ed=new Ne,this.Qa=new Ue,this.Ic=this.$c=this.Aa=0,this.D=new ze,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,b),this.ia=0,this.pb=s(4,Qe),this.Pa=new ke,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new je),this.Hd=0,this.rb=Array(new Oe),this.sb=0,this.wa=Array(new De),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new He),this.L=this.aa=0,this.gd=a([4,2],De),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function We(e,t){return 0>e?0:e>t?t:e}function Ge(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ke(){var e=new Ve;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ri||(ri=$e)),e}function qe(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Xe(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Ye(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return qe(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,o=n.w,s=n.ha;if(4>s)return qe(e,7,"Truncated header.");var a=r[o+0]|r[o+1]<<8|r[o+2]<<16,l=e.Od;if(l.Rb=!(1&a),l.td=a>>1&7,l.yd=a>>4&1,l.ub=a>>5,3<l.td)return qe(e,3,"Incorrect keyframe parameters.");if(!l.yd)return qe(e,4,"Frame not displayable.");o+=3,s-=3;var A=e.Kc;if(l.Rb){if(7>s)return qe(e,7,"cannot parse picture header");if(!Xe(r,o,s))return qe(e,3,"Bad code word");A.c=16383&(r[o+4]<<8|r[o+3]),A.Td=r[o+4]>>6,A.i=16383&(r[o+6]<<8|r[o+5]),A.Ud=r[o+6]>>6,o+=7,s-=7,e.za=A.c+15>>4,e.Ub=A.i+15>>4,n.width=A.c,n.height=A.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((a=e.Pa).jb,0,255,a.jb.length),t(null!=(a=e.Qa)),a.Cb=0,a.Bb=0,a.Fb=1,i(a.Zb,0,0,a.Zb.length),i(a.Lb,0,0,a.Lb)}if(l.ub>s)return qe(e,7,"bad partition length");p(a=e.m,r,o,l.ub),o+=l.ub,s-=l.ub,l.Rb&&(A.Ld=E(a),A.Kd=E(a)),A=e.Qa;var c,u=e.Pa;if(t(null!=a),t(null!=A),A.Cb=E(a),A.Cb){if(A.Bb=E(a),E(a)){for(A.Fb=E(a),c=0;4>c;++c)A.Zb[c]=E(a)?g(a,7):0;for(c=0;4>c;++c)A.Lb[c]=E(a)?g(a,6):0}if(A.Bb)for(c=0;3>c;++c)u.jb[c]=E(a)?f(a,8):255}else A.Bb=0;if(a.Ka)return qe(e,3,"cannot parse segment header");if((A=e.ed).zd=E(a),A.Tb=f(a,6),A.wb=f(a,3),A.Pc=E(a),A.Pc&&E(a)){for(u=0;4>u;++u)E(a)&&(A.vd[u]=g(a,6));for(u=0;4>u;++u)E(a)&&(A.od[u]=g(a,6))}if(e.L=0==A.Tb?0:A.zd?1:2,a.Ka)return qe(e,3,"cannot parse filter header");var h=s;if(s=c=o,o=c+h,A=h,e.Xb=(1<<f(e.m,2))-1,h<3*(u=e.Xb))r=7;else{for(c+=3*u,A-=3*u,h=0;h<u;++h){var d=r[s+0]|r[s+1]<<8|r[s+2]<<16;d>A&&(d=A),p(e.Jc[+h],r,c,d),c+=d,A-=d,s+=3}p(e.Jc[+u],r,c,A),r=c<o?0:5}if(0!=r)return qe(e,r,"cannot parse partitions");for(r=f(c=e.m,7),s=E(c)?g(c,4):0,o=E(c)?g(c,4):0,A=E(c)?g(c,4):0,u=E(c)?g(c,4):0,c=E(c)?g(c,4):0,h=e.Qa,d=0;4>d;++d){if(h.Cb){var m=h.Zb[d];h.Fb||(m+=r)}else{if(0<d){e.pb[d]=e.pb[0];continue}m=r}var v=e.pb[d];v.Sc[0]=ti[We(m+s,127)],v.Sc[1]=ni[We(m+0,127)],v.Eb[0]=2*ti[We(m+o,127)],v.Eb[1]=101581*ni[We(m+A,127)]>>16,8>v.Eb[1]&&(v.Eb[1]=8),v.Qc[0]=ti[We(m+u,117)],v.Qc[1]=ni[We(m+c,127)],v.lc=m+c}if(!l.Rb)return qe(e,4,"Not a key frame.");for(E(a),l=e.Pa,r=0;4>r;++r){for(s=0;8>s;++s)for(o=0;3>o;++o)for(A=0;11>A;++A)u=M(a,Ai[r][s][o][A])?f(a,8):ai[r][s][o][A],l.Wc[r][s].Yb[o][A]=u;for(s=0;17>s;++s)l.Xc[r][s]=l.Wc[r][ci[s]]}return e.kc=E(a),e.kc&&(e.Bd=f(a,8)),e.cb=1}function $e(e,t,n,r,i,o,s){var a=t[i].Yb[n];for(n=0;16>i;++i){if(!M(e,a[n+0]))return i;for(;!M(e,a[n+1]);)if(a=t[++i].Yb[0],n=0,16==i)return 16;var l=t[i+1].Yb;if(M(e,a[n+2])){var A=e,c=0;if(M(A,(h=a)[(u=n)+3]))if(M(A,h[u+6])){for(a=0,u=2*(c=M(A,h[u+8]))+(h=M(A,h[u+9+c])),c=0,h=ii[u];h[a];++a)c+=c+M(A,h[a]);c+=3+(8<<u)}else M(A,h[u+7])?(c=7+2*M(A,165),c+=M(A,145)):c=5+M(A,159);else c=M(A,h[u+4])?3+M(A,h[u+5]):2;a=l[2]}else c=1,a=l[1];l=s+oi[i],0>(A=e).b&&B(A);var u,h=A.b,d=(u=A.Ca>>1)-(A.I>>h)>>31;--A.b,A.Ca+=d,A.Ca|=1,A.I-=(u+1&d)<<h,o[l]=((c^d)-d)*r[(0<i)+0]}return 16}function Je(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,n){if(null==e)return 0;if(null==n)return qe(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Ye(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var a=Oi[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-a>>4,e.zb=n.j-a>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+a>>4,e.Hb=n.va+15+a>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(a=0;4>a;++a){var A;if(e.Qa.Cb){var c=e.Qa.Lb[a];e.Qa.Fb||(c+=l.Tb)}else c=l.Tb;for(A=0;1>=A;++A){var u=e.gd[a][A],h=c;if(l.Pc&&(h+=l.vd[0],A&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var d=h;0<l.wb&&(d=4<l.wb?d>>2:d>>1)>9-l.wb&&(d=9-l.wb),1>d&&(d=1),u.dd=d,u.tc=2*h+d,u.ld=40<=h?2:15<=h?1:0}else u.tc=0;u.La=A}}}a=0}else qe(e,6,"Frame setup failed"),a=e.a;if(a=0==a){if(a){e.$c=0,0<e.Aa||(e.Ic=Hi);e:{a=e.Ic,l=4*(d=e.za);var p=32*d,f=d+1,g=0<e.L?d*(0<e.Aa?2:1):0,m=(2==e.Aa?2:1)*d;if((u=l+832+(A=3*(16*a+Oi[e.L])/2*p)+(c=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)a=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=o(u),e.Fc=0,null==e.Ec){a=qe(e,1,"no memory during frame initialization.");break e}e.Vb=u}u=e.Ec,h=e.Fc,e.Ac=u,e.Bc=h,h+=l,e.Gd=s(p,je),e.Hd=0,e.rb=s(f+1,Oe),e.sb=1,e.wa=g?s(g,De):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=d),t(!0),e.oc=u,e.pc=h,h+=832,e.ya=s(m,He),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=d),e.R=16*d,e.B=8*d,d=(p=Oi[e.L])*e.R,p=p/2*e.B,e.sa=u,e.ta=h+d,e.qa=e.sa,e.ra=e.ta+16*a*e.R+p,e.Ha=e.qa,e.Ia=e.ra+8*a*e.B+p,e.$c=0,h+=A,e.mb=c?u:null,e.nb=c?h:null,t(h+c<=e.Fc+e.Vb),Je(e),i(e.Ac,e.Bc,0,l),a=1}}if(a){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Ir){for(a=-255;255>=a;++a)Er[255+a]=0>a?-a:a;for(a=-1020;1020>=a;++a)Mr[1020+a]=-128>a?-128:127<a?127:a;for(a=-112;112>=a;++a)Tr[112+a]=-16>a?-16:15<a?15:a;for(a=-255;510>=a;++a)Fr[255+a]=0>a?0:255<a?255:a;Ir=1}or=At,sr=ot,lr=st,Ar=at,cr=lt,ar=it,ur=qt,hr=Xt,dr=Jt,pr=Zt,fr=Yt,gr=$t,mr=en,vr=tn,yr=zt,br=jt,wr=Vt,xr=Wt,hi[0]=St,hi[1]=ut,hi[2]=xt,hi[3]=_t,hi[4]=Ct,hi[5]=Et,hi[6]=Bt,hi[7]=Mt,hi[8]=Ft,hi[9]=Tt,ui[0]=mt,ui[1]=dt,ui[2]=pt,ui[3]=ft,ui[4]=vt,ui[5]=yt,ui[6]=bt,di[0]=Ut,di[1]=ht,di[2]=It,di[3]=Lt,di[4]=kt,di[5]=Rt,di[6]=Nt,a=1}else a=0}a&&(a=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var s,a=e.Jc[e.M&e.Xb],l=e.m,A=e;for(s=0;s<A.za;++s){var c=l,u=A,h=u.Ac,d=u.Bc+4*s,p=u.zc,f=u.ya[u.aa+s];if(u.Qa.Bb?f.$b=M(c,u.Pa.jb[0])?2+M(c,u.Pa.jb[2]):M(c,u.Pa.jb[1]):f.$b=0,u.kc&&(f.Ad=M(c,u.Bd)),f.Za=!M(c,145)+0,f.Za){var g=f.Ob,m=0;for(u=0;4>u;++u){var v,y=p[0+u];for(v=0;4>v;++v){y=li[h[d+v]][y];for(var b=si[M(c,y[0])];0<b;)b=si[2*b+M(c,y[b])];y=-b,h[d+v]=y}r(g,m,h,d,4),m+=4,p[0+u]=y}}else y=M(c,156)?M(c,128)?1:3:M(c,163)?2:0,f.Ob[0]=y,i(h,d,y,4),i(p,0,y,4);f.Dd=M(c,142)?M(c,114)?M(c,183)?1:3:2:0}if(A.m.Ka)return qe(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(A=a,c=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],s=l.ya[l.aa+l.ja],d=l.kc?s.Ad:0)c.la=h.la=0,s.Za||(c.Na=h.Na=0),s.Hc=0,s.Gc=0,s.ia=0;else{var w,x;if(c=h,h=A,d=l.Pa.Xc,p=l.ya[l.aa+l.ja],f=l.pb[p.$b],u=p.ad,g=0,m=l.rb[l.sb-1],y=v=0,i(u,g,0,384),p.Za)var _=0,S=d[3];else{b=o(16);var C=c.Na+m.Na;if(C=ri(h,d[1],C,f.Eb,0,b,0),c.Na=m.Na=(0<C)+0,1<C)or(b,0,u,g);else{var B=b[0]+3>>3;for(b=0;256>b;b+=16)u[g+b]=B}_=1,S=d[0]}var E=15&c.la,T=15&m.la;for(b=0;4>b;++b){var F=1&T;for(B=x=0;4>B;++B)E=E>>1|(F=(C=ri(h,S,C=F+(1&E),f.Sc,_,u,g))>_)<<7,x=x<<2|(3<C?3:1<C?2:0!=u[g+0]),g+=16;E>>=4,T=T>>1|F<<7,v=(v<<8|x)>>>0}for(S=E,_=T>>4,w=0;4>w;w+=2){for(x=0,E=c.la>>4+w,T=m.la>>4+w,b=0;2>b;++b){for(F=1&T,B=0;2>B;++B)C=F+(1&E),E=E>>1|(F=0<(C=ri(h,d[2],C,f.Qc,0,u,g)))<<3,x=x<<2|(3<C?3:1<C?2:0!=u[g+0]),g+=16;E>>=2,T=T>>1|F<<5}y|=x<<4*w,S|=E<<4<<w,_|=(240&T)<<w}c.la=S,m.la=_,p.Hc=v,p.Gc=y,p.ia=43690&y?0:f.ia,d=!(v|y)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[s.$b][s.Za],l.wa[l.Y+l.ja].La|=!d),A.Ka)return qe(e,7,"Premature end-of-file encountered.")}if(Je(e),l=n,A=1,s=(a=e).D,c=0<a.L&&a.M>=a.zb&&a.M<=a.Va,0==a.Aa)e:{if(s.M=a.M,s.uc=c,Un(a,s),A=1,s=(x=a.D).Nb,c=(y=Oi[a.L])*a.R,h=y/2*a.B,b=16*s*a.R,B=8*s*a.B,d=a.sa,p=a.ta-c+b,f=a.qa,u=a.ra-h+B,g=a.Ha,m=a.Ia-h+B,T=0==(E=x.M),v=E>=a.Va-1,2==a.Aa&&Un(a,x),x.uc)for(F=(C=a).D.M,t(C.D.uc),x=C.yb;x<C.Hb;++x){_=x,S=F;var I=(L=(H=C).D).Nb;w=H.R;var L=L.wa[L.Y+_],P=H.sa,U=H.ta+16*I*w+16*_,R=L.dd,k=L.tc;if(0!=k)if(t(3<=k),1==H.L)0<_&&br(P,U,w,k+4),L.La&&xr(P,U,w,k),0<S&&yr(P,U,w,k+4),L.La&&wr(P,U,w,k);else{var N=H.B,D=H.qa,O=H.ra+8*I*N+8*_,Q=H.Ha,H=H.Ia+8*I*N+8*_;I=L.ld,0<_&&(hr(P,U,w,k+4,R,I),pr(D,O,Q,H,N,k+4,R,I)),L.La&&(gr(P,U,w,k,R,I),vr(D,O,Q,H,N,k,R,I)),0<S&&(ur(P,U,w,k+4,R,I),dr(D,O,Q,H,N,k+4,R,I)),L.La&&(fr(P,U,w,k,R,I),mr(D,O,Q,H,N,k,R,I))}}if(a.ia&&alert("todo:DitherRow"),null!=l.put){if(x=16*E,E=16*(E+1),T?(l.y=a.sa,l.O=a.ta+b,l.f=a.qa,l.N=a.ra+B,l.ea=a.Ha,l.W=a.Ia+B):(x-=y,l.y=d,l.O=p,l.f=f,l.N=u,l.ea=g,l.W=m),v||(E-=y),E>l.o&&(E=l.o),l.F=null,l.J=null,null!=a.Fa&&0<a.Fa.length&&x<E&&(l.J=hn(a,l,x,E-x),l.F=a.mb,null==l.F&&0==l.F.length)){A=qe(a,3,"Could not decode alpha data.");break e}x<l.j&&(y=l.j-x,x=l.j,t(!(1&y)),l.O+=a.R*y,l.N+=a.B*(y>>1),l.W+=a.B*(y>>1),null!=l.F&&(l.J+=l.width*y)),x<E&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=x-l.j,l.U=l.va-l.v,l.T=E-x,A=l.put(l))}s+1!=a.Ic||v||(r(a.sa,a.ta-c,d,p+16*a.R,c),r(a.qa,a.ra-h,f,u+8*a.B,h),r(a.Ha,a.Ia-h,g,m+8*a.B,h))}if(!A)return qe(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),a&=1}return a?(e.cb=0,a):0}function et(e,t,n,r,i){i=e[t+n+32*r]+(i>>3),e[t+n+32*r]=-256&i?0>i?0:255:i}function tt(e,t,n,r,i,o){et(e,t,0,n,r+i),et(e,t,1,n,r+o),et(e,t,2,n,r-o),et(e,t,3,n,r-i)}function nt(e){return(20091*e>>16)+e}function rt(e,t,n,r){var i,s=0,a=o(16);for(i=0;4>i;++i){var l=e[t+0]+e[t+8],A=e[t+0]-e[t+8],c=(35468*e[t+4]>>16)-nt(e[t+12]),u=nt(e[t+4])+(35468*e[t+12]>>16);a[s+0]=l+u,a[s+1]=A+c,a[s+2]=A-c,a[s+3]=l-u,s+=4,t++}for(i=s=0;4>i;++i)l=(e=a[s+0]+4)+a[s+8],A=e-a[s+8],c=(35468*a[s+4]>>16)-nt(a[s+12]),et(n,r,0,0,l+(u=nt(a[s+4])+(35468*a[s+12]>>16))),et(n,r,1,0,A+c),et(n,r,2,0,A-c),et(n,r,3,0,l-u),s++,r+=32}function it(e,t,n,r){var i=e[t+0]+4,o=35468*e[t+4]>>16,s=nt(e[t+4]),a=35468*e[t+1]>>16;tt(n,r,0,i+s,e=nt(e[t+1]),a),tt(n,r,1,i+o,e,a),tt(n,r,2,i-o,e,a),tt(n,r,3,i-s,e,a)}function ot(e,t,n,r,i){rt(e,t,n,r),i&&rt(e,t+16,n,r+4)}function st(e,t,n,r){sr(e,t+0,n,r,1),sr(e,t+32,n,r+128,1)}function at(e,t,n,r){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)et(n,r,t,i,e)}function lt(e,t,n,r){e[t+0]&&Ar(e,t+0,n,r),e[t+16]&&Ar(e,t+16,n,r+4),e[t+32]&&Ar(e,t+32,n,r+128),e[t+48]&&Ar(e,t+48,n,r+128+4)}function At(e,t,n,r){var i,s=o(16);for(i=0;4>i;++i){var a=e[t+0+i]+e[t+12+i],l=e[t+4+i]+e[t+8+i],A=e[t+4+i]-e[t+8+i],c=e[t+0+i]-e[t+12+i];s[0+i]=a+l,s[8+i]=a-l,s[4+i]=c+A,s[12+i]=c-A}for(i=0;4>i;++i)a=(e=s[0+4*i]+3)+s[3+4*i],l=s[1+4*i]+s[2+4*i],A=s[1+4*i]-s[2+4*i],c=e-s[3+4*i],n[r+0]=a+l>>3,n[r+16]=c+A>>3,n[r+32]=a-l>>3,n[r+48]=c-A>>3,r+=64}function ct(e,t,n){var r,i=t-32,o=Ur,s=255-e[i-1];for(r=0;r<n;++r){var a,l=o,A=s+e[t-1];for(a=0;a<n;++a)e[t+a]=l[A+e[i+a]];t+=32}}function ut(e,t){ct(e,t,4)}function ht(e,t){ct(e,t,8)}function dt(e,t){ct(e,t,16)}function pt(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function ft(e,t){var n;for(n=16;0<n;--n)i(e,t,e[t-1],16),t+=32}function gt(e,t,n){var r;for(r=0;16>r;++r)i(t,n+32*r,e,16)}function mt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];gt(r>>5,e,t)}function vt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];gt(r>>4,e,t)}function yt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];gt(r>>4,e,t)}function bt(e,t){gt(128,e,t)}function wt(e,t,n){return e+2*t+n+2>>2}function xt(e,t){var n,i=t-32;for(i=new Uint8Array([wt(e[i-1],e[i+0],e[i+1]),wt(e[i+0],e[i+1],e[i+2]),wt(e[i+1],e[i+2],e[i+3]),wt(e[i+2],e[i+3],e[i+4])]),n=0;4>n;++n)r(e,t+32*n,i,0,i.length)}function _t(e,t){var n=e[t-1],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96];T(e,t+0,16843009*wt(e[t-1-32],n,r)),T(e,t+32,16843009*wt(n,r,i)),T(e,t+64,16843009*wt(r,i,o)),T(e,t+96,16843009*wt(i,o,o))}function St(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)i(e,t+32*n,r,4)}function Ct(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1-32],s=e[t+0-32],a=e[t+1-32],l=e[t+2-32],A=e[t+3-32];e[t+0+96]=wt(r,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=wt(n,r,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=wt(o,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=wt(s,o,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=wt(a,s,o),e[t+3+32]=e[t+2+0]=wt(l,a,s),e[t+3+0]=wt(A,l,a)}function Bt(e,t){var n=e[t+1-32],r=e[t+2-32],i=e[t+3-32],o=e[t+4-32],s=e[t+5-32],a=e[t+6-32],l=e[t+7-32];e[t+0+0]=wt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=wt(n,r,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=wt(r,i,o),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=wt(i,o,s),e[t+3+32]=e[t+2+64]=e[t+1+96]=wt(o,s,a),e[t+3+64]=e[t+2+96]=wt(s,a,l),e[t+3+96]=wt(a,l,l)}function Et(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1-32],s=e[t+0-32],a=e[t+1-32],l=e[t+2-32],A=e[t+3-32];e[t+0+0]=e[t+1+64]=o+s+1>>1,e[t+1+0]=e[t+2+64]=s+a+1>>1,e[t+2+0]=e[t+3+64]=a+l+1>>1,e[t+3+0]=l+A+1>>1,e[t+0+96]=wt(i,r,n),e[t+0+64]=wt(r,n,o),e[t+0+32]=e[t+1+96]=wt(n,o,s),e[t+1+32]=e[t+2+96]=wt(o,s,a),e[t+2+32]=e[t+3+96]=wt(s,a,l),e[t+3+32]=wt(a,l,A)}function Mt(e,t){var n=e[t+0-32],r=e[t+1-32],i=e[t+2-32],o=e[t+3-32],s=e[t+4-32],a=e[t+5-32],l=e[t+6-32],A=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+i+1>>1,e[t+2+0]=e[t+1+64]=i+o+1>>1,e[t+3+0]=e[t+2+64]=o+s+1>>1,e[t+0+32]=wt(n,r,i),e[t+1+32]=e[t+0+96]=wt(r,i,o),e[t+2+32]=e[t+1+96]=wt(i,o,s),e[t+3+32]=e[t+2+96]=wt(o,s,a),e[t+3+64]=wt(s,a,l),e[t+3+96]=wt(a,l,A)}function Tt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+i+1>>1,e[t+2+32]=e[t+0+64]=i+o+1>>1,e[t+1+0]=wt(n,r,i),e[t+3+0]=e[t+1+32]=wt(r,i,o),e[t+3+32]=e[t+1+64]=wt(i,o,o),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=o}function Ft(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96],s=e[t-1-32],a=e[t+0-32],l=e[t+1-32],A=e[t+2-32];e[t+0+0]=e[t+2+32]=n+s+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=i+r+1>>1,e[t+0+96]=o+i+1>>1,e[t+3+0]=wt(a,l,A),e[t+2+0]=wt(s,a,l),e[t+1+0]=e[t+3+32]=wt(n,s,a),e[t+1+32]=e[t+3+64]=wt(r,n,s),e[t+1+64]=e[t+3+96]=wt(i,r,n),e[t+1+96]=wt(o,i,r)}function It(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Lt(e,t){var n;for(n=0;8>n;++n)i(e,t,e[t-1],8),t+=32}function Pt(e,t,n){var r;for(r=0;8>r;++r)i(t,n+32*r,e,8)}function Ut(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Pt(r>>4,e,t)}function Rt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Pt(r>>3,e,t)}function kt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Pt(r>>3,e,t)}function Nt(e,t){Pt(128,e,t)}function Dt(e,t,n){var r=e[t-n],i=e[t+0],o=3*(i-r)+Lr[1020+e[t-2*n]-e[t+n]],s=Pr[112+(o+4>>3)];e[t-n]=Ur[255+r+Pr[112+(o+3>>3)]],e[t+0]=Ur[255+i-s]}function Ot(e,t,n,r){var i=e[t+0],o=e[t+n];return Rr[255+e[t-2*n]-e[t-n]]>r||Rr[255+o-i]>r}function Qt(e,t,n,r){return 4*Rr[255+e[t-n]-e[t+0]]+Rr[255+e[t-2*n]-e[t+n]]<=r}function Ht(e,t,n,r,i){var o=e[t-3*n],s=e[t-2*n],a=e[t-n],l=e[t+0],A=e[t+n],c=e[t+2*n],u=e[t+3*n];return 4*Rr[255+a-l]+Rr[255+s-A]>r?0:Rr[255+e[t-4*n]-o]<=i&&Rr[255+o-s]<=i&&Rr[255+s-a]<=i&&Rr[255+u-c]<=i&&Rr[255+c-A]<=i&&Rr[255+A-l]<=i}function zt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Qt(e,t+r,n,i)&&Dt(e,t+r,n)}function jt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Qt(e,t+r*n,1,i)&&Dt(e,t+r*n,1)}function Vt(e,t,n,r){var i;for(i=3;0<i;--i)zt(e,t+=4*n,n,r)}function Wt(e,t,n,r){var i;for(i=3;0<i;--i)jt(e,t+=4,n,r)}function Gt(e,t,n,r,i,o,s,a){for(o=2*o+1;0<i--;){if(Ht(e,t,n,o,s))if(Ot(e,t,n,a))Dt(e,t,n);else{var l=e,A=t,c=n,u=l[A-2*c],h=l[A-c],d=l[A+0],p=l[A+c],f=l[A+2*c],g=27*(v=Lr[1020+3*(d-h)+Lr[1020+u-p]])+63>>7,m=18*v+63>>7,v=9*v+63>>7;l[A-3*c]=Ur[255+l[A-3*c]+v],l[A-2*c]=Ur[255+u+m],l[A-c]=Ur[255+h+g],l[A+0]=Ur[255+d-g],l[A+c]=Ur[255+p-m],l[A+2*c]=Ur[255+f-v]}t+=r}}function Kt(e,t,n,r,i,o,s,a){for(o=2*o+1;0<i--;){if(Ht(e,t,n,o,s))if(Ot(e,t,n,a))Dt(e,t,n);else{var l=e,A=t,c=n,u=l[A-c],h=l[A+0],d=l[A+c],p=Pr[112+(4+(f=3*(h-u))>>3)],f=Pr[112+(f+3>>3)],g=p+1>>1;l[A-2*c]=Ur[255+l[A-2*c]+g],l[A-c]=Ur[255+u+f],l[A+0]=Ur[255+h-p],l[A+c]=Ur[255+d-g]}t+=r}}function qt(e,t,n,r,i,o){Gt(e,t,n,1,16,r,i,o)}function Xt(e,t,n,r,i,o){Gt(e,t,1,n,16,r,i,o)}function Yt(e,t,n,r,i,o){var s;for(s=3;0<s;--s)Kt(e,t+=4*n,n,1,16,r,i,o)}function $t(e,t,n,r,i,o){var s;for(s=3;0<s;--s)Kt(e,t+=4,1,n,16,r,i,o)}function Jt(e,t,n,r,i,o,s,a){Gt(e,t,i,1,8,o,s,a),Gt(n,r,i,1,8,o,s,a)}function Zt(e,t,n,r,i,o,s,a){Gt(e,t,1,i,8,o,s,a),Gt(n,r,1,i,8,o,s,a)}function en(e,t,n,r,i,o,s,a){Kt(e,t+4*i,i,1,8,o,s,a),Kt(n,r+4*i,i,1,8,o,s,a)}function tn(e,t,n,r,i,o,s,a){Kt(e,t+4,1,i,8,o,s,a),Kt(n,r+4,1,i,8,o,s,a)}function nn(){this.ba=new se,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function on(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sn(){this.ua=0,this.Wa=new R,this.vb=new R,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new d,this.yc=new u}function an(){this.xb=this.a=0,this.l=new Ge,this.ca=new se,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sn,this.ab=0,this.gc=s(4,on),this.Oc=0}function ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ge,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function An(e,t,n,r,i,o,s){for(e=null==e?0:e[t+0],t=0;t<s;++t)i[o+t]=e+n[r+t]&255,e=i[o+t]}function cn(e,t,n,r,i,o,s){var a;if(null==e)An(null,null,n,r,i,o,s);else for(a=0;a<s;++a)i[o+a]=e[t+a]+n[r+a]&255}function un(e,t,n,r,i,o,s){if(null==e)An(null,null,n,r,i,o,s);else{var a,l=e[t+0],A=l,c=l;for(a=0;a<s;++a)A=c+(l=e[t+a])-A,c=n[r+a]+(-256&A?0>A?0:255:A)&255,A=l,i[o+a]=c}}function hn(e,n,i,s){var a=n.width,l=n.o;if(t(null!=e&&null!=n),0>i||0>=s||i+s>l)return null;if(!e.Cc){if(null==e.ga){var A;if(e.ga=new ln,(A=null==e.ga)||(A=n.width*n.o,t(0==e.Gb.length),e.Gb=o(A),e.Uc=0,null==e.Gb?A=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,A=1),A=!A),!A){A=e.ga;var c=e.Fa,u=e.P,h=e.qc,d=e.mb,p=e.nb,f=u+1,g=h-1,v=A.l;if(t(null!=c&&null!=d&&null!=n),gi[0]=null,gi[1]=An,gi[2]=cn,gi[3]=un,A.ca=d,A.tb=p,A.c=n.width,A.i=n.height,t(0<A.c&&0<A.i),1>=h)n=0;else if(A.$a=3&c[u+0],A.Z=c[u+0]>>2&3,A.Lc=c[u+0]>>4&3,u=c[u+0]>>6&3,0>A.$a||1<A.$a||4<=A.Z||1<A.Lc||u)n=0;else if(v.put=de,v.ac=he,v.bc=pe,v.ma=A,v.width=n.width,v.height=n.height,v.Da=n.Da,v.v=n.v,v.va=n.va,v.j=n.j,v.o=n.o,A.$a)e:{t(1==A.$a),n=Me();t:for(;;){if(null==n){n=0;break e}if(t(null!=A),A.mc=n,n.c=A.c,n.i=A.i,n.l=A.l,n.l.ma=A,n.l.width=A.c,n.l.height=A.i,n.a=0,m(n.m,c,f,g),!Te(A.c,A.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&_e(n.s)?(A.ic=1,c=n.c*n.i,n.Ta=null,n.Ua=0,n.V=o(c),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(A.ic=0,n=Fe(n,A.c)),!n)break t;n=1;break e}A.mc=null,n=0}else n=g>=A.c*A.i;A=!n}if(A)return null;1!=e.ga.Lc?e.Ga=0:s=l-i}t(null!=e.ga),t(i+s<=l);e:{if(n=(c=e.ga).c,l=c.l.o,0==c.$a){if(f=e.rc,g=e.Vc,v=e.Fa,u=e.P+1+i*n,h=e.mb,d=e.nb+i*n,t(u<=e.P+e.qc),0!=c.Z)for(t(null!=gi[c.Z]),A=0;A<s;++A)gi[c.Z](f,g,v,u,h,d,n),f=h,g=d,d+=n,u+=n;else for(A=0;A<s;++A)r(h,d,v,u,n),f=h,g=d,d+=n,u+=n;e.rc=f,e.Vc=g}else{if(t(null!=c.mc),n=i+s,t(null!=(A=c.mc)),t(n<=A.i),A.C>=n)n=1;else if(c.ic||mn(),c.ic){c=A.V,f=A.Ba,g=A.c;var y=A.i,b=(v=1,u=A.$/g,h=A.$%g,d=A.m,p=A.s,A.$),w=g*y,x=g*n,S=p.wc,B=b<x?be(p,h,u):null;t(b<=w),t(n<=y),t(_e(p));t:for(;;){for(;!d.h&&b<x;){if(h&S||(B=be(p,h,u)),t(null!=B),C(d),256>(y=ve(B.G[0],B.H[0],d)))c[f+b]=y,++b,++h>=g&&(h=0,++u<=n&&!(u%16)&&Ce(A,u));else{if(!(280>y)){v=0;break t}y=ge(y-256,d);var E,M=ve(B.G[4],B.H[4],d);if(C(d),!(b>=(M=me(g,M=ge(M,d)))&&w-b>=y)){v=0;break t}for(E=0;E<y;++E)c[f+b+E]=c[f+b+E-M];for(b+=y,h+=y;h>=g;)h-=g,++u<=n&&!(u%16)&&Ce(A,u);b<x&&h&S&&(B=be(p,h,u))}t(d.h==_(d))}Ce(A,u>n?n:u);break t}!v||d.h&&b<w?(v=0,A.a=d.h?5:3):A.$=b,n=v}else n=Be(A,A.V,A.Ba,A.c,A.i,n,Ie);if(!n){s=0;break e}}i+s>=l&&(e.Cc=1),s=1}if(!s)return null;if(e.Cc&&(null!=(s=e.ga)&&(s.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+i*a}function dn(e,t,n,r,i,o){for(;0<i--;){var s,a=e,l=t+(n?1:0),A=e,c=t+(n?0:3);for(s=0;s<r;++s){var u=A[c+4*s];255!=u&&(u*=32897,a[l+4*s+0]=a[l+4*s+0]*u>>23,a[l+4*s+1]=a[l+4*s+1]*u>>23,a[l+4*s+2]=a[l+4*s+2]*u>>23)}t+=o}}function pn(e,t,n,r,i){for(;0<r--;){var o;for(o=0;o<n;++o){var s=e[t+2*o+0],a=15&(A=e[t+2*o+1]),l=4369*a,A=(240&A|A>>4)*l>>16;e[t+2*o+0]=(240&s|s>>4)*l>>16&240|(15&s|s<<4)*l>>16>>4&15,e[t+2*o+1]=240&A|a}t+=i}}function fn(e,t,n,r,i,o,s,a){var l,A,c=255;for(A=0;A<i;++A){for(l=0;l<r;++l){var u=e[t+l];o[s+4*l]=u,c&=u}t+=n,s+=a}return 255!=c}function gn(e,t,n,r,i){var o;for(o=0;o<i;++o)n[r+o]=e[t+o]>>8}function mn(){_r=dn,Sr=pn,Cr=fn,Br=gn}function vn(n,r,i){e[n]=function(e,n,o,s,a,l,A,c,u,h,d,p,f,g,m,v,y){var b,w=y-1>>1,x=a[l+0]|A[c+0]<<16,_=u[h+0]|d[p+0]<<16;t(null!=e);var S=3*x+_+131074>>2;for(r(e[n+0],255&S,S>>16,f,g),null!=o&&(S=3*_+x+131074>>2,r(o[s+0],255&S,S>>16,m,v)),b=1;b<=w;++b){var C=a[l+b]|A[c+b]<<16,B=u[h+b]|d[p+b]<<16,E=x+C+_+B+524296,M=E+2*(C+_)>>3;S=M+x>>1,x=(E=E+2*(x+B)>>3)+C>>1,r(e[n+2*b-1],255&S,S>>16,f,g+(2*b-1)*i),r(e[n+2*b-0],255&x,x>>16,f,g+(2*b-0)*i),null!=o&&(S=E+_>>1,x=M+B>>1,r(o[s+2*b-1],255&S,S>>16,m,v+(2*b-1)*i),r(o[s+2*b+0],255&x,x>>16,m,v+(2*b+0)*i)),x=C,_=B}1&y||(S=3*x+_+131074>>2,r(e[n+y-1],255&S,S>>16,f,g+(y-1)*i),null!=o&&(S=3*_+x+131074>>2,r(o[s+y-1],255&S,S>>16,m,v+(y-1)*i)))}}function yn(){mi[kr]=vi,mi[Nr]=bi,mi[Dr]=yi,mi[Or]=wi,mi[Qr]=xi,mi[Hr]=_i,mi[zr]=Si,mi[jr]=bi,mi[Vr]=wi,mi[Wr]=xi,mi[Gr]=_i}function bn(e){return e&~Fi?0>e?0:255:e>>Ti}function wn(e,t){return bn((19077*e>>8)+(26149*t>>8)-14234)}function xn(e,t,n){return bn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function _n(e,t){return bn((19077*e>>8)+(33050*t>>8)-17685)}function Sn(e,t,n,r,i){r[i+0]=wn(e,n),r[i+1]=xn(e,t,n),r[i+2]=_n(e,t)}function Cn(e,t,n,r,i){r[i+0]=_n(e,t),r[i+1]=xn(e,t,n),r[i+2]=wn(e,n)}function Bn(e,t,n,r,i){var o=xn(e,t,n);t=o<<3&224|_n(e,t)>>3,r[i+0]=248&wn(e,n)|o>>5,r[i+1]=t}function En(e,t,n,r,i){var o=240&_n(e,t)|15;r[i+0]=240&wn(e,n)|xn(e,t,n)>>4,r[i+1]=o}function Mn(e,t,n,r,i){r[i+0]=255,Sn(e,t,n,r,i+1)}function Tn(e,t,n,r,i){Cn(e,t,n,r,i),r[i+3]=255}function Fn(e,t,n,r,i){Sn(e,t,n,r,i),r[i+3]=255}function We(e,t){return 0>e?0:e>t?t:e}function In(t,n,r){e[t]=function(e,t,i,o,s,a,l,A,c){for(var u=A+(-2&c)*r;A!=u;)n(e[t+0],i[o+0],s[a+0],l,A),n(e[t+1],i[o+0],s[a+0],l,A+r),t+=2,++o,++a,A+=2*r;1&c&&n(e[t+0],i[o+0],s[a+0],l,A)}}function Ln(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Pn(e,t,n,r,i){switch(e>>>30){case 3:sr(t,n,r,i,0);break;case 2:ar(t,n,r,i);break;case 1:Ar(t,n,r,i)}}function Un(e,t){var n,o,s=t.M,a=t.Nb,l=e.oc,A=e.pc+40,c=e.oc,u=e.pc+584,h=e.oc,d=e.pc+600;for(n=0;16>n;++n)l[A+32*n-1]=129;for(n=0;8>n;++n)c[u+32*n-1]=129,h[d+32*n-1]=129;for(0<s?l[A-1-32]=c[u-1-32]=h[d-1-32]=129:(i(l,A-32-1,127,21),i(c,u-32-1,127,9),i(h,d-32-1,127,9)),o=0;o<e.za;++o){var p=t.ya[t.aa+o];if(0<o){for(n=-1;16>n;++n)r(l,A+32*n-4,l,A+32*n+12,4);for(n=-1;8>n;++n)r(c,u+32*n-4,c,u+32*n+4,4),r(h,d+32*n-4,h,d+32*n+4,4)}var f=e.Gd,g=e.Hd+o,m=p.ad,v=p.Hc;if(0<s&&(r(l,A-32,f[g].y,0,16),r(c,u-32,f[g].f,0,8),r(h,d-32,f[g].ea,0,8)),p.Za){var y=l,b=A-32+16;for(0<s&&(o>=e.za-1?i(y,b,f[g].y[15],4):r(y,b,f[g+1].y,0,4)),n=0;4>n;n++)y[b+128+n]=y[b+256+n]=y[b+384+n]=y[b+0+n];for(n=0;16>n;++n,v<<=2)y=l,b=A+Di[n],hi[p.Ob[n]](y,b),Pn(v,m,16*+n,y,b)}else if(y=Ln(o,s,p.Ob[0]),ui[y](l,A),0!=v)for(n=0;16>n;++n,v<<=2)Pn(v,m,16*+n,l,A+Di[n]);for(n=p.Gc,y=Ln(o,s,p.Dd),di[y](c,u),di[y](h,d),v=m,y=c,b=u,255&(p=n|0)&&(170&p?lr(v,256,y,b):cr(v,256,y,b)),p=h,v=d,255&(n>>=8)&&(170&n?lr(m,320,p,v):cr(m,320,p,v)),s<e.Ub-1&&(r(f[g].y,0,l,A+480,16),r(f[g].f,0,c,u+224,8),r(f[g].ea,0,h,d+224,8)),n=8*a*e.B,f=e.sa,g=e.ta+16*o+16*a*e.R,m=e.qa,p=e.ra+8*o+n,v=e.Ha,y=e.Ia+8*o+n,n=0;16>n;++n)r(f,g+n*e.R,l,A+32*n,16);for(n=0;8>n;++n)r(m,p+n*e.B,c,u+32*n,8),r(v,y+n*e.B,h,d+32*n,8)}}function Rn(e,r,i,o,s,a,l,A,c){var u=[0],h=[0],d=0,p=null!=c?c.kd:0,f=null!=c?c:new rn;if(null==e||12>i)return 7;f.data=e,f.w=r,f.ha=i,r=[r],i=[i],f.gb=[f.gb];e:{var g=r,v=i,y=f.gb;if(t(null!=e),t(null!=v),t(null!=y),y[0]=0,12<=v[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){y=3;break e}var b=L(e,g[0]+4);if(12>b||4294967286<b){y=3;break e}if(p&&b>v[0]-8){y=7;break e}y[0]=b,g[0]+=12,v[0]-=12}y=0}if(0!=y)return y;for(b=0<f.gb[0],i=i[0];;){e:{var x=e;v=r,y=i;var _=u,S=h,C=g=[0];if((M=d=[d])[0]=0,8>y[0])y=7;else{if(!n(x,v[0],"VP8X")){if(10!=L(x,v[0]+4)){y=3;break e}if(18>y[0]){y=7;break e}var B=L(x,v[0]+8),E=1+I(x,v[0]+12);if(2147483648<=E*(x=1+I(x,v[0]+15))){y=3;break e}null!=C&&(C[0]=B),null!=_&&(_[0]=E),null!=S&&(S[0]=x),v[0]+=18,y[0]-=18,M[0]=1}y=0}}if(d=d[0],g=g[0],0!=y)return y;if(v=!!(2&g),!b&&d)return 3;if(null!=a&&(a[0]=!!(16&g)),null!=l&&(l[0]=v),null!=A&&(A[0]=0),l=u[0],g=h[0],d&&v&&null==c){y=0;break}if(4>i){y=7;break}if(b&&d||!b&&!d&&!n(e,r[0],"ALPH")){i=[i],f.na=[f.na],f.P=[f.P],f.Sa=[f.Sa];e:{B=e,y=r,b=i;var M=f.gb;_=f.na,S=f.P,C=f.Sa,E=22,t(null!=B),t(null!=b),x=y[0];var T=b[0];for(t(null!=_),t(null!=C),_[0]=null,S[0]=null,C[0]=0;;){if(y[0]=x,b[0]=T,8>T){y=7;break e}var F=L(B,x+4);if(4294967286<F){y=3;break e}var P=8+F+1&-2;if(E+=P,0<M&&E>M){y=3;break e}if(!n(B,x,"VP8 ")||!n(B,x,"VP8L")){y=0;break e}if(T[0]<P){y=7;break e}n(B,x,"ALPH")||(_[0]=B,S[0]=x+8,C[0]=F),x+=P,T-=P}}if(i=i[0],f.na=f.na[0],f.P=f.P[0],f.Sa=f.Sa[0],0!=y)break}i=[i],f.Ja=[f.Ja],f.xa=[f.xa];e:if(M=e,y=r,b=i,_=f.gb[0],S=f.Ja,C=f.xa,B=y[0],x=!n(M,B,"VP8 "),E=!n(M,B,"VP8L"),t(null!=M),t(null!=b),t(null!=S),t(null!=C),8>b[0])y=7;else{if(x||E){if(M=L(M,B+4),12<=_&&M>_-12){y=3;break e}if(p&&M>b[0]-8){y=7;break e}S[0]=M,y[0]+=8,b[0]-=8,C[0]=E}else C[0]=5<=b[0]&&47==M[B+0]&&!(M[B+4]>>5),S[0]=b[0];y=0}if(i=i[0],f.Ja=f.Ja[0],f.xa=f.xa[0],r=r[0],0!=y)break;if(4294967286<f.Ja)return 3;if(null==A||v||(A[0]=f.xa?2:1),l=[l],g=[g],f.xa){if(5>i){y=7;break}A=l,p=g,v=a,null==e||5>i?e=0:5<=i&&47==e[r+0]&&!(e[r+4]>>5)?(b=[0],M=[0],_=[0],m(S=new w,e,r,i),fe(S,b,M,_)?(null!=A&&(A[0]=b[0]),null!=p&&(p[0]=M[0]),null!=v&&(v[0]=_[0]),e=1):e=0):e=0}else{if(10>i){y=7;break}A=g,null==e||10>i||!Xe(e,r+3,i-3)?e=0:(p=e[r+0]|e[r+1]<<8|e[r+2]<<16,v=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=f.Ja||!v||!e?e=0:(l&&(l[0]=v),A&&(A[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],d&&(u[0]!=l||h[0]!=g))return 3;null!=c&&(c[0]=f,c.offset=r-c.w,t(4294967286>r-c.w),t(c.offset==c.ha-i));break}return 0==y||7==y&&d&&null==c?(null!=a&&(a[0]|=null!=f.na&&0<f.na.length),null!=o&&(o[0]=l),null!=s&&(s[0]=g),0):y}function kn(e,t,n){var r=t.width,i=t.height,o=0,s=0,a=r,l=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(a=e.cd,l=e.bd,o=e.v,s=e.j,11>n||(o&=-2,s&=-2),0>o||0>s||0>=a||0>=l||o+a>r||s+l>i))return 0;if(t.v=o,t.j=s,t.va=o+a,t.o=s+l,t.U=a,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!k(a,l,n=[e.ib],o=[e.hb]))return 0;t.ib=n[0],t.hb=o[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*i/4,t.Kb=0),1}function Nn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Dn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var i=n.cd,s=n.bd,a=-2&n.v,l=-2&n.j;if(0>a||0>l||0>=i||0>=s||a+i>e||l+s>t)return 2;e=i,t=s}if(n.da){if(!k(e,t,i=[n.ib],s=[n.hb]))return 2;e=i[0],t=s[0]}}r.width=e,r.height=t;e:{var A=r.width,c=r.height;if(e=r.S,0>=A||0>=c||!(e>=kr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){a=s=i=t=0;var u=(l=A*zi[e])*c;if(11>e||(s=(c+1)/2*(t=(A+1)/2),12==e&&(a=(i=A)*c)),null==(c=o(u+2*s+a))){e=1;break e}r.sd=c,11>e?((A=r.f.RGBA).eb=c,A.fb=0,A.A=l,A.size=u):((A=r.f.kb).y=c,A.O=0,A.fa=l,A.Fd=u,A.f=c,A.N=0+u,A.Ab=t,A.Cd=s,A.ea=c,A.W=0+u+s,A.Db=t,A.Ed=s,12==e&&(A.F=c,A.J=0+u+2*s),A.Tc=a,A.lb=i)}if(t=1,i=r.S,s=r.width,a=r.height,i>=kr&&13>i)if(11>i)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(a-1)+s<=e.size,t&=l>=s*zi[i],t&=null!=e.eb;else{e=r.f.kb,l=(s+1)/2,u=(a+1)/2,A=Math.abs(e.fa),c=Math.abs(e.Ab);var h=Math.abs(e.Db),d=Math.abs(e.lb),p=d*(a-1)+s;t&=A*(a-1)+s<=e.Fd,t&=c*(u-1)+l<=e.Cd,t=(t&=h*(u-1)+l<=e.Ed)&A>=s&c>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=d>=s,t&=p<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Nn(r)),e}var On=64,Qn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Hn=24,zn=32,jn=8,Vn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];O("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return H(H(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return H(e,t[n-1])},e.Predictor7=function(e,t,n){return H(e,t[n+0])},e.Predictor8=function(e,t,n){return H(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return H(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return H(H(e,t[n-1]),H(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=V(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+V(r>>16&255,e>>16&255,t>>16&255)+V(r>>8&255,e>>8&255,t>>8&255)+V(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(z((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|z((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|z((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|z((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(j((e=H(e,t[n+0]))>>24&255,r>>24&255)<<24|j(e>>16&255,r>>16&255)<<16|j(e>>8&255,r>>8&255)<<8|j(255&e,255&r))>>>0};var Wn=e.PredictorAdd0;e.PredictorAdd1=W,O("Predictor2","PredictorAdd2"),O("Predictor3","PredictorAdd3"),O("Predictor4","PredictorAdd4"),O("Predictor5","PredictorAdd5"),O("Predictor6","PredictorAdd6"),O("Predictor7","PredictorAdd7"),O("Predictor8","PredictorAdd8"),O("Predictor9","PredictorAdd9"),O("Predictor10","PredictorAdd10"),O("Predictor11","PredictorAdd11"),O("Predictor12","PredictorAdd12"),O("Predictor13","PredictorAdd13");var Gn=e.PredictorAdd2;X("ColorIndexInverseTransform","MapARGB","32b",(function(e){return e>>8&255}),(function(e){return e})),X("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(e){return e}),(function(e){return e>>8&255}));var Kn,qn=e.ColorIndexInverseTransform,Xn=e.MapARGB,Yn=e.VP8LColorIndexInverseTransformAlpha,$n=e.MapAlpha,Jn=e.VP8LPredictorsAdd=[];Jn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Zn,er,tr,nr,rr,ir,or,sr,ar,lr,Ar,cr,ur,hr,dr,pr,fr,gr,mr,vr,yr,br,wr,xr,_r,Sr,Cr,Br,Er=o(511),Mr=o(2041),Tr=o(225),Fr=o(767),Ir=0,Lr=Mr,Pr=Tr,Ur=Fr,Rr=Er,kr=0,Nr=1,Dr=2,Or=3,Qr=4,Hr=5,zr=6,jr=7,Vr=8,Wr=9,Gr=10,Kr=[2,3,7],qr=[3,3,11],Xr=[280,256,256,256,40],Yr=[0,1,1,1,0],$r=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Jr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ei=8,ti=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ni=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ri=null,ii=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],oi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],si=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ai=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],li=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ai=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ci=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ui=[],hi=[],di=[],pi=1,fi=2,gi=[],mi=[];vn("UpsampleRgbLinePair",Sn,3),vn("UpsampleBgrLinePair",Cn,3),vn("UpsampleRgbaLinePair",Fn,4),vn("UpsampleBgraLinePair",Tn,4),vn("UpsampleArgbLinePair",Mn,4),vn("UpsampleRgba4444LinePair",En,2),vn("UpsampleRgb565LinePair",Bn,2);var vi=e.UpsampleRgbLinePair,yi=e.UpsampleBgrLinePair,bi=e.UpsampleRgbaLinePair,wi=e.UpsampleBgraLinePair,xi=e.UpsampleArgbLinePair,_i=e.UpsampleRgba4444LinePair,Si=e.UpsampleRgb565LinePair,Ci=16,Bi=1<<Ci-1,Ei=-227,Mi=482,Ti=6,Fi=(256<<Ti)-1,Ii=0,Li=o(256),Pi=o(256),Ui=o(256),Ri=o(256),ki=o(Mi-Ei),Ni=o(Mi-Ei);In("YuvToRgbRow",Sn,3),In("YuvToBgrRow",Cn,3),In("YuvToRgbaRow",Fn,4),In("YuvToBgraRow",Tn,4),In("YuvToArgbRow",Mn,4),In("YuvToRgba4444Row",En,2),In("YuvToRgb565Row",Bn,2);var Di=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Oi=[0,2,8],Qi=[8,7,6,4,4,2,2,2,1,1,1,1],Hi=1;this.WebPDecodeRGBA=function(e,n,r,i,o){var s=Nr,a=new nn,l=new se;a.ba=l,l.S=s,l.width=[l.width],l.height=[l.height];var A=l.width,c=l.height,u=new ae;if(null==u||null==e)var h=2;else t(null!=u),h=Rn(e,n,r,u.width,u.height,u.Pd,u.Qd,u.format,null);if(0!=h?A=0:(null!=A&&(A[0]=u.width[0]),null!=c&&(c[0]=u.height[0]),A=1),A){l.width=l.width[0],l.height=l.height[0],null!=i&&(i[0]=l.width),null!=o&&(o[0]=l.height);e:{if(i=new Ge,(o=new rn).data=e,o.w=n,o.ha=r,o.kd=1,n=[0],t(null!=o),(0==(e=Rn(o.data,o.w,o.ha,null,null,null,n,null,o))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=a),i.data=o.data,i.w=o.w+o.offset,i.ha=o.ha-o.offset,i.put=de,i.ac=he,i.bc=pe,i.ma=a,o.xa){if(null==(e=Me())){a=1;break e}if(function(e,n){var r=[0],i=[0],o=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,m(e.m,n.data,n.w,n.ha),!fe(e.m,r,i,o)){e.a=3;break t}if(e.xb=fi,n.width=r[0],n.height=i[0],!Te(r[0],i[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,i)){if(i=0==(n=Dn(i.width,i.height,a.Oa,a.ba))){t:{i=e;n:for(;;){if(null==i){i=0;break t}if(t(null!=i.s.yc),t(null!=i.s.Ya),t(0<i.s.Wb),t(null!=(r=i.l)),t(null!=(o=r.ma)),0!=i.xb){if(i.ca=o.ba,i.tb=o.tb,t(null!=i.ca),!kn(o.Oa,r,Or)){i.a=2;break n}if(!Fe(i,r.width))break n;if(r.da)break n;if((r.da||re(i.ca.S))&&mn(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&mn()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!P(i.s.vb,i.s.Wa.Xa)){i.a=1;break n}i.xb=0}if(!Be(i,i.V,i.Ba,i.c,i.i,r.o,xe))break n;o.Dc=i.Ma,i=1;break t}t(0!=i.a),i=0}i=!i}i&&(n=e.a)}else n=e.a}else{if(null==(e=new Ke)){a=1;break e}if(e.Fa=o.na,e.P=o.P,e.qc=o.Sa,Ye(e,i)){if(0==(n=Dn(i.width,i.height,a.Oa,a.ba))){if(e.Aa=0,r=a.Oa,t(null!=(o=e)),null!=r){if(0<(A=0>(A=r.Md)?0:100<A?255:255*A/100)){for(c=u=0;4>c;++c)12>(h=o.pb[c]).lc&&(h.ia=A*Qi[0>h.lc?0:h.lc]>>3),u|=h.ia;u&&(alert("todo:VP8InitRandom"),o.ia=1)}o.Ga=r.Id,100<o.Ga?o.Ga=100:0>o.Ga&&(o.Ga=0)}Ze(e,i)||(n=e.a)}}else n=e.a}0==n&&null!=a.Oa&&a.Oa.fd&&(n=Nn(a.ba))}a=n}s=0!=a?null:11>s?l.f.RGBA.eb:l.f.kb.y}else s=null;return s};var zi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function c(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var h=[0],d=[0],p=[],f=new l,g=e,m=function(e,t){var n={},r=0,i=!1,o=0,s=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){var a,l;for(u(e,t+=4),t+=8;t<e.length;){var h=A(e,t),d=u(e,t+=4);t+=4;var p=d+(1&d);switch(h){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(m=n.frames[r]).src_off=i?s:t-8,m.src_size=o+d+8,r++,i&&(i=!1,o=0,s=0);break;case"VP8X":(m=n.header={}).feature_flags=e[t];var f=t+4;m.canvas_width=1+c(e,f),f+=3,m.canvas_height=1+c(e,f),f+=3;break;case"ALPH":i=!0,o=p+8,s=t-8;break;case"ANIM":(m=n.header).bgcolor=u(e,t),f=t+4,m.loop_count=(a=e)[(l=f)+0]|a[l+1]<<8,f+=2;break;case"ANMF":var g,m;(m=n.frames[r]={}).offset_x=2*c(e,t),t+=3,m.offset_y=2*c(e,t),t+=3,m.width=1+c(e,t),t+=3,m.height=1+c(e,t),t+=3,m.duration=c(e,t),t+=3,g=e[t++],m.dispose=1&g,m.blend=g>>1&1}"ANMF"!=h&&(t+=p)}return n}}(g,0);m.response=g,m.rgbaoutput=!0,m.dataurl=!1;var v=m.header?m.header:null,y=m.frames?m.frames:null;if(v){v.loop_counter=v.loop_count,h=[v.canvas_height],d=[v.canvas_width];for(var b=0;b<y.length&&0!=y[b].blend;b++);}var w=y[0],x=f.WebPDecodeRGBA(g,w.src_off,w.src_size,d,h);w.rgba=x,w.imgwidth=d[0],w.imgheight=h[0];for(var _=0;_<d[0]*h[0]*4;_++)p[_]=x[_];return this.width=d,this.height=h,this.data=p,this}!function(e){var t=function(t,r,l,A){var c=4,u=o;switch(A){case e.image_compression.FAST:c=1,u=i;break;case e.image_compression.MEDIUM:c=6,u=s;break;case e.image_compression.SLOW:c=9,u=a}var h=GN(t=n(t,r,l,u),{level:c});return e.__addimage__.arrayBufferToBinaryString(h)},n=function(e,t,n,r){for(var i,o,s,a=e.length/t,l=new Uint8Array(e.length+a),u=A(),h=0;h<a;h+=1){if(s=h*t,i=e.subarray(s,s+t),r)l.set(r(i,n,o),s+h);else{for(var d,p=u.length,f=[];d<p;d+=1)f[d]=u[d](i,n,o);var g=c(f.concat());l.set(f[g],s+h)}o=i}return l},r=function(e){var t=Array.apply([],e);return t.unshift(0),t},i=function(e,t){var n,r=[],i=e.length;r[0]=1;for(var o=0;o<i;o+=1)n=e[o-t]||0,r[o+1]=e[o]-n+256&255;return r},o=function(e,t,n){var r,i=[],o=e.length;i[0]=2;for(var s=0;s<o;s+=1)r=n&&n[s]||0,i[s+1]=e[s]-r+256&255;return i},s=function(e,t,n){var r,i,o=[],s=e.length;o[0]=3;for(var a=0;a<s;a+=1)r=e[a-t]||0,i=n&&n[a]||0,o[a+1]=e[a]+256-(r+i>>>1)&255;return o},a=function(e,t,n){var r,i,o,s,a=[],A=e.length;a[0]=4;for(var c=0;c<A;c+=1)r=e[c-t]||0,i=n&&n[c]||0,o=n&&n[c-t]||0,s=l(r,i,o),a[c+1]=e[c]-s+256&255;return a},l=function(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),o=Math.abs(e+t-n-n);return r<=i&&r<=o?e:i<=o?t:n},A=function(){return[r,i,o,s,a]},c=function(e){var t=e.map((function(e){return e.reduce((function(e,t){return e+Math.abs(t)}),0)}));return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(n,r,i,o){var s,a,l,A,c,u,h,d,p,f,g,m,v,y,b,w=this.decode.FLATE_DECODE,x="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(l=new OO(n)).imgData,a=l.bits,s=l.colorSpace,c=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){p=(d=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,g=new Uint8Array(p*l.colors),f=new Uint8Array(p);var _,S=l.pixelBitlength-l.bits;for(y=0,b=0;y<p;y++){for(v=d[y],_=0;_<S;)g[b++]=v>>>_&255,_+=l.bits;f[y]=v>>>_&255}}if(16===l.bits){p=(d=new Uint32Array(l.decodePixels().buffer)).length,g=new Uint8Array(p*(32/l.pixelBitlength)*l.colors),f=new Uint8Array(p*(32/l.pixelBitlength)),m=l.colors>1,y=0,b=0;for(var C=0;y<p;)v=d[y++],g[b++]=v>>>0&255,m&&(g[b++]=v>>>16&255,v=d[y++],g[b++]=v>>>0&255),f[C++]=v>>>16&255;a=8}o!==e.image_compression.NONE?(n=t(g,l.width*l.colors,l.colors,o),h=t(f,l.width,1,o)):(n=g,h=f,w=void 0)}if(3===l.colorType&&(s=this.color_spaces.INDEXED,u=l.palette,l.transparency.indexed)){var B=l.transparency.indexed,E=0;for(y=0,p=B.length;y<p;++y)E+=B[y];if((E/=255)===p-1&&-1!==B.indexOf(0))A=[B.indexOf(0)];else if(E!==p){for(d=l.decodePixels(),f=new Uint8Array(d.length),y=0,p=d.length;y<p;y++)f[y]=B[d[y]];h=t(f,l.width,1)}}var M=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n}(o);return w===this.decode.FLATE_DECODE&&(x="/Predictor "+M+" "),x+="/Colors "+c+" /BitsPerComponent "+a+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:i,data:n,index:r,filter:w,decodeParameters:x,transparency:A,palette:u,sMask:h,predictor:M,width:l.width,height:l.height,bitsPerComponent:a,colorSpace:s}}}}(ED.API),function(e){e.processGIF89A=function(t,n,r,i){var o=new QO(t),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var A={data:l,width:s,height:a},c=new zO(100).encode(A,100);return e.processJPEG.call(this,c,n,r,i)},e.processGIF87A=e.processGIF89A}(ED.API),jO.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},jO.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){YN.log("bit decode error:"+e)}},jO.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}0!==n&&(this.pos+=4-n)}},jO.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,A=this.palette[a];if(this.data[s]=A.blue,this.data[s+1]=A.green,this.data[s+2]=A.red,this.data[s+3]=255,2*i+1>=this.width)break;A=this.palette[l],this.data[s+4]=A.blue,this.data[s+4+1]=A.green,this.data[s+4+2]=A.red,this.data[s+4+3]=255}0!==t&&(this.pos+=4-t)}},jO.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==e&&(this.pos+=4-e)}},jO.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,a=(o>>5&t)/t*255|0,l=(o>>10&t)/t*255|0,A=o>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=A}this.pos+=e}},jO.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,l=(s>>5&n)/n*255|0,A=(s>>11)/t*255|0,c=i*this.width*4+4*o;this.data[c]=A,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=e}},jO.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},jO.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},jO.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var o=new jO(t,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},A=new zO(100).encode(l,100);return e.processJPEG.call(this,A,n,r,i)}}(ED.API),VO.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var o=new VO(t,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},A=new zO(100).encode(l,100);return e.processJPEG.call(this,A,n,r,i)}}(ED.API),ED.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,A=0;A<i;A+=4){var c=r[A],u=r[A+1],h=r[A+2],d=r[A+3];o[a++]=c,o[a++]=u,o[a++]=h,s[l++]=d}var p=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:p,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ED.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},UO=ED.API,RO=UO.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,A=t.kerning?t.kerning:i.metadata.Unicode.kerning,c=A.fof?A.fof:1,u=!1!==t.doKerning,h=0,d=e.length,p=0,f=a[0]||l,g=[];for(n=0;n<d;n++)r=e.charCodeAt(n),"function"==typeof i.metadata.widthOfString?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(h=u&&"object"===(0,eN.A)(A[r])&&!isNaN(parseInt(A[r][p],10))?A[r][p]/c:0,g.push((a[r]||f)/l+h)),p=r;return g},kO=UO.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return UO.processArabic&&(e=UO.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,i)/n:RO.apply(this,arguments).reduce((function(e,t){return e+t}),0)},NO=function(e,t,n,r){for(var i=[],o=0,s=e.length,a=0;o!==s&&a+t[o]<n;)a+=t[o],o++;i.push(e.slice(0,o));var l=o;for(a=0;o!==s;)a+t[o]>r&&(i.push(e.slice(l,o)),a=0,l=o),a+=t[o],o++;return l!==o&&i.push(e.slice(l,o)),i},DO=function(e,t,n){n||(n={});var r,i,o,s,a,l,A,c=[],u=[c],h=n.textIndent||0,d=0,p=0,f=e.split(" "),g=RO.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?f[0].length+2:n.lineIndent||0){var m=Array(l).join(" "),v=[];f.map((function(e){(e=e.split(/\s*\n/)).length>1?v=v.concat(e.map((function(e,t){return(t&&e.length?"\n":"")+e}))):v.push(e[0])})),f=v,l=kO.apply(this,[m,n])}for(o=0,s=f.length;o<s;o++){var y=0;if(r=f[o],l&&"\n"==r[0]&&(r=r.substr(1),y=1),h+d+(p=(i=RO.apply(this,[r,n])).reduce((function(e,t){return e+t}),0))>t||y){if(p>t){for(a=NO.apply(this,[r,i,t-(h+d),t]),c.push(a.shift()),c=[a.pop()];a.length;)u.push([a.shift()]);p=i.slice(r.length-(c[0]?c[0].length:0)).reduce((function(e,t){return e+t}),0)}else c=[r];u.push(c),h=p+l,d=g}else c.push(r),h+=d+p,d=g}return A=l?function(e,t){return(t?m:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(A)},UO.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,l,A=[];for(a=0,l=r.length;a<l;a++)A=A.concat(DO.apply(this,[r[a],s,o]));return A},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<16;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var o=function(e){return"0x"+parseInt(e,10).toString(16)},s=e.__fontmetrics__.compress=function(e){var t,n,i,a,l=["{"];for(var A in e){if(t=e[A],isNaN(parseInt(A,10))?n="'"+A+"'":(A=parseInt(A,10),n=(n=o(A).slice(2)).slice(0,-1)+r[n.slice(-1)]),"number"==typeof t)t<0?(i=o(t).slice(3),a="-"):(i=o(t).slice(2),a=""),i=a+i.slice(0,-1)+r[i.slice(-1)];else{if("object"!==(0,eN.A)(t))throw new Error("Don't know what to do with value type "+(0,eN.A)(t)+".");i=s(t)}l.push(n+i)}return l.push("}"),l.join("")},a=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,i,o,s={},a=1,l=s,A=[],c="",u="",h=e.length-1,d=1;d<h;d+=1)"'"==(o=e[d])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(o):"{"==o?(A.push([l,i]),l={},i=void 0):"}"==o?((r=A.pop())[0][r[1]]=l,i=void 0,l=r[0]):"-"==o?a=-1:void 0===i?n.hasOwnProperty(o)?(c+=n[o],i=parseInt(c,16)*a,a=1,c=""):c+=o:n.hasOwnProperty(o)?(u+=n[o],l[i]=parseInt(u,16)*a,a=1,i=void 0,u=""):u+=o;return s},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=c.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=A.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(ED.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===o.existsFileInVFS(i.postScriptName)?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(eD(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(i,r)}}])}(ED),function(){function e(){return(qN.canvg?Promise.resolve(qN.canvg):n.e(732).then(n.bind(n,3732))).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}ED.API.addSvgAsImage=function(t,n,r,i,o,s,a,l){if(isNaN(n)||isNaN(r))throw YN.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw YN.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=i,A.height=o;var c=A.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,A.width,A.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then((function(e){return e.fromString(c,t,u)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(e){return e.render(u)})).then((function(){h.addImage(A.toDataURL("image/jpeg",1),n,r,i,o,a,l)}))}}(),ED.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},ED.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],A=0,c=0,u=0;function h(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var d=a.length;for(u=0;u<d;u+=1)n[a[u]].value=n[a[u]].defaultValue,n[a[u]].explicitSet=!1}if("object"===(0,eN.A)(e))for(i in e)if(o=e[i],h(a,i)&&void 0!==o){if("boolean"===n[i].type&&"boolean"==typeof o)n[i].value=o;else if("name"===n[i].type&&h(n[i].valueSet,o))n[i].value=o;else if("integer"===n[i].type&&Number.isInteger(o))n[i].value=o;else if("array"===n[i].type){for(A=0;A<o.length;A+=1)if(r=!0,1===o[A].length&&"number"==typeof o[A][0])l.push(String(o[A]-1));else if(o[A].length>1){for(c=0;c<o[A].length;c+=1)"number"!=typeof o[A][c]&&(r=!1);!0===r&&l.push([o[A][0]-1,o[A][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),s=n.length+r.length+i.length+t.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+i+o),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(ED.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,i=["","0","00","000","0000"],o=[""],s=0,a=e.length;s<a;++s){if(n=t.metadata.characterToGlyph(e.charCodeAt(s)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(s),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return o.join("");n=n.toString(16),o.push(i[4-n.length],n)}return o.join("")},r=function(e){var t,n,r,i,o,s,a;for(o="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],s=0,a=(n=Object.keys(e).sort((function(e,t){return e-t}))).length;s<a;s++)t=n[s],r.length>=100&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(i=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+i+">"));return r.length&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),o+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,o=t.newObject,s=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var a=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),A="",c=0;c<l.length;c++)A+=String.fromCharCode(l[c]);var u=o();s({data:A,addLength1:!0,objectId:u}),i("endobj");var h=o();s({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var d=o();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+wD(n.fontName)),i("/FontFile2 "+u+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var p=o();i("<<"),i("/Type /Font"),i("/BaseFont /"+wD(n.fontName)),i("/FontDescriptor "+d+" 0 R"),i("/W "+e.API.PDFObject.convert(a)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=o(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+h+" 0 R"),i("/BaseFont /"+wD(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+p+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,o=t.newObject,s=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var a=n.metadata.rawData,l="",A=0;A<a.length;A++)l+=String.fromCharCode(a[A]);var c=o();s({data:l,addLength1:!0,objectId:c}),i("endobj");var u=o();s({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),i("endobj");var h=o();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+c+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+wD(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=o();for(var d=0;d<n.metadata.hmtx.widths.length;d++)n.metadata.hmtx.widths[d]=parseInt(n.metadata.hmtx.widths[d]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+wD(n.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]);var i=function(e){var t,r=e.text||"",i=e.x,o=e.y,s=e.options||{},a=e.mutex||{},l=a.pdfEscape,A=a.activeFontKey,c=a.fonts,u=A,h="",d=0,p="",f=c[u].encoding;if("Identity-H"!==c[u].encoding)return{text:r,x:i,y:o,options:s,mutex:a};for(p=r,u=A,Array.isArray(r)&&(p=r[0]),d=0;d<p.length;d+=1)c[u].metadata.hasOwnProperty("cmap")&&(t=c[u].metadata.cmap.unicode.codeMap[p[d].charCodeAt(0)]),t||p[d].charCodeAt(0)<256&&c[u].metadata.hasOwnProperty("Unicode")?h+=p[d]:h+="";var g="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===f?g=l(h,u).split("").map((function(e){return e.charCodeAt(0).toString(16)})).join(""):"Identity-H"===f&&(g=n(h,c[u])),a.isHex=!0,{text:g,x:i,y:o,options:s,mutex:a}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var o=0;for(o=0;o<t.length;o+=1)Array.isArray(t[o])&&3===t[o].length?n.push([i(Object.assign({},r,{text:t[o][0]})).text,t[o][1],t[o][2]]):n.push(i(Object.assign({},r,{text:t[o]})).text);e.text=n}else e.text=i(Object.assign({},r,{text:t})).text}])}(ED),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(ED.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,i,o,s,a,l,A=t,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},d={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],f=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,m=0;this.__bidiEngine__={};var v=function(e){var t=e.charCodeAt(),n=t>>8,r=d[n];return void 0!==r?A[256*r+(255&t)]:252===n||253===n?"AL":f.test(n)?"L":8===n?"R":"N"},y=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=v(e.charAt(n))))return!1;if("R"===t)return!0}return!1},b=function(e,t,s,a){var l,A,c,u,h=t[a];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":a<1||a+1>=t.length||"EN"!==(l=s[a-1])&&"AN"!==l||"EN"!==(A=t[a+1])&&"AN"!==A?h="N":g&&(A="AN"),h=A===l?A:"N";break;case"ES":h="EN"===(l=a>0?s[a-1]:"B")&&a+1<t.length&&"EN"===t[a+1]?"EN":"N";break;case"ET":if(a>0&&"EN"===s[a-1]){h="EN";break}if(g){h="N";break}for(c=a+1,u=t.length;c<u&&"ET"===t[c];)c++;h=c<u&&"EN"===t[c]?"EN":"N";break;case"NSM":if(i&&!o){for(u=t.length,c=a+1;c<u&&"NSM"===t[c];)c++;if(c<u){var d=e[a],p=d>=1425&&d<=2303||64286===d;if(l=t[c],p&&("R"===l||"AL"===l)){h="R";break}}}h=a<1||"B"===(l=t[a-1])?"N":s[a-1];break;case"B":g=!1,n=!0,h=m;break;case"S":r=!0,h="N"}return h},w=function(e,t,n){var r=e.split("");return n&&x(r,n,{hiLevel:m}),r.reverse(),t&&t.reverse(),r.join("")},x=function(e,t,i){var o,s,a,l,A,d=-1,p=e.length,f=0,y=[],w=m?u:c,x=[];for(g=!1,n=!1,r=!1,s=0;s<p;s++)x[s]=v(e[s]);for(a=0;a<p;a++){if(A=f,y[a]=b(e,x,y,a),o=240&(f=w[A][h[y[a]]]),f&=15,t[a]=l=w[f][5],o>0)if(16===o){for(s=d;s<a;s++)t[s]=1;d=-1}else d=-1;if(w[f][6])-1===d&&(d=a);else if(d>-1){for(s=d;s<a;s++)t[s]=l;d=-1}"B"===x[a]&&(t[a]=0),i.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=m;for(var i=r-1;i>=0&&"WS"===e[i];i--)t[i]=m}}(x,t,p)},_=function(e,t,r,i,o){if(!(o.hiLevel<e)){if(1===e&&1===m&&!n)return t.reverse(),void(r&&r.reverse());for(var s,a,l,A,c=t.length,u=0;u<c;){if(i[u]>=e){for(l=u+1;l<c&&i[l]>=e;)l++;for(A=u,a=l-1;A<a;A++,a--)s=t[A],t[A]=t[a],t[a]=s,r&&(s=r[A],r[A]=r[a],r[a]=s);u=l}u++}}},S=function(e,t,n){var r=e.split(""),i={hiLevel:m};return n||(n=[]),x(r,n,i),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,i=0;i<e.length;i++)1===t[i]&&(r=p.indexOf(e[i]))>=0&&(e[i]=p[r+1])}(r,n,i),_(2,r,t,n,i),_(1,r,t,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===o&&(o=y(e)),void 0===a&&(a=y(e))}(e,t),i||!s||a)if(i&&s&&o^a)m=o?1:0,e=w(e,t,n);else if(!i&&s&&a)m=o?1:0,e=S(e,t,n),e=w(e,t);else if(!i||o||s||a){if(i&&!s&&o^a)e=w(e,t),o?(m=0,e=S(e,t,n)):(m=1,e=S(e,t,n),e=w(e,t));else if(i&&o&&!s&&a)m=1,e=S(e,t,n),e=w(e,t);else if(!i&&!s&&o^a){var r=l;o?(m=1,e=S(e,t,n),m=0,l=!1,e=S(e,t,n),l=r):(m=0,e=S(e,t,n),e=w(e,t),m=1,l=!1,e=S(e,t,n),l=r,e=w(e,t))}}else m=0,e=S(e,t,n);else m=o?1:0,e=S(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,s=e.isOutputVisual,o=e.isInputRtl,a=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,r=(e.x,e.y,e.options||{}),i=(e.mutex,r.lang,[]);if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var o=0;for(i=[],o=0;o<t.length;o+=1)"[object Array]"===Object.prototype.toString.call(t[o])?i.push([n.doBidiReorder(t[o][0]),t[o][1],t[o][2]]):i.push([n.doBidiReorder(t[o])]);e.text=i}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(ED),ED.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new GO(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new uQ(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new KO(this.contents),this.head=new YO(this),this.name=new rQ(this),this.cmap=new JO(this),this.toUnicode={},this.hhea=new ZO(this),this.maxp=new iQ(this),this.hmtx=new oQ(this),this.post=new tQ(this),this.os2=new eQ(this),this.loca=new cQ(this),this.glyf=new aQ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,i;for(i=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],i.push(Math.round(e*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),0!=(32768&(t=r>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,i,o,s;for(o=0,i=0,s=(e=""+e).length;0<=s?i<s:i>s;i=0<=s?++i:--i)r=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return o*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var WO,GO=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,i,o,s,a;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^o)+256*(255^s)+(255^a)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*i+65536*o+256*s+a},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.writeByte(t));return i},e}(),KO=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,i,o,s,a,l,A,c,u,h,d,p;for(p in h=Object.keys(t).length,a=Math.log(2),c=16*Math.floor(Math.log(h)/a),o=Math.floor(c/a),A=16*h-c,(r=new GO).writeInt(this.scalarType),r.writeShort(h),r.writeShort(c),r.writeShort(o),r.writeShort(A),i=16*h,l=r.pos+i,s=null,d=[],t)for(u=t[p],r.writeString(p),r.writeInt(e(u)),r.writeInt(l),r.writeInt(u.length),d=d.concat(u),"head"===p&&(s=l),l+=u.length;l%4;)d.push(0),l++;return r.write(d),n=2981146554-e(r.data),r.pos=s+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,i;for(e=sQ.call(e);e.length%4;)e.push(0);for(r=new GO(e),n=0,t=0,i=e.length;t<i;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),qO={}.hasOwnProperty,XO=function(e,t){for(var n in t)qO.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};WO=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var YO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return XO(e,WO),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new GO).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),$O=function(){function e(e,t){var n,r,i,o,s,a,l,A,c,u,h,d,p,f,g,m,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),c=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=e.readByte();break;case 4:for(h=e.readUInt16(),u=h/2,e.pos+=6,i=function(){var t,n;for(n=[],a=t=0;0<=u?t<u:t>u;a=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,p=function(){var t,n;for(n=[],a=t=0;0<=u?t<u:t>u;a=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],a=t=0;0<=u?t<u:t>u;a=0<=u?++t:--t)n.push(e.readUInt16());return n}(),A=function(){var t,n;for(n=[],a=t=0;0<=u?t<u:t>u;a=0<=u?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,s=function(){var t,n;for(n=[],a=t=0;0<=r?t<r:t>r;a=0<=r?++t:--t)n.push(e.readUInt16());return n}(),a=g=0,v=i.length;g<v;a=++g)for(f=i[a],n=m=d=p[a];d<=f?m<=f:m>=f;n=d<=f?++m:--m)0===A[a]?o=n+l[a]:0!==(o=s[A[a]/2+(n-d)-(u-a)]||0)&&(o+=l[a]),this.codeMap[n]=65535&o}e.pos=c}return e.encode=function(e,t){var n,r,i,o,s,a,l,A,c,u,h,d,p,f,g,m,v,y,b,w,x,_,S,C,B,E,M,T,F,I,L,P,U,R,k,N,D,O,Q,H,z,j,V,W,G,K;switch(T=new GO,o=Object.keys(e).sort((function(e,t){return e-t})),t){case"macroman":for(p=0,f=function(){var e=[];for(d=0;d<256;++d)e.push(0);return e}(),m={0:0},i={},F=0,U=o.length;F<U;F++)null==m[V=e[r=o[F]]]&&(m[V]=++p),i[r]={old:e[r],new:m[e[r]]},f[r]=m[e[r]];return T.writeUInt16(1),T.writeUInt16(0),T.writeUInt32(12),T.writeUInt16(0),T.writeUInt16(262),T.writeUInt16(0),T.write(f),{charMap:i,subtable:T.data,maxGlyphID:p+1};case"unicode":for(E=[],c=[],v=0,m={},n={},g=l=null,I=0,R=o.length;I<R;I++)null==m[b=e[r=o[I]]]&&(m[b]=++v),n[r]={old:b,new:m[b]},s=m[b]-r,null!=g&&s===l||(g&&c.push(g),E.push(r),l=s),g=r;for(g&&c.push(g),c.push(65535),E.push(65535),C=2*(S=E.length),_=2*Math.pow(Math.log(S)/Math.LN2,2),u=Math.log(_/2)/Math.LN2,x=2*S-_,a=[],w=[],h=[],d=L=0,k=E.length;L<k;d=++L){if(B=E[d],A=c[d],65535===B){a.push(0),w.push(0);break}if(B-(M=n[B].new)>=32768)for(a.push(0),w.push(2*(h.length+S-d)),r=P=B;B<=A?P<=A:P>=A;r=B<=A?++P:--P)h.push(n[r].new);else a.push(M-B),w.push(0)}for(T.writeUInt16(3),T.writeUInt16(1),T.writeUInt32(12),T.writeUInt16(4),T.writeUInt16(16+8*S+2*h.length),T.writeUInt16(0),T.writeUInt16(C),T.writeUInt16(_),T.writeUInt16(u),T.writeUInt16(x),z=0,N=c.length;z<N;z++)r=c[z],T.writeUInt16(r);for(T.writeUInt16(0),j=0,D=E.length;j<D;j++)r=E[j],T.writeUInt16(r);for(W=0,O=a.length;W<O;W++)s=a[W],T.writeUInt16(s);for(G=0,Q=w.length;G<Q;G++)y=w[G],T.writeUInt16(y);for(K=0,H=h.length;K<H;K++)p=h[K],T.writeUInt16(p);return{charMap:n,subtable:T.data,maxGlyphID:v+1}}},e}(),JO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return XO(e,WO),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new $O(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=$O.encode(e,t),(r=new GO).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),ZO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return XO(e,WO),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),eQ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return XO(e,WO),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),tQ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return XO(e,WO),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],i=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;i=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),nQ=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},rQ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return XO(e,WO),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,i,o,s,a,l,A,c,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),s=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(a={},i=A=0,c=n.length;A<c;i=++A)r=n[i],e.pos=r.offset,l=e.readString(r.length),o=new nQ(l,r),null==a[u=r.nameID]&&(a[u]=[]),a[r.nameID].push(o);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},e}(),iQ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return XO(e,WO),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),oQ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return XO(e,WO),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,i,o,s,a;for(e.pos=this.offset,this.metrics=[],t=0,s=this.file.hhea.numberOfMetrics;0<=s?t<s:t>s;t=0<=s?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(e.readInt16());return i}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)i=n[e],r.push(i.advance);return r}.call(this),n=this.widths[this.widths.length-1],a=[],t=o=0;0<=r?o<r:o>r;t=0<=r?++o:--o)a.push(this.widths.push(n));return a},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),sQ=[].slice,aQ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return XO(e,WO),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,i,o,s,a,l,A,c;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,n=i.indexOf(e),0===(r=i.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,o=(s=new GO(t.read(r))).readShort(),l=s.readShort(),c=s.readShort(),a=s.readShort(),A=s.readShort(),this.cache[e]=-1===o?new AQ(s,l,c,a,A):new lQ(s,o,l,c,a,A),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,i,o,s,a;for(o=[],i=[],s=0,a=t.length;s<a;s++)r=e[t[s]],i.push(o.length),r&&(o=o.concat(r.encode(n)));return i.push(o.length),{table:o,offsets:i}},e}(),lQ=function(){function e(e,t,n,r,i,o){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),AQ=function(){function e(e,t,n,r,i){var o,s;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new GO(sQ.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),cQ=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return XO(e,WO),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,o=0;o<n.length;++o)if(n[o]=r,i<t.length&&t[i]==o){++i,n[o]=r;var s=this.offsets[o],a=this.offsets[o+1]-s;a>0&&(r+=a)}for(var l=new Array(4*n.length),A=0;A<n.length;++A)l[4*A+3]=255&n[A],l[4*A+2]=(65280&n[A])>>8,l[4*A+1]=(16711680&n[A])>>16,l[4*A]=(4278190080&n[A])>>24;return l},e}(),uQ=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,i;for(t in r=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,i,o,s,a;for(r={},o=0,s=e.length;o<s;o++)r[i=e[o]]=this.font.glyf.glyphFor(i);for(i in t=[],r)(null!=(n=r[i])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in a=this.glyphsFor(t))n=a[i],r[i]=n;return r},e.prototype.encode=function(e,t){var n,r,i,o,s,a,l,A,c,u,h,d,p,f,g;for(r in n=JO.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},g=n.charMap)h[(a=g[r]).old]=a.new;for(d in u=n.maxGlyphID,o)d in h||(h[d]=u++);return A=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),c=Object.keys(A).sort((function(e,t){return e-t})),p=function(){var e,t,n;for(n=[],e=0,t=c.length;e<t;e++)s=c[e],n.push(A[s]);return n}(),i=this.font.glyf.encode(o,p,h),l=this.font.loca.encode(i.offsets,p),f={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(f["OS/2"]=this.font.os2.raw()),this.font.directory.encode(f)},e}();ED.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,i,o,s;if(Array.isArray(n))return"["+function(){var e,i,o;for(o=[],e=0,i=n.length;e<i;e++)r=n[e],o.push(t.convert(r));return o}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in o=["<<"],n)s=n[i],o.push("/"+i+" "+t.convert(s));return o.push(">>"),o.join("\n")}return""+n},t}();const hQ=ED;var dQ=n(5239),pQ=n.n(dQ);const fQ=e=>{let{heartRateData:t,hrvData:n,runningAverageHRV:r,tags:i,sessionName:o,totalTime:s,onConnectNewDevice:a}=e;const l=(t.reduce(((e,t)=>e+t),0)/t.length).toFixed(2),A=(n.reduce(((e,t)=>e+t),0)/n.length).toFixed(2),c=300,u=n.slice(0,c).reduce(((e,t)=>e+t),0)/Math.min(c,n.length),h=n.slice(-300).reduce(((e,t)=>e+t),0)/Math.min(c,n.length),d=e=>{const t=Math.max(...e),n=Math.min(...e);return{max:t,min:n,maxIndex:e.indexOf(t),minIndex:e.indexOf(n)}},p=d(t),f=d(n),m=(e=>{const t=e.filter((e=>e>0));if(0===t.length)return{min:0,minIndex:-1};const n=Math.min(...t);return{min:n,minIndex:e.indexOf(n)}})(n),v={maxHR:p.max,minHR:p.min,maxHRIndex:p.maxIndex,minHRIndex:p.minIndex,maxHRV:f.max,minHRV:m.min,maxHRVIndex:f.maxIndex,minHRVIndex:m.minIndex,averageHR:l,averageHRV:A};return(0,g.jsxs)(C,{sx:{width:"100%",padding:"16px",boxSizing:"border-box"},children:[(0,g.jsxs)(wt,{container:!0,spacing:2,sx:{marginTop:2,width:"100%",paddingX:"16px",boxSizing:"border-box"},id:"summary-content",children:[(0,g.jsx)(ze,{variant:"h4",gutterBottom:!0,children:"Session Summary"}),(0,g.jsx)(wt,{item:!0,xs:12,children:(0,g.jsx)(Bt,{children:(0,g.jsx)(It,{children:(0,g.jsxs)(wt,{container:!0,spacing:2,children:[(0,g.jsx)(wt,{item:!0,xs:12,sm:6,children:(0,g.jsxs)(ze,{variant:"h5",gutterBottom:!0,children:["Session name: ",o]})}),(0,g.jsx)(wt,{item:!0,xs:12,sm:6,children:(0,g.jsxs)(ze,{variant:"h5",gutterBottom:!0,children:["Total time: ",s]})})]})})})}),(0,g.jsx)(wt,{item:!0,xs:12,children:(0,g.jsx)(Bt,{children:(0,g.jsx)(It,{children:(0,g.jsxs)(wt,{container:!0,spacing:2,children:[(0,g.jsxs)(wt,{item:!0,xs:12,sm:6,md:3,textAlign:"center",children:[(0,g.jsx)(ze,{variant:"body1",children:"Average Heart Rate (BPM)"}),(0,g.jsx)(ze,{variant:"h4",mb:2,children:l}),(0,g.jsx)(ze,{variant:"body1",children:"Average HRV (RMSSD)"}),(0,g.jsx)(ze,{variant:"h4",children:A})]}),(0,g.jsxs)(wt,{item:!0,xs:12,sm:6,md:3,textAlign:"center",children:[(0,g.jsx)(ze,{variant:"body1",children:"First 5 Minutes HRV"}),(0,g.jsx)(ze,{variant:"h4",mb:2,children:u.toFixed(2)}),(0,g.jsx)(ze,{variant:"body1",children:"Last 5 Minutes HRV"}),(0,g.jsx)(ze,{variant:"h4",children:h.toFixed(2)})]}),(0,g.jsxs)(wt,{item:!0,xs:12,sm:6,md:3,textAlign:"center",children:[(0,g.jsx)(ze,{variant:"body1",children:"Max Heart Rate"}),(0,g.jsx)(ze,{variant:"h4",mb:2,children:v.maxHR}),(0,g.jsx)(ze,{variant:"body1",children:"Min Heart Rate"}),(0,g.jsx)(ze,{variant:"h4",children:v.minHR})]}),(0,g.jsxs)(wt,{item:!0,xs:12,sm:6,md:3,textAlign:"center",children:[(0,g.jsx)(ze,{variant:"body1",children:"Max HRV"}),(0,g.jsx)(ze,{variant:"h4",mb:2,children:v.maxHRV}),(0,g.jsx)(ze,{variant:"body1",children:"Min HRV"}),(0,g.jsx)(ze,{variant:"h4",children:v.minHRV})]})]})})})}),(0,g.jsx)(wt,{item:!0,xs:12,children:(0,g.jsx)(Bt,{children:(0,g.jsx)(It,{children:(0,g.jsx)(Zk,{heartRateData:t,hrvData:n,runningAverageHRV:r,tags:i,maxMinData:v,isSummary:!0})})})}),(0,g.jsx)(wt,{item:!0,xs:12,children:(0,g.jsx)(Bt,{children:(0,g.jsx)(It,{children:(0,g.jsxs)(C,{children:[(0,g.jsx)(ze,{variant:"h6",children:"Tags"}),(0,g.jsx)(Is,{component:N,sx:{boxShadow:"none"},children:(0,g.jsxs)(Ds,{children:[(0,g.jsx)(Gs,{children:(0,g.jsxs)(Zs,{children:[(0,g.jsx)(oa,{children:"Time Elapsed"}),(0,g.jsx)(oa,{children:"Heart Rate (BPM)"}),(0,g.jsx)(oa,{children:"HRV"}),(0,g.jsx)(oa,{children:"Type"}),(0,g.jsx)(oa,{children:"Comments"})]})}),(0,g.jsx)(ha,{children:i.map(((e,t)=>(0,g.jsxs)(Zs,{children:[(0,g.jsx)(oa,{children:e.time}),(0,g.jsx)(oa,{children:e.heartRate}),(0,g.jsx)(oa,{children:e.hrv}),(0,g.jsx)(oa,{sx:{color:e.color},children:e.type}),(0,g.jsx)(oa,{children:e.comments})]},t)))})]})})]})})})})]}),(0,g.jsxs)(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4},children:[(0,g.jsx)(Go,{variant:"contained",color:"primary",onClick:()=>{const e=document.getElementById("summary-content");pQ()(e).then((e=>{const t=e.toDataURL("image/png"),n=new hQ("p","mm","a4"),r=n.getImageProperties(t),i=n.internal.pageSize.getWidth(),o=r.height*i/r.width;n.addImage(t,"PNG",0,0,i,o),n.save("session_summary.pdf")}))},sx:{marginRight:2},children:"Download"}),(0,g.jsx)(Go,{variant:"contained",color:"primary",onClick:a,children:"Connect New Device"})]})]})};const gQ=t.createContext(null);function mQ(){return t.useContext(gQ)}const vQ="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const yQ=function(e){const{children:n,theme:r}=e,i=mQ(),s=t.useMemo((()=>{const e=null===i?r:function(e,t){if("function"===typeof t)return t(e);return(0,o.A)({},e,t)}(i,r);return null!=e&&(e[vQ]=null!==i),e}),[r,i]);return(0,g.jsx)(gQ.Provider,{value:s,children:n})};var bQ=n(3654);const wQ={};function xQ(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.useMemo((()=>{const t=e&&n[e]||n;if("function"===typeof r){const s=r(t),a=e?(0,o.A)({},n,{[e]:s}):s;return i?()=>a:a}return e?(0,o.A)({},n,{[e]:r}):(0,o.A)({},n,r)}),[e,n,r,i])}const _Q=function(e){const{children:t,theme:n,themeId:r}=e,i=d(wQ),o=mQ()||wQ,s=xQ(r,i,n),a=xQ(r,o,n,!0),l="rtl"===s.direction;return(0,g.jsx)(yQ,{theme:a,children:(0,g.jsx)(h.T.Provider,{value:s,children:(0,g.jsx)(si,{value:l,children:(0,g.jsx)(bQ.A,{value:null==s?void 0:s.components,children:t})})})})},SQ=["theme"];function CQ(e){let{theme:t}=e,n=(0,s.A)(e,SQ);const r=t[b.A];return(0,g.jsx)(_Q,(0,o.A)({},n,{themeId:r?b.A:void 0,theme:r||t}))}const BQ=(e,t)=>(0,o.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),EQ=e=>(0,o.A)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const MQ=function(e){const n=(0,M.b)({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:i=!1}=n;return(0,g.jsxs)(t.Fragment,{children:[(0,g.jsx)(Gn,{styles:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((t=>{let[n,i]=t;var o;r[e.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(o=i.palette)?void 0:o.mode}}));let i=(0,o.A)({html:BQ(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,o.A)({margin:0},EQ(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const s=null==(n=e.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return s&&(i=[i,s]),i}(e,i)}),r]})};function TQ(e,n,r,i,o){const[s,a]=t.useState((()=>o&&r?r(e).matches:i?i(e).matches:n));return(0,Kt.A)((()=>{let t=!0;if(!r)return;const n=r(e),i=()=>{t&&a(n.matches)};return i(),n.addListener(i),()=>{t=!1,n.removeListener(i)}}),[e,r]),s}const FQ=r.useSyncExternalStore;function IQ(e,n,r,i,o){const s=t.useCallback((()=>n),[n]),a=t.useMemo((()=>{if(o&&r)return()=>r(e).matches;if(null!==i){const{matches:t}=i(e);return()=>t}return s}),[s,e,i,o,r]),[l,A]=t.useMemo((()=>{if(null===r)return[s,()=>()=>{}];const t=r(e);return[()=>t.matches,e=>(t.addListener(e),()=>{t.removeListener(e)})]}),[s,r,e]);return FQ(A,l,a)}function LQ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=d(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:i=!1,matchMedia:o=(r?window.matchMedia:null),ssrMatchMedia:s=null,noSsr:a=!1}=function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,Ro.A)(t.components[n].defaultProps,r):r}({name:"MuiUseMediaQuery",props:t,theme:n});let l="function"===typeof e?e(n):e;l=l.replace(/^@media( ?)/m,"");return(void 0!==FQ?IQ:TQ)(l,i,o,s,a)}const PQ=(0,t.createContext)(),UQ=e=>{let{children:n}=e;const r=LQ("(prefers-color-scheme: dark)"),[i,o]=(0,t.useState)(r),s=(0,t.useMemo)((()=>(0,y.A)({palette:{mode:i?"dark":"light"},components:{MuiCssBaseline:{styleOverrides:{body:{backgroundColor:i?"#303030":"#ffffff"}}}}})),[i]),a=ae.AH`
    body {
      background-color: ${i?"#303030":"#ffffff"};
    }
  `;return(0,g.jsx)(PQ.Provider,{value:{darkMode:i,toggleDarkMode:()=>{o((e=>!e))}},children:(0,g.jsx)(h.a,{theme:s,children:(0,g.jsxs)(CQ,{theme:s,children:[(0,g.jsx)(MQ,{}),(0,g.jsx)(ae.mL,{styles:a}),n]})})})};var RQ,kQ;!function(e){e[e.SCAN_MODE_LOW_POWER=0]="SCAN_MODE_LOW_POWER",e[e.SCAN_MODE_BALANCED=1]="SCAN_MODE_BALANCED",e[e.SCAN_MODE_LOW_LATENCY=2]="SCAN_MODE_LOW_LATENCY"}(RQ||(RQ={})),function(e){e[e.CONNECTION_PRIORITY_BALANCED=0]="CONNECTION_PRIORITY_BALANCED",e[e.CONNECTION_PRIORITY_HIGH=1]="CONNECTION_PRIORITY_HIGH",e[e.CONNECTION_PRIORITY_LOW_POWER=2]="CONNECTION_PRIORITY_LOW_POWER"}(kQ||(kQ={}));var NQ=n(5403),DQ=n(9402);const OQ=(0,NQ.F3)("BluetoothLe",{web:()=>n.e(344).then(n.bind(n,2344)).then((e=>new e.BluetoothLeWeb))});function QQ(e){return e?(()=>{let e=Promise.resolve();return t=>new Promise(((n,r)=>{e=e.then((()=>t())).then(n).catch(r)}))})():e=>e()}function HQ(e){if("string"!==typeof e)throw new Error(`Invalid UUID type ${typeof e}. Expected string.`);if(!((e=e.toLowerCase()).search(/^[0-9a-f]{8}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{12}$/)>=0))throw new Error(`Invalid UUID format ${e}. Expected 128 bit string (e.g. "0000180d-0000-1000-8000-00805f9b34fb").`);return e}const zQ=new class{constructor(){this.scanListener=null,this.eventListeners=new Map,this.queue=QQ(!0)}enableQueue(){this.queue=QQ(!0)}disableQueue(){this.queue=QQ(!1)}async initialize(e){await this.queue((async()=>{await OQ.initialize(e)}))}async isEnabled(){return await this.queue((async()=>(await OQ.isEnabled()).value))}async requestEnable(){await this.queue((async()=>{await OQ.requestEnable()}))}async enable(){await this.queue((async()=>{await OQ.enable()}))}async disable(){await this.queue((async()=>{await OQ.disable()}))}async startEnabledNotifications(e){await this.queue((async()=>{var t;const n="onEnabledChanged";await(null===(t=this.eventListeners.get(n))||void 0===t?void 0:t.remove());const r=await OQ.addListener(n,(t=>{e(t.value)}));this.eventListeners.set(n,r),await OQ.startEnabledNotifications()}))}async stopEnabledNotifications(){await this.queue((async()=>{var e;const t="onEnabledChanged";await(null===(e=this.eventListeners.get(t))||void 0===e?void 0:e.remove()),this.eventListeners.delete(t),await OQ.stopEnabledNotifications()}))}async isLocationEnabled(){return await this.queue((async()=>(await OQ.isLocationEnabled()).value))}async openLocationSettings(){await this.queue((async()=>{await OQ.openLocationSettings()}))}async openBluetoothSettings(){await this.queue((async()=>{await OQ.openBluetoothSettings()}))}async openAppSettings(){await this.queue((async()=>{await OQ.openAppSettings()}))}async setDisplayStrings(e){await this.queue((async()=>{await OQ.setDisplayStrings(e)}))}async requestDevice(e){e=e?this.validateRequestBleDeviceOptions(e):void 0;return await this.queue((async()=>await OQ.requestDevice(e)))}async requestLEScan(e,t){e=this.validateRequestBleDeviceOptions(e),await this.queue((async()=>{var n;await(null===(n=this.scanListener)||void 0===n?void 0:n.remove()),this.scanListener=await OQ.addListener("onScanResult",(e=>{const n=Object.assign(Object.assign({},e),{manufacturerData:this.convertObject(e.manufacturerData),serviceData:this.convertObject(e.serviceData),rawAdvertisement:e.rawAdvertisement?this.convertValue(e.rawAdvertisement):void 0});t(n)})),await OQ.requestLEScan(e)}))}async stopLEScan(){await this.queue((async()=>{var e;await(null===(e=this.scanListener)||void 0===e?void 0:e.remove()),this.scanListener=null,await OQ.stopLEScan()}))}async getDevices(e){if(!Array.isArray(e))throw new Error("deviceIds must be an array");return this.queue((async()=>(await OQ.getDevices({deviceIds:e})).devices))}async getConnectedDevices(e){if(!Array.isArray(e))throw new Error("services must be an array");return e=e.map(HQ),this.queue((async()=>(await OQ.getConnectedDevices({services:e})).devices))}async connect(e,t,n){await this.queue((async()=>{var r;if(t){const n=`disconnected|${e}`;await(null===(r=this.eventListeners.get(n))||void 0===r?void 0:r.remove());const i=await OQ.addListener(n,(()=>{t(e)}));this.eventListeners.set(n,i)}await OQ.connect(Object.assign({deviceId:e},n))}))}async createBond(e,t){await this.queue((async()=>{await OQ.createBond(Object.assign({deviceId:e},t))}))}async isBonded(e){return await this.queue((async()=>(await OQ.isBonded({deviceId:e})).value))}async disconnect(e){await this.queue((async()=>{await OQ.disconnect({deviceId:e})}))}async getServices(e){return await this.queue((async()=>(await OQ.getServices({deviceId:e})).services))}async discoverServices(e){await this.queue((async()=>{await OQ.discoverServices({deviceId:e})}))}async getMtu(e){return await this.queue((async()=>(await OQ.getMtu({deviceId:e})).value))}async requestConnectionPriority(e,t){await this.queue((async()=>{await OQ.requestConnectionPriority({deviceId:e,connectionPriority:t})}))}async readRssi(e){return await this.queue((async()=>{const t=await OQ.readRssi({deviceId:e});return parseFloat(t.value)}))}async read(e,t,n,r){t=HQ(t),n=HQ(n);return await this.queue((async()=>{const i=await OQ.read(Object.assign({deviceId:e,service:t,characteristic:n},r));return this.convertValue(i.value)}))}async write(e,t,n,r,i){return t=HQ(t),n=HQ(n),this.queue((async()=>{if(!(null===r||void 0===r?void 0:r.buffer))throw new Error("Invalid data.");let o=r;"web"!==NQ.Ii.getPlatform()&&(o=(0,DQ.pX)(r)),await OQ.write(Object.assign({deviceId:e,service:t,characteristic:n,value:o},i))}))}async writeWithoutResponse(e,t,n,r,i){t=HQ(t),n=HQ(n),await this.queue((async()=>{if(!(null===r||void 0===r?void 0:r.buffer))throw new Error("Invalid data.");let o=r;"web"!==NQ.Ii.getPlatform()&&(o=(0,DQ.pX)(r)),await OQ.writeWithoutResponse(Object.assign({deviceId:e,service:t,characteristic:n,value:o},i))}))}async readDescriptor(e,t,n,r,i){t=HQ(t),n=HQ(n),r=HQ(r);return await this.queue((async()=>{const o=await OQ.readDescriptor(Object.assign({deviceId:e,service:t,characteristic:n,descriptor:r},i));return this.convertValue(o.value)}))}async writeDescriptor(e,t,n,r,i,o){return t=HQ(t),n=HQ(n),r=HQ(r),this.queue((async()=>{if(!(null===i||void 0===i?void 0:i.buffer))throw new Error("Invalid data.");let s=i;"web"!==NQ.Ii.getPlatform()&&(s=(0,DQ.pX)(i)),await OQ.writeDescriptor(Object.assign({deviceId:e,service:t,characteristic:n,descriptor:r,value:s},o))}))}async startNotifications(e,t,n,r){t=HQ(t),n=HQ(n),await this.queue((async()=>{var i;const o=`notification|${e}|${t}|${n}`;await(null===(i=this.eventListeners.get(o))||void 0===i?void 0:i.remove());const s=await OQ.addListener(o,(e=>{r(this.convertValue(null===e||void 0===e?void 0:e.value))}));this.eventListeners.set(o,s),await OQ.startNotifications({deviceId:e,service:t,characteristic:n})}))}async stopNotifications(e,t,n){t=HQ(t),n=HQ(n),await this.queue((async()=>{var r;const i=`notification|${e}|${t}|${n}`;await(null===(r=this.eventListeners.get(i))||void 0===r?void 0:r.remove()),this.eventListeners.delete(i),await OQ.stopNotifications({deviceId:e,service:t,characteristic:n})}))}validateRequestBleDeviceOptions(e){return e.services&&(e.services=e.services.map(HQ)),e.optionalServices&&(e.optionalServices=e.optionalServices.map(HQ)),e}convertValue(e){return"string"===typeof e?(0,DQ.BR)(e):void 0===e?new DataView(new ArrayBuffer(0)):e}convertObject(e){if(void 0===e)return;const t={};for(const n of Object.keys(e))t[n]=this.convertValue(e[n]);return t}},jQ="0000180d-0000-1000-8000-00805f9b34fb",VQ="00002a37-0000-1000-8000-00805f9b34fb";let WQ,GQ,KQ,qQ;const XQ=e=>{const t=e.byteLength;if(t<2)return null;let n;if(1&e.getUint8(0)){if(!(t>=3))return null;n=e.getUint16(1,!0)}else n=e.getUint8(1);return n},YQ=e=>{if(!e||e.byteLength<3)return[];let t=[];if((16&e.getUint8(0))>>4){let n=2;for(;n+2<=e.byteLength;){const r=e.getUint16(n,!0);t.push(r/1024*1e3),n+=2}}return t},$Q=()=>/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),JQ=async e=>$Q()?(async e=>{try{return await zQ.initialize(),WQ=await zQ.requestDevice({services:[jQ]}),await zQ.connect(WQ.deviceId,(()=>{})),await zQ.startNotifications(WQ.deviceId,jQ,VQ,(t=>{if(!(t instanceof DataView))return;const n=XQ(t),r=YQ(t);console.log("Heart Rate:",n),console.log("RR Values:",r),e({heartRateValue:n,rrValues:r})})),{device:WQ}}catch(pE){throw console.error("Error connecting device:",pE),pE}})(e):(async e=>{try{return WQ=await navigator.bluetooth.requestDevice({filters:[{services:[jQ]}],optionalServices:[jQ]}),GQ=await WQ.gatt.connect(),KQ=await GQ.getPrimaryService(jQ),qQ=await KQ.getCharacteristic(VQ),await qQ.startNotifications(),qQ.addEventListener("characteristicvaluechanged",e),{device:WQ,server:GQ,service:KQ,characteristic:qQ}}catch(pE){throw console.error("Error connecting device:",pE),pE}})(e),ZQ=(e,t,n,r,i)=>{let o,s;if($Q())o=e.heartRateValue,s=e.rrValues||[];else{const t=e.target.value;if(!t)return void console.error("Evento o valor de notificaci\xf3n inv\xe1lido");o=(e=>{if(!e||e.byteLength<2)return null;let t;if(1&e.getUint8(0)){if(!(e.byteLength>=3))return null;t=e.getUint16(1,!0)}else t=e.getUint8(1);return t})(t),s=(e=>{if(!e||e.byteLength<3)return[];let t=[];if((16&e.getUint8(0))>>4){let n=2;for(;n+2<=e.byteLength;){const r=e.getUint16(n,!0);t.push(r/1024*1e3),n+=2}}return t})(t)}s=s.map((e=>Math.round(100*e)/100)),null!==o?(t(o),r((e=>[...e,o])),n((e=>[...e,...s.map((e=>[e,Date.now()]))])),eH(s,n,i)):console.error("No se pudo obtener el valor de la frecuencia card\xedaca.")},eH=(e,t,n)=>{t((t=>{Array.isArray(e)||(e=[e]);const r=Date.now(),i=[...t,...e.map((e=>[e,r]))].filter((e=>{let[,t]=e;return r-t<=15e3})),o=(e=>e.length<3?e:e.filter(((e,t,n)=>0===t||e>.8*n[t-1]&&e<1.2*n[t-1])))(i.map((e=>{let[t]=e;return t}))),s=(e=>{if(e.length<2)return null;const t=e.slice(1).map(((t,n)=>t-e[n])),n=t.map((e=>e**2)),r=n.reduce(((e,t)=>e+t),0)/n.length;return Math.sqrt(r)})(o);if(null!==s){const e=(e=>Math.min(100,Math.max(0,(e-0)/6.5*100)))(Math.log(s)),t=Math.round(100*e)/100;n((e=>[...e,t]))}return i}))},tH=!1,nH=!1,rH="${JSCORE_VERSION}",iH=function(e,t){if(!e)throw oH(t)},oH=function(e){return new Error("Firebase Database ("+rH+") INTERNAL ASSERT FAILED: "+e)},sH=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},aH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,A=t>>2,c=(3&t)<<4|s>>4;let u=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(u=64)),r.push(n[A],n[c],n[u],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(sH(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new lH;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class lH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AH=function(e){const t=sH(e);return aH.encodeByteArray(t,!0)},cH=function(e){return AH(e).replace(/\./g,"")},uH=function(e){try{return aH.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function hH(e){return dH(void 0,e)}function dH(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=dH(e[n],t[n]));return e}const pH=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,fH=()=>{try{return pH()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/BioSense-SPA",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&uH(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},gH=e=>{const t=(e=>{var t,n;return null===(n=null===(t=fH())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},mH=()=>{var e;return null===(e=fH())||void 0===e?void 0:e.config};class vH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function yH(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function bH(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yH())}function wH(){return!0===tH||!0===nH}class xH extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,xH.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_H.prototype.create)}}class _H{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(SH,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new xH(n,o,t)}}const SH=/\{\$([^}]+)}/g;function CH(e){return JSON.parse(e)}function BH(e){return JSON.stringify(e)}const EH=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=CH(uH(o[0])||""),n=CH(uH(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function MH(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function TH(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function FH(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function IH(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function LH(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(PH(n)&&PH(o)){if(!LH(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PH(e){return null!==e&&"object"===typeof e}class UH{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let c=0;c<16;c++)n[c]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let c=0;c<16;c++)n[c]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let c=16;c<80;c++){const e=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],A=this.chain_[4];for(let c=0;c<80;c++){c<40?c<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):c<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+A+i+n[c]&4294967295;A=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+A&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function RH(e,t){return`${e} failed: ${t} argument `}const kH=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function NH(e){return e&&e._delegate?e._delegate:e}class DH{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const OH="[DEFAULT]";class QH{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new vH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:OH})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OH;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OH;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OH;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(eE){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HH(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(eE){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OH;return this.component?this.component.multipleInstances?e:OH:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function HH(e){return e===OH?void 0:e}class zH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new QH(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const jH=[];var VH;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(VH||(VH={}));const WH={debug:VH.DEBUG,verbose:VH.VERBOSE,info:VH.INFO,warn:VH.WARN,error:VH.ERROR,silent:VH.SILENT},GH=VH.INFO,KH={[VH.DEBUG]:"log",[VH.VERBOSE]:"log",[VH.INFO]:"info",[VH.WARN]:"warn",[VH.ERROR]:"error"},qH=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=KH[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r](`[${n}]  ${e.name}:`,...o)};class XH{constructor(e){this.name=e,this._logLevel=GH,this._logHandler=qH,this._userLogHandler=null,jH.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in VH))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?WH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,VH.DEBUG,...t),this._logHandler(this,VH.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,VH.VERBOSE,...t),this._logHandler(this,VH.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,VH.INFO,...t),this._logHandler(this,VH.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,VH.WARN,...t),this._logHandler(this,VH.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,VH.ERROR,...t),this._logHandler(this,VH.ERROR,...t)}}const YH=(e,t)=>t.some((t=>e instanceof t));let $H,JH;const ZH=new WeakMap,ez=new WeakMap,tz=new WeakMap,nz=new WeakMap,rz=new WeakMap;let iz={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ez.get(e);if("objectStoreNames"===t)return e.objectStoreNames||tz.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return az(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function oz(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(JH||(JH=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(lz(this),n),az(ZH.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return az(e.apply(lz(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(lz(this),t,...r);return tz.set(o,t.sort?t.sort():[t]),az(o)}}function sz(e){return"function"===typeof e?oz(e):(e instanceof IDBTransaction&&function(e){if(ez.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));ez.set(e,t)}(e),YH(e,$H||($H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,iz):e)}function az(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(az(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&ZH.set(t,e)})).catch((()=>{})),rz.set(t,e),t}(e);if(nz.has(e))return nz.get(e);const t=sz(e);return t!==e&&(nz.set(e,t),rz.set(t,e)),t}const lz=e=>rz.get(e);const Az=["get","getKey","getAll","getAllKeys","count"],cz=["put","add","delete","clear"],uz=new Map;function hz(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(uz.get(t))return uz.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=cz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Az.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return uz.set(t,o),o}!function(e){iz=e(iz)}((e=>({...e,get:(t,n,r)=>hz(t,n)||e.get(t,n,r),has:(t,n)=>!!hz(t,n)||e.has(t,n)})));class dz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const pz="@firebase/app",fz="0.10.10",gz=new XH("@firebase/app"),mz="@firebase/app-compat",vz="@firebase/analytics-compat",yz="@firebase/analytics",bz="@firebase/app-check-compat",wz="@firebase/app-check",xz="@firebase/auth",_z="@firebase/auth-compat",Sz="@firebase/database",Cz="@firebase/database-compat",Bz="@firebase/functions",Ez="@firebase/functions-compat",Mz="@firebase/installations",Tz="@firebase/installations-compat",Fz="@firebase/messaging",Iz="@firebase/messaging-compat",Lz="@firebase/performance",Pz="@firebase/performance-compat",Uz="@firebase/remote-config",Rz="@firebase/remote-config-compat",kz="@firebase/storage",Nz="@firebase/storage-compat",Dz="@firebase/firestore",Oz="@firebase/vertexai-preview",Qz="@firebase/firestore-compat",Hz="firebase",zz="[DEFAULT]",jz={[pz]:"fire-core",[mz]:"fire-core-compat",[yz]:"fire-analytics",[vz]:"fire-analytics-compat",[wz]:"fire-app-check",[bz]:"fire-app-check-compat",[xz]:"fire-auth",[_z]:"fire-auth-compat",[Sz]:"fire-rtdb",[Cz]:"fire-rtdb-compat",[Bz]:"fire-fn",[Ez]:"fire-fn-compat",[Mz]:"fire-iid",[Tz]:"fire-iid-compat",[Fz]:"fire-fcm",[Iz]:"fire-fcm-compat",[Lz]:"fire-perf",[Pz]:"fire-perf-compat",[Uz]:"fire-rc",[Rz]:"fire-rc-compat",[kz]:"fire-gcs",[Nz]:"fire-gcs-compat",[Dz]:"fire-fst",[Qz]:"fire-fst-compat",[Oz]:"fire-vertex","fire-js":"fire-js",[Hz]:"fire-js-all"},Vz=new Map,Wz=new Map,Gz=new Map;function Kz(e,t){try{e.container.addComponent(t)}catch(n){gz.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function qz(e){const t=e.name;if(Gz.has(t))return gz.debug(`There were multiple attempts to register component ${t}.`),!1;Gz.set(t,e);for(const n of Vz.values())Kz(n,e);for(const n of Wz.values())Kz(n,e);return!0}function Xz(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Yz=new _H("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class $z{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new DH("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yz.create("app-deleted",{appName:this._name})}}function Jz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:zz,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Yz.create("bad-app-name",{appName:String(i)});if(n||(n=mH()),!n)throw Yz.create("no-options");const o=Vz.get(i);if(o){if(LH(n,o.options)&&LH(r,o.config))return o;throw Yz.create("duplicate-app",{appName:i})}const s=new zH(i);for(const l of Gz.values())s.addComponent(l);const a=new $z(n,r,s);return Vz.set(i,a),a}function Zz(e,t,n){var r;let i=null!==(r=jz[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void gz.warn(e.join(" "))}qz(new DH(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const ej="firebase-heartbeat-database",tj=1,nj="firebase-heartbeat-store";let rj=null;function ij(){return rj||(rj=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=az(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(az(s.result),e.oldVersion,e.newVersion,az(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(ej,tj,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(nj)}catch(n){console.warn(n)}}}).catch((e=>{throw Yz.create("idb-open",{originalErrorMessage:e.message})}))),rj}async function oj(e,t){try{const n=(await ij()).transaction(nj,"readwrite"),r=n.objectStore(nj);await r.put(t,sj(e)),await n.done}catch(n){if(n instanceof xH)gz.warn(n.message);else{const e=Yz.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});gz.warn(e.message)}}}function sj(e){return`${e.name}!${e.options.appId}`}class aj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Aj(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=lj();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(n){gz.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=lj(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),cj(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cj(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=cH(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return gz.warn(t),""}}}function lj(){return(new Date).toISOString().substring(0,10)}class Aj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(pE){t(pE)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ij()).transaction(nj),n=await t.objectStore(nj).get(sj(e));return await t.done,n}catch(t){if(t instanceof xH)gz.warn(t.message);else{const e=Yz.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});gz.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return oj(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return oj(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function cj(e){return cH(JSON.stringify({version:2,heartbeats:e})).length}var uj;uj="",qz(new DH("platform-logger",(e=>new dz(e)),"PRIVATE")),qz(new DH("heartbeat",(e=>new aj(e)),"PRIVATE")),Zz(pz,fz,uj),Zz(pz,fz,"esm2017"),Zz("fire-js","");Zz("firebase","10.13.1","app");const hj="@firebase/database",dj="1.0.7";let pj="";function fj(e){pj=e}class gj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),BH(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:CH(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class mj{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return MH(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const vj=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new gj(t)}}catch(t){}return new mj},yj=vj("localStorage"),bj=vj("sessionStorage"),wj=new XH("@firebase/database"),xj=function(){let e=1;return function(){return e++}}(),_j=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,iH(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new UH;n.update(t);const r=n.digest();return aH.encodeByteArray(r)},Sj=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Sj.apply(null,n):e+="object"===typeof n?BH(n):n,e+=" "}return e};let Cj=null,Bj=!0;const Ej=function(e,t){iH(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(wj.logLevel=VH.VERBOSE,Cj=wj.log.bind(wj),t&&bj.set("logging_enabled",!0)):"function"===typeof e?Cj=e:(Cj=null,bj.remove("logging_enabled"))},Mj=function(){if(!0===Bj&&(Bj=!1,null===Cj&&!0===bj.get("logging_enabled")&&Ej(!0)),Cj){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Sj.apply(null,t);Cj(r)}},Tj=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Mj(e,...n)}},Fj=function(){const e="FIREBASE INTERNAL ERROR: "+Sj(...arguments);wj.error(e)},Ij=function(){const e=`FIREBASE FATAL ERROR: ${Sj(...arguments)}`;throw wj.error(e),new Error(e)},Lj=function(){const e="FIREBASE WARNING: "+Sj(...arguments);wj.warn(e)},Pj=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Uj="[MIN_NAME]",Rj="[MAX_NAME]",kj=function(e,t){if(e===t)return 0;if(e===Uj||t===Rj)return-1;if(t===Uj||e===Rj)return 1;{const n=Vj(e),r=Vj(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Nj=function(e,t){return e===t?0:e<t?-1:1},Dj=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+BH(t))},Oj=function(e){if("object"!==typeof e||null===e)return BH(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=BH(t[r]),n+=":",n+=Oj(e[t[r]]);return n+="}",n},Qj=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Hj(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const zj=function(e){iH(!Pj(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let A="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),A+=e}return A.toLowerCase()};const jj=new RegExp("^-?(0*)\\d{1,10}$"),Vj=function(e){if(jj.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Wj=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw Lj("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Gj=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Kj{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){Lj(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qj{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(Mj("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Lj(e)}}class Xj{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Xj.OWNER="owner";const Yj="5",$j=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jj="ac",Zj="websocket",eV="long_polling";class tV{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yj.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yj.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function nV(e,t,n){let r;if(iH("string"===typeof t,"typeof type must == string"),iH("object"===typeof n,"typeof params must == object"),t===Zj)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==eV)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Hj(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class rV{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;MH(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return hH(this.counters_)}}const iV={},oV={};function sV(e){const t=e.toString();return iV[t]||(iV[t]=new rV),iV[t]}class aV{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Wj((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const lV="start";class AV{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Tj(e),this.stats_=sV(t),this.urlFn=e=>(this.appCheckToken&&(e[Jj]=this.appCheckToken),nV(t,eV,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new aV(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(wH()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new cV((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===lV)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[lV]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Yj,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Jj]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&$j.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){AV.forceAllow_=!0}static forceDisallow(){AV.forceDisallow_=!0}static isAvailable(){return!wH()&&(!!AV.forceAllow_||!AV.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=BH(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=AH(t),r=Qj(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(wH())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=BH(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class cV{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,wH())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=xj(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=cV.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){Mj("frame writing exception"),i.stack&&Mj(i.stack),Mj(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Mj("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){wH()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Mj("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let uV=null;"undefined"!==typeof MozWebSocket?uV=MozWebSocket:"undefined"!==typeof WebSocket&&(uV=WebSocket);class hV{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Tj(this.connId),this.stats_=sV(t),this.connURL=hV.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=Yj,!wH()&&"undefined"!==typeof location&&location.hostname&&$j.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[Jj]=r),i&&(o.p=i),nV(e,Zj,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yj.set("previous_websocket_failure",!0);try{let e;if(wH()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/${Yj}/${pj}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/BioSense-SPA",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new uV(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){hV.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==uV&&!hV.forceDisallow_}static previouslyFailed(){return yj.isInMemoryStorage||!0===yj.get("previous_websocket_failure")}markConnectionHealthy(){yj.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=CH(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(iH(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=BH(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Qj(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}hV.responsesRequiredToBeHealthy=2,hV.healthyTimeout=3e4;class dV{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[AV,hV]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=hV&&hV.isAvailable();let n=t&&!hV.previouslyFailed();if(e.webSocketOnly&&(t||Lj("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[hV];else{const e=this.transports_=[];for(const t of dV.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);dV.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}dV.globalTransportInitialized_=!1;class pV{constructor(e,t,n,r,i,o,s,a,l,A){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=A,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Tj("c:"+this.id+":"),this.transportManager_=new dV(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Gj((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Dj("t",e),n=Dj("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Dj("t",e),n=Dj("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Dj("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Fj("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fj("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Yj!==n&&Lj("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Gj((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gj((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yj.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class fV{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class gV{constructor(e){this.allowedEvents_=e,this.listeners_={},iH(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){iH(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class mV extends gV{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||bH()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new mV}getInitialEvent(e){return iH("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const vV=32,yV=768;class bV{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function wV(){return new bV("")}function xV(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function _V(e){return e.pieces_.length-e.pieceNum_}function SV(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new bV(e.pieces_,t)}function CV(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function BV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function EV(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new bV(t,0)}function MV(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof bV)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new bV(n,0)}function TV(e){return e.pieceNum_>=e.pieces_.length}function FV(e,t){const n=xV(e),r=xV(t);if(null===n)return t;if(n===r)return FV(SV(e),SV(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function IV(e,t){const n=BV(e,0),r=BV(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=kj(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function LV(e,t){if(_V(e)!==_V(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function PV(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(_V(e)>_V(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class UV{constructor(e,t){this.errorPrefix_=t,this.parts_=BV(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=kH(this.parts_[n]);RV(this)}}function RV(e){if(e.byteLength_>yV)throw new Error(e.errorPrefix_+"has a key path longer than "+yV+" bytes ("+e.byteLength_+").");if(e.parts_.length>vV)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+vV+") or object contains a cycle "+kV(e))}function kV(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class NV extends gV{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new NV}getInitialEvent(e){return iH("visible"===e,"Unknown event type: "+e),[this.visible_]}}const DV=1e3;class OV extends fV{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=OV.nextPersistentConnectionId_++,this.log_=Tj("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=DV,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!wH())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");NV.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&mV.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(BH(i)),iH(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new vH,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),iH(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),iH(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;OV.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&MH(e,"w")){const n=TH(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Lj(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=EH(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=EH(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),iH(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+BH(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Fj("Unrecognized action received from server: "+BH(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){iH(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=DV,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=DV,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=DV),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+OV.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){iH(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const A=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(A),this.appCheckTokenProvider_.getToken(A)]);o?Mj("getToken() completed but was canceled"):(Mj("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new pV(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{Lj(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(pE){this.log_("Failed to get token: "+pE),o||(this.repoInfo_.nodeAdmin&&Lj(pE),a())}}}interrupt(e){Mj("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Mj("Resuming connection for reason: "+e),delete this.interruptReasons_[e],FH(this.interruptReasons_)&&(this.reconnectDelay_=DV,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Oj(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new bV(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Mj("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Mj("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";wH()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+pj.replace(/\./g,"-")]=1,bH()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=mV.getInstance().currentlyOnline();return FH(this.interruptReasons_)&&e}}OV.nextPersistentConnectionId_=0,OV.nextConnectionId_=0;class QV{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new QV(e,t)}}class HV{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new QV(Uj,e),r=new QV(Uj,t);return 0!==this.compare(n,r)}minPost(){return QV.MIN}}let zV;class jV extends HV{static get __EMPTY_NODE(){return zV}static set __EMPTY_NODE(e){zV=e}compare(e,t){return kj(e.name,t.name)}isDefinedOn(e){throw oH("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return QV.MIN}maxPost(){return new QV(Rj,zV)}makePost(e,t){return iH("string"===typeof e,"KeyIndex indexValue must always be a string."),new QV(e,zV)}toString(){return".key"}}const VV=new jV;class WV{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class GV{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:GV.RED,this.left=null!=r?r:KV.EMPTY_NODE,this.right=null!=i?i:KV.EMPTY_NODE}copy(e,t,n,r,i){return new GV(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return KV.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return KV.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,GV.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,GV.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}GV.RED=!0,GV.BLACK=!1;class KV{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KV.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new KV(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,GV.BLACK,null,null))}remove(e){return new KV(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,GV.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new WV(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new WV(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new WV(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new WV(this.root_,null,this.comparator_,!0,e)}}function qV(e,t){return kj(e.name,t.name)}function XV(e,t){return kj(e,t)}let YV;KV.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new GV(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const $V=function(e){return"number"===typeof e?"number:"+zj(e):"string:"+e},JV=function(e){if(e.isLeafNode()){const t=e.val();iH("string"===typeof t||"number"===typeof t||"object"===typeof t&&MH(t,".sv"),"Priority must be a string or number.")}else iH(e===YV||e.isEmpty(),"priority of unexpected type.");iH(e===YV||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ZV,eW,tW;class nW{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nW.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,iH(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),JV(this.priorityNode_)}static set __childrenNodeConstructor(e){ZV=e}static get __childrenNodeConstructor(){return ZV}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new nW(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:nW.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return TV(e)?this:".priority"===xV(e)?this.priorityNode_:nW.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:nW.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=xV(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(iH(".priority"!==n||1===_V(e),".priority must be the last token in a path"),this.updateImmediateChild(n,nW.__childrenNodeConstructor.EMPTY_NODE.updateChild(SV(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+$V(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?zj(this.value_):this.value_,this.lazyHash_=_j(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===nW.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof nW.__childrenNodeConstructor?-1:(iH(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=nW.VALUE_TYPE_ORDER.indexOf(t),i=nW.VALUE_TYPE_ORDER.indexOf(n);return iH(r>=0,"Unknown leaf type: "+t),iH(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}nW.VALUE_TYPE_ORDER=["object","boolean","number","string"];const rW=new class extends HV{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?kj(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return QV.MIN}maxPost(){return new QV(Rj,new nW("[PRIORITY-POST]",tW))}makePost(e,t){const n=eW(e);return new QV(t,new nW("[PRIORITY-POST]",n))}toString(){return".priority"}},iW=Math.log(2);class oW{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/iW,10)),this.current_=this.count-1;const n=(e=>parseInt(Array(e+1).join("1"),2))(this.count);this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const sW=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new GV(a,s.node,GV.BLACK,null,null);{const l=parseInt(o/2,10)+t,A=i(t,l),c=i(l+1,r);return s=e[l],a=n?n(s):s,new GV(a,s.node,GV.BLACK,A,c)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const A=i(o+1,a),c=e[o],u=n?n(c):c;l(new GV(u,c.node,r,null,A))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,GV.BLACK):(a(r,GV.BLACK),a(r,GV.RED))}return o}(new oW(e.length));return new KV(r||t,o)};let aW;const lW={};class AW{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return iH(lW&&rW,"ChildrenNode.ts has not been loaded"),aW=aW||new AW({".priority":lW},{".priority":rW}),aW}get(e){const t=TH(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof KV?t:null}hasIndex(e){return MH(this.indexSet_,e.toString())}addIndex(e,t){iH(e!==VV,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(QV.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?sW(n,e.getCompare()):lW;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const A=Object.assign({},this.indexes_);return A[a]=o,new AW(A,l)}addToIndexes(e,t){const n=IH(this.indexes_,((n,r)=>{const i=TH(this.indexSet_,r);if(iH(i,"Missing index implementation for "+r),n===lW){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(QV.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),sW(n,i.getCompare())}return lW}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new QV(e.name,r))),i.insert(e,e.node)}}));return new AW(n,this.indexSet_)}removeFromIndexes(e,t){const n=IH(this.indexes_,(n=>{if(n===lW)return n;{const r=t.get(e.name);return r?n.remove(new QV(e.name,r)):n}}));return new AW(n,this.indexSet_)}}let cW;class uW{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&JV(this.priorityNode_),this.children_.isEmpty()&&iH(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return cW||(cW=new uW(new KV(XV),null,AW.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cW}updatePriority(e){return this.children_.isEmpty()?this:new uW(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?cW:t}}getChild(e){const t=xV(e);return null===t?this:this.getImmediateChild(t).getChild(SV(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(iH(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new QV(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?cW:this.priorityNode_;return new uW(r,o,i)}}updateChild(e,t){const n=xV(e);if(null===n)return t;{iH(".priority"!==xV(e)||1===_V(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(SV(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(rW,((o,s)=>{t[o]=s.val(e),n++,i&&uW.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+$V(this.getPriority().val())+":"),this.forEachChild(rW,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":_j(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new QV(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new QV(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new QV(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,QV.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,QV.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hW?-1:0}withIndex(e){if(e===VV||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new uW(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===VV||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(rW),n=t.getIterator(rW);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===VV?null:this.indexMap_.get(e.toString())}}uW.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const hW=new class extends uW{constructor(){super(new KV(XV),uW.EMPTY_NODE,AW.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return uW.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(QV,{MIN:{value:new QV(Uj,uW.EMPTY_NODE)},MAX:{value:new QV(Rj,hW)}}),jV.__EMPTY_NODE=uW.EMPTY_NODE,nW.__childrenNodeConstructor=uW,YV=hW,function(e){tW=e}(hW);const dW=!0;function pW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return uW.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),iH(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new nW(e,pW(t))}if(e instanceof Array||!dW){let n=uW.EMPTY_NODE;return Hj(e,((t,r)=>{if(MH(e,t)&&"."!==t.substring(0,1)){const e=pW(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(pW(t))}{const n=[];let r=!1;if(Hj(e,((e,t)=>{if("."!==e.substring(0,1)){const i=pW(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new QV(e,i)))}})),0===n.length)return uW.EMPTY_NODE;const i=sW(n,qV,(e=>e.name),XV);if(r){const e=sW(n,rW.getCompare());return new uW(i,pW(t),new AW({".priority":e},{".priority":rW}))}return new uW(i,pW(t),AW.Default)}}!function(e){eW=e}(pW);class fW extends HV{constructor(e){super(),this.indexPath_=e,iH(!TV(e)&&".priority"!==xV(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?kj(e.name,t.name):i}makePost(e,t){const n=pW(e),r=uW.EMPTY_NODE.updateChild(this.indexPath_,n);return new QV(t,r)}maxPost(){const e=uW.EMPTY_NODE.updateChild(this.indexPath_,hW);return new QV(Rj,e)}toString(){return BV(this.indexPath_,0).join("/")}}const gW=new class extends HV{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?kj(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return QV.MIN}maxPost(){return QV.MAX}makePost(e,t){const n=pW(e);return new QV(t,n)}toString(){return".value"}};function mW(e){return{type:"value",snapshotNode:e}}function vW(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function yW(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function bW(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class wW{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){iH(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(yW(t,s)):iH(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(vW(t,n)):o.trackChildChange(bW(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(rW,((e,r)=>{t.hasChild(e)||n.trackChildChange(yW(e,r))})),t.isLeafNode()||t.forEachChild(rW,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(bW(t,r,i))}else n.trackChildChange(vW(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?uW.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class xW{constructor(e){this.indexedFilter_=new wW(e.getIndex()),this.index_=e.getIndex(),this.startPost_=xW.getStartPost_(e),this.endPost_=xW.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new QV(t,n))||(n=uW.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=uW.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(uW.EMPTY_NODE);const i=this;return t.forEachChild(rW,((e,t)=>{i.matches(new QV(e,t))||(r=r.updateImmediateChild(e,uW.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class _W{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new xW(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new QV(t,n))||(n=uW.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=uW.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=uW.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(uW.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,uW.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;iH(s.numChildren()===this.limit_,"");const a=new QV(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),A=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let c=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=c&&(c.name===t||s.hasChild(c.name));)c=r.getChildAfterChild(this.index_,c,this.reverse_);const u=null==c?1:o(c,a);if(A&&!n.isEmpty()&&u>=0)return null!=i&&i.trackChildChange(bW(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(yW(t,e));const n=s.updateImmediateChild(t,uW.EMPTY_NODE);return null!=c&&this.rangedFilter_.matches(c)?(null!=i&&i.trackChildChange(vW(c.name,c.node)),n.updateImmediateChild(c.name,c.node)):n}}return n.isEmpty()?e:A&&o(l,a)>=0?(null!=i&&(i.trackChildChange(yW(l.name,l.node)),i.trackChildChange(vW(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,uW.EMPTY_NODE)):e}}class SW{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rW}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return iH(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return iH(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Uj}hasEnd(){return this.endSet_}getIndexEndValue(){return iH(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return iH(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Rj}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return iH(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rW}copy(){const e=new SW;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function CW(e){const t={};if(e.isDefault())return t;let n;if(e.index_===rW?n="$priority":e.index_===gW?n="$value":e.index_===VV?n="$key":(iH(e.index_ instanceof fW,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=BH(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=BH(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+BH(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=BH(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+BH(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function BW(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==rW&&(t.i=e.index_.toString()),t}class EW extends fV{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Tj("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(iH(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=EW.getListenId_(e,n),s={};this.listens_[o]=s;const a=CW(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),TH(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=EW.getListenId_(e,t);delete this.listens_[n]}get(e){const t=CW(e._queryParams),n=e._path.toString(),r=new vH;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=CH(a.responseText)}catch(e){Lj("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&Lj("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class MW{constructor(){this.rootNode_=uW.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function TW(){return{value:null,children:new Map}}function FW(e,t,n){if(TV(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=xV(t);e.children.has(r)||e.children.set(r,TW());FW(e.children.get(r),t=SV(t),n)}}function IW(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{IW(r,new bV(t.toString()+"/"+e),n)}))}class LW{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Hj(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class PW{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new LW(e);const n=1e4+2e4*Math.random();Gj(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Hj(e,((e,r)=>{r>0&&MH(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Gj(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var UW;function RW(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(UW||(UW={}));class kW{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=UW.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(TV(this.path)){if(null!=this.affectedTree.value)return iH(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new bV(e));return new kW(wV(),t,this.revert)}}return iH(xV(this.path)===e,"operationForChild called for unrelated child."),new kW(SV(this.path),this.affectedTree,this.revert)}}class NW{constructor(e,t){this.source=e,this.path=t,this.type=UW.LISTEN_COMPLETE}operationForChild(e){return TV(this.path)?new NW(this.source,wV()):new NW(this.source,SV(this.path))}}class DW{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=UW.OVERWRITE}operationForChild(e){return TV(this.path)?new DW(this.source,wV(),this.snap.getImmediateChild(e)):new DW(this.source,SV(this.path),this.snap)}}class OW{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=UW.MERGE}operationForChild(e){if(TV(this.path)){const t=this.children.subtree(new bV(e));return t.isEmpty()?null:t.value?new DW(this.source,wV(),t.value):new OW(this.source,wV(),t)}return iH(xV(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new OW(this.source,SV(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class QW{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(TV(e))return this.isFullyInitialized()&&!this.filtered_;const t=xV(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class HW{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function zW(e,t,n,r,i,o){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw oH("Should only compare child_ events.");const r=new QV(t.childName,t.snapshotNode),i=new QV(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function jW(e,t){return{eventCache:e,serverCache:t}}function VW(e,t,n,r){return jW(new QW(t,n,r),e.serverCache)}function WW(e,t,n,r){return jW(e.eventCache,new QW(t,n,r))}function GW(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function KW(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let qW;class XW{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(qW||(qW=new KV(Nj)),qW);this.value=e,this.children=t}static fromObject(e){let t=new XW(null);return Hj(e,((e,n)=>{t=t.set(new bV(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:wV(),value:this.value};if(TV(e))return null;{const n=xV(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(SV(e),t);if(null!=i){return{path:MV(new bV(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(TV(e))return this;{const t=xV(e),n=this.children.get(t);return null!==n?n.subtree(SV(e)):new XW(null)}}set(e,t){if(TV(e))return new XW(t,this.children);{const n=xV(e),r=(this.children.get(n)||new XW(null)).set(SV(e),t),i=this.children.insert(n,r);return new XW(this.value,i)}}remove(e){if(TV(e))return this.children.isEmpty()?new XW(null):new XW(null,this.children);{const t=xV(e),n=this.children.get(t);if(n){const r=n.remove(SV(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new XW(null):new XW(this.value,i)}return this}}get(e){if(TV(e))return this.value;{const t=xV(e),n=this.children.get(t);return n?n.get(SV(e)):null}}setTree(e,t){if(TV(e))return t;{const n=xV(e),r=(this.children.get(n)||new XW(null)).setTree(SV(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new XW(this.value,i)}}fold(e){return this.fold_(wV(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(MV(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,wV(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(TV(e))return null;{const r=xV(e),i=this.children.get(r);return i?i.findOnPath_(SV(e),MV(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,wV(),t)}foreachOnPath_(e,t,n){if(TV(e))return this;{this.value&&n(t,this.value);const r=xV(e),i=this.children.get(r);return i?i.foreachOnPath_(SV(e),MV(t,r),n):new XW(null)}}foreach(e){this.foreach_(wV(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(MV(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class YW{constructor(e){this.writeTree_=e}static empty(){return new YW(new XW(null))}}function $W(e,t,n){if(TV(t))return new YW(new XW(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=FV(i,t);return o=o.updateChild(s,n),new YW(e.writeTree_.set(i,o))}{const r=new XW(n),i=e.writeTree_.setTree(t,r);return new YW(i)}}}function JW(e,t,n){let r=e;return Hj(n,((e,n)=>{r=$W(r,MV(t,e),n)})),r}function ZW(e,t){if(TV(t))return YW.empty();{const n=e.writeTree_.setTree(t,new XW(null));return new YW(n)}}function eG(e,t){return null!=tG(e,t)}function tG(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(FV(n.path,t)):null}function nG(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(rW,((e,n)=>{t.push(new QV(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new QV(e,n.value))})),t}function rG(e,t){if(TV(t))return e;{const n=tG(e,t);return new YW(null!=n?new XW(n):e.writeTree_.subtree(t))}}function iG(e){return e.writeTree_.isEmpty()}function oG(e,t){return sG(wV(),e.writeTree_,t)}function sG(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(iH(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=sG(MV(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(MV(e,".priority"),r)),n}}function aG(e,t){return bG(t,e)}function lG(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));iH(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&AG(t,r.path)?i=!1:PV(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=uG(e.allWrites,cG,wV()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=ZW(e.visibleWrites,r.path);else{Hj(r.children,(t=>{e.visibleWrites=ZW(e.visibleWrites,MV(r.path,t))}))}return!0}return!1}function AG(e,t){if(e.snap)return PV(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&PV(MV(e.path,n),t))return!0;return!1}function cG(e){return e.visible}function uG(e,t,n){let r=YW.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)PV(n,e)?(t=FV(n,e),r=$W(r,t,o.snap)):PV(e,n)&&(t=FV(e,n),r=$W(r,wV(),o.snap.getChild(t)));else{if(!o.children)throw oH("WriteRecord should have .snap or .children");if(PV(n,e))t=FV(n,e),r=JW(r,t,o.children);else if(PV(e,n))if(t=FV(e,n),TV(t))r=JW(r,wV(),o.children);else{const e=TH(o.children,xV(t));if(e){const n=e.getChild(SV(t));r=$W(r,wV(),n)}}}}}return r}function hG(e,t,n,r,i){if(r||i){const o=rG(e.visibleWrites,t);if(!i&&iG(o))return n;if(i||null!=n||eG(o,wV())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(PV(e.path,t)||PV(t,e.path))};return oG(uG(e.allWrites,o,t),n||uW.EMPTY_NODE)}return null}{const r=tG(e.visibleWrites,t);if(null!=r)return r;{const r=rG(e.visibleWrites,t);if(iG(r))return n;if(null!=n||eG(r,wV())){return oG(r,n||uW.EMPTY_NODE)}return null}}}function dG(e,t,n,r){return hG(e.writeTree,e.treePath,t,n,r)}function pG(e,t){return function(e,t,n){let r=uW.EMPTY_NODE;const i=tG(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(rW,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=rG(e.visibleWrites,t);return n.forEachChild(rW,((e,t)=>{const n=oG(rG(i,new bV(e)),t);r=r.updateImmediateChild(e,n)})),nG(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return nG(rG(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function fG(e,t,n,r){return function(e,t,n,r,i){iH(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=MV(t,n);if(eG(e.visibleWrites,o))return null;{const t=rG(e.visibleWrites,o);return iG(t)?i.getChild(n):oG(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function gG(e,t){return function(e,t){return tG(e.visibleWrites,t)}(e.writeTree,MV(e.treePath,t))}function mG(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=rG(e.visibleWrites,t),A=tG(l,wV());if(null!=A)a=A;else{if(null==n)return[];a=oG(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function vG(e,t,n){return function(e,t,n,r){const i=MV(t,n),o=tG(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return oG(rG(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function yG(e,t){return bG(MV(e.treePath,t),e.writeTree)}function bG(e,t){return{treePath:e,writeTree:t}}class wG{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;iH("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),iH(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,bW(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,yW(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,vW(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw oH("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,bW(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const xG=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class _G{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new QW(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vG(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:KW(this.viewCache_),i=mG(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function SG(e,t,n,r,i){const o=new wG;let s,a;if(n.type===UW.OVERWRITE){const l=n;l.source.fromUser?s=EG(e,t,l.path,l.snap,r,i,o):(iH(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!TV(l.path),s=BG(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===UW.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,l)=>{const A=MV(n,r);MG(t,xV(A))&&(a=EG(e,a,A,l,i,o,s))})),r.foreach(((r,l)=>{const A=MV(n,r);MG(t,xV(A))||(a=EG(e,a,A,l,i,o,s))})),a}(e,t,l.path,l.children,r,i,o):(iH(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=FG(e,t,l.path,l.children,r,i,a,o))}else if(n.type===UW.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=gG(r,n))return t;{const a=new _G(r,t,i),l=t.eventCache.getNode();let A;if(TV(n)||".priority"===xV(n)){let n;if(t.serverCache.isFullyInitialized())n=dG(r,KW(t));else{const e=t.serverCache.getNode();iH(e instanceof uW,"serverChildren would be complete if leaf node"),n=pG(r,e)}A=e.filter.updateFullNode(l,n,o)}else{const i=xV(n);let c=vG(r,i,t.serverCache);null==c&&t.serverCache.isCompleteForChild(i)&&(c=l.getImmediateChild(i)),A=null!=c?e.filter.updateChild(l,i,c,SV(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,uW.EMPTY_NODE,SV(n),a,o):l,A.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=dG(r,KW(t)),s.isLeafNode()&&(A=e.filter.updateFullNode(A,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=gG(r,wV()),VW(t,A,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=gG(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(TV(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return BG(e,t,n,l.getNode().getChild(n),i,o,a,s);if(TV(n)){let r=new XW(null);return l.getNode().forEachChild(VV,((e,t)=>{r=r.set(new bV(e),t)})),FG(e,t,n,r,i,o,a,s)}return t}{let A=new XW(null);return r.foreach(((e,t)=>{const r=MV(n,e);l.isCompleteForPath(r)&&(A=A.set(e,l.getNode().getChild(r)))})),FG(e,t,n,A,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==UW.LISTEN_COMPLETE)throw oH("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=WW(t,o.getNode(),o.isFullyInitialized()||TV(n),o.isFiltered());return CG(e,s,n,r,xG,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=GW(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(mW(GW(t)))}}(t,s,l),{viewCache:s,changes:l}}function CG(e,t,n,r,i,o){const s=t.eventCache;if(null!=gG(r,n))return t;{let a,l;if(TV(n))if(iH(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=KW(t),i=pG(r,n instanceof uW?n:uW.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=dG(r,KW(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const A=xV(n);if(".priority"===A){iH(1===_V(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=fG(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const c=SV(n);let u;if(s.isCompleteForChild(A)){l=t.serverCache.getNode();const e=fG(r,n,s.getNode(),l);u=null!=e?s.getNode().getImmediateChild(A).updateChild(c,e):s.getNode().getImmediateChild(A)}else u=vG(r,A,t.serverCache);a=null!=u?e.filter.updateChild(s.getNode(),A,u,c,i,o):s.getNode()}}return VW(t,a,s.isFullyInitialized()||TV(n),e.filter.filtersNodes())}}function BG(e,t,n,r,i,o,s,a){const l=t.serverCache;let A;const c=s?e.filter:e.filter.getIndexedFilter();if(TV(n))A=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);A=c.updateFullNode(l.getNode(),e,null)}else{const e=xV(n);if(!l.isCompleteForPath(n)&&_V(n)>1)return t;const i=SV(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);A=".priority"===e?c.updatePriority(l.getNode(),o):c.updateChild(l.getNode(),e,o,i,xG,null)}const u=WW(t,A,l.isFullyInitialized()||TV(n),c.filtersNodes());return CG(e,u,n,i,new _G(i,u,o),a)}function EG(e,t,n,r,i,o,s){const a=t.eventCache;let l,A;const c=new _G(i,t,o);if(TV(n))A=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=VW(t,A,!0,e.filter.filtersNodes());else{const i=xV(n);if(".priority"===i)A=e.filter.updatePriority(t.eventCache.getNode(),r),l=VW(t,A,a.isFullyInitialized(),a.isFiltered());else{const o=SV(n),A=a.getNode().getImmediateChild(i);let u;if(TV(o))u=r;else{const e=c.getCompleteChild(i);u=null!=e?".priority"===CV(o)&&e.getChild(EV(o)).isEmpty()?e:e.updateChild(o,r):uW.EMPTY_NODE}if(A.equals(u))l=t;else{l=VW(t,e.filter.updateChild(a.getNode(),i,u,o,c,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function MG(e,t){return e.eventCache.isCompleteForChild(t)}function TG(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function FG(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,A=t;l=TV(n)?r:new XW(null).setTree(n,r);const c=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(c.hasChild(n)){const l=TG(0,t.serverCache.getNode().getImmediateChild(n),r);A=BG(e,A,new bV(n),l,i,o,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!l){const l=TG(0,t.serverCache.getNode().getImmediateChild(n),r);A=BG(e,A,new bV(n),l,i,o,s,a)}})),A}class IG{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new wW(n.getIndex()),i=(o=n).loadsAllData()?new wW(o.getIndex()):o.hasLimit()?new _W(o):new xW(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(uW.EMPTY_NODE,s.getNode(),null),A=i.updateFullNode(uW.EMPTY_NODE,a.getNode(),null),c=new QW(l,s.isFullyInitialized(),r.filtersNodes()),u=new QW(A,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=jW(u,c),this.eventGenerator_=new HW(this.query_)}get query(){return this.query_}}function LG(e,t){const n=KW(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!TV(t)&&!n.getImmediateChild(xV(t)).isEmpty())?n.getChild(t):null}function PG(e){return 0===e.eventRegistrations_.length}function UG(e,t,n){const r=[];if(n){iH(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function RG(e,t,n,r){t.type===UW.MERGE&&null!==t.source.queryId&&(iH(KW(e.viewCache_),"We should always have a full cache before handling merges"),iH(GW(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=SG(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,iH(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),iH(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),iH(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,kG(e,o.changes,o.viewCache.eventCache.getNode(),null)}function kG(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),zW(e,i,"child_removed",t,r,n),zW(e,i,"child_added",t,r,n),zW(e,i,"child_moved",o,r,n),zW(e,i,"child_changed",t,r,n),zW(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let NG,DG;class OG{constructor(){this.views=new Map}}function QG(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return iH(null!=o,"SyncTree gave us an op for an invalid query."),RG(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(RG(o,t,n,r));return i}}function HG(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=dG(n,i?r:null),o=!1;e?o=!0:r instanceof uW?(e=pG(n,r),o=!1):(e=uW.EMPTY_NODE,o=!1);const s=jW(new QW(e,o,!1),new QW(r,i,!1));return new IG(t,s)}return s}function zG(e,t,n,r,i,o){const s=HG(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(rW,((e,t)=>{r.push(vW(e,t))}));return n.isFullyInitialized()&&r.push(mW(n.getNode())),kG(e,r,n.getNode(),t)}(s,n)}function jG(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=qG(e);if("default"===i)for(const[l,A]of e.views.entries())s=s.concat(UG(A,n,r)),PG(A)&&(e.views.delete(l),A.query._queryParams.loadsAllData()||o.push(A.query));else{const t=e.views.get(i);t&&(s=s.concat(UG(t,n,r)),PG(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!qG(e)&&o.push(new(iH(NG,"Reference.ts has not been loaded"),NG)(t._repo,t._path)),{removed:o,events:s}}function VG(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function WG(e,t){let n=null;for(const r of e.views.values())n=n||LG(r,t);return n}function GG(e,t){if(t._queryParams.loadsAllData())return XG(e);{const n=t._queryIdentifier;return e.views.get(n)}}function KG(e,t){return null!=GG(e,t)}function qG(e){return null!=XG(e)}function XG(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let YG=1;class $G{constructor(e){this.listenProvider_=e,this.syncPointTree_=new XW(null),this.pendingWriteTree_={visibleWrites:YW.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function JG(e,t,n,r,i){return function(e,t,n,r,i){iH(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=$W(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?sK(e,new DW({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ZG(e,t,n,r){!function(e,t,n,r){iH(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=JW(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=XW.fromObject(n);return sK(e,new OW({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function eK(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(lG(e.pendingWriteTree_,t)){let t=new XW(null);return null!=r.snap?t=t.set(wV(),!0):Hj(r.children,(e=>{t=t.set(new bV(e),!0)})),sK(e,new kW(r.path,t,n))}return[]}function tK(e,t,n){return sK(e,new DW({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function nK(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||KG(s,t))){const l=jG(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const A=l.removed;if(a=l.events,!i){const n=-1!==A.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>qG(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&qG(t)){return[XG(t)]}{let e=[];return t&&(e=VG(t)),Hj(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=AK(e,r);e.listenProvider_.startListening(fK(i),cK(e,i),o.hashFn,o.onComplete)}}}if(!i&&A.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(fK(t),n)}else A.forEach((t=>{const n=e.queryToTagMap.get(uK(t));e.listenProvider_.stopListening(fK(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=uK(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,A)}return a}function rK(e,t,n,r){const i=hK(e,r);if(null!=i){const r=dK(i),o=r.path,s=r.queryId,a=FV(o,t);return pK(e,o,new DW(RW(s),a,n))}return[]}function iK(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=FV(e,i);o=o||WG(t,n),s=s||qG(t)}));let a,l=e.syncPointTree_.get(i);if(l?(s=s||qG(l),o=o||WG(l,wV())):(l=new OG,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o)a=!0;else{a=!1,o=uW.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=WG(t,wV());n&&(o=o.updateImmediateChild(e,n))}))}const A=KG(l,t);if(!A&&!t._queryParams.loadsAllData()){const n=uK(t);iH(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=YG++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let c=zG(l,t,n,aG(e.pendingWriteTree_,i),o,a);if(!A&&!s&&!r){const n=GG(l,t);c=c.concat(function(e,t,n){const r=t._path,i=cK(e,t),o=AK(e,n),s=e.listenProvider_.startListening(fK(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)iH(!qG(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!TV(e)&&t&&qG(t))return[XG(t).query];{let e=[];return t&&(e=e.concat(VG(t).map((e=>e.query)))),Hj(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(fK(r),cK(e,r))}}return s}(e,t,n))}return c}function oK(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=WG(n,FV(e,t));if(r)return r}));return hG(r,t,i,n,!0)}function sK(e,t){return aK(t,e.syncPointTree_,null,aG(e.pendingWriteTree_,wV()))}function aK(e,t,n,r){if(TV(e.path))return lK(e,t,n,r);{const i=t.get(wV());null==n&&null!=i&&(n=WG(i,wV()));let o=[];const s=xV(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=yG(r,s);o=o.concat(aK(a,l,e,t))}return i&&(o=o.concat(QG(i,e,r,n))),o}}function lK(e,t,n,r){const i=t.get(wV());null==n&&null!=i&&(n=WG(i,wV()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=yG(r,t),l=e.operationForChild(t);l&&(o=o.concat(lK(l,i,s,a)))})),i&&(o=o.concat(QG(i,e,r,n))),o}function AK(e,t){const n=t.query,r=cK(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||uW.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=hK(e,n);if(r){const n=dK(r),i=n.path,o=n.queryId,s=FV(i,t);return pK(e,i,new NW(RW(o),s))}return[]}(e,n._path,r):function(e,t){return sK(e,new NW({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return nK(e,n,null,r)}}}}function cK(e,t){const n=uK(t);return e.queryToTagMap.get(n)}function uK(e){return e._path.toString()+"$"+e._queryIdentifier}function hK(e,t){return e.tagToQueryMap.get(t)}function dK(e){const t=e.indexOf("$");return iH(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new bV(e.substr(0,t))}}function pK(e,t,n){const r=e.syncPointTree_.get(t);iH(r,"Missing sync point for query tag that we're tracking");return QG(r,n,aG(e.pendingWriteTree_,t),null)}function fK(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(iH(DG,"Reference.ts has not been loaded"),DG)(e._repo,e._path):e}class gK{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new gK(t)}node(){return this.node_}}class mK{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=MV(this.path_,e);return new mK(this.syncTree_,t)}node(){return oK(this.syncTree_,this.path_)}}const vK=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},yK=function(e,t,n){return e&&"object"===typeof e?(iH(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?bK(e[".sv"],t,n):"object"===typeof e[".sv"]?wK(e[".sv"],t):void iH(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},bK=function(e,t,n){if("timestamp"===e)return n.timestamp;iH(!1,"Unexpected server value: "+e)},wK=function(e,t,n){e.hasOwnProperty("increment")||iH(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&iH(!1,"Unexpected increment value: "+r);const i=t.node();if(iH(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},xK=function(e,t,n,r){return SK(t,new mK(n,e),r)},_K=function(e,t,n){return SK(e,new gK(t),n)};function SK(e,t,n){const r=e.getPriority().val(),i=yK(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=yK(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new nW(o,pW(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new nW(i))),r.forEachChild(rW,((e,r)=>{const i=SK(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class CK{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function BK(e,t){let n=t instanceof bV?t:new bV(t),r=e,i=xV(n);for(;null!==i;){const e=TH(r.node.children,i)||{children:{},childCount:0};r=new CK(i,r,e),n=SV(n),i=xV(n)}return r}function EK(e){return e.node.value}function MK(e,t){e.node.value=t,PK(e)}function TK(e){return e.node.childCount>0}function FK(e,t){Hj(e.node.children,((n,r)=>{t(new CK(n,e,r))}))}function IK(e,t,n,r){n&&!r&&t(e),FK(e,(e=>{IK(e,t,!0,r)})),n&&r&&t(e)}function LK(e){return new bV(null===e.parent?e.name:LK(e.parent)+"/"+e.name)}function PK(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===EK(e)&&!TK(e)}(n),i=MH(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,PK(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,PK(e))}(e.parent,e.name,e)}const UK=/[\[\].#$\/\u0000-\u001F\u007F]/,RK=/[\[\].#$\u0000-\u001F\u007F]/,kK=10485760,NK=function(e){return"string"===typeof e&&0!==e.length&&!UK.test(e)},DK=function(e){return"string"===typeof e&&0!==e.length&&!RK.test(e)},OK=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Pj(e)||e&&"object"===typeof e&&MH(e,".sv")},QK=function(e,t,n,r){r&&void 0===t||HK(RH(e,"value"),t,n)},HK=function(e,t,n){const r=n instanceof bV?new UV(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+kV(r));if("function"===typeof t)throw new Error(e+"contains a function "+kV(r)+" with contents = "+t.toString());if(Pj(t))throw new Error(e+"contains "+t.toString()+" "+kV(r));if("string"===typeof t&&t.length>kK/3&&kH(t)>kK)throw new Error(e+"contains a string greater than "+kK+" utf8 bytes "+kV(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(Hj(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!NK(t)))throw new Error(e+" contains an invalid key ("+t+") "+kV(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=kH(t),RV(e)}(r,t),HK(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=kH(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+kV(r)+" in addition to actual children.")}},zK=function(e,t,n,r){if(r&&void 0===t)return;const i=RH(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];Hj(t,((e,t)=>{const r=new bV(e);if(HK(i,t,MV(n,r)),".priority"===CV(r)&&!OK(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=BV(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!NK(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(IV);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&PV(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},jK=function(e,t,n,r){if((!r||void 0!==n)&&!DK(n))throw new Error(RH(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},VK=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),jK(e,t,n,r)},WK=function(e,t){if(".info"===xV(t))throw new Error(e+" failed = Can't modify data under /.info/")},GK=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!NK(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),DK(e)}(n))throw new Error(RH(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class KK{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function qK(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||LV(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function XK(e,t,n){qK(e,n),$K(e,(e=>LV(e,t)))}function YK(e,t,n){qK(e,n),$K(e,(e=>PV(e,t)||PV(t,e)))}function $K(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(JK(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function JK(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Cj&&Mj("event: "+n.toString()),Wj(r)}}}const ZK="repo_interrupt",eq=25;class tq{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=TW(),this.transactionQueueTree_=new CK,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function nq(e,t,n){if(e.stats_=sV(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new EW(e.repoInfo_,((t,n,r,i)=>{oq(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>sq(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{BH(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new OV(e.repoInfo_,t,((t,n,r,i)=>{oq(e,t,n,r,i)}),(t=>{sq(e,t)}),(t=>{!function(e,t){Hj(t,((t,n)=>{aq(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return oV[n]||(oV[n]=t()),oV[n]}(e.repoInfo_,(()=>new PW(e.stats_,e.server_))),e.infoData_=new MW,e.infoSyncTree_=new $G({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=tK(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),aq(e,"connected",!1),e.serverSyncTree_=new $G({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);YK(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function rq(e){const t=e.infoData_.getNode(new bV(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function iq(e){return vK({timestamp:rq(e)})}function oq(e,t,n,r,i){e.dataUpdateCount++;const o=new bV(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=IH(n,(e=>pW(e)));s=function(e,t,n,r){const i=hK(e,r);if(i){const r=dK(i),o=r.path,s=r.queryId,a=FV(o,t),l=XW.fromObject(n);return pK(e,o,new OW(RW(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=pW(n);s=rK(e.serverSyncTree_,o,t,i)}else if(r){const t=IH(n,(e=>pW(e)));s=function(e,t,n){const r=XW.fromObject(n);return sK(e,new OW({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=pW(n);s=tK(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=gq(e,o)),YK(e.eventQueue_,a,s)}function sq(e,t){aq(e,"connected",t),!1===t&&function(e){hq(e,"onDisconnectEvents");const t=iq(e),n=TW();IW(e.onDisconnect_,wV(),((r,i)=>{const o=xK(r,i,e.serverSyncTree_,t);FW(n,r,o)}));let r=[];IW(n,wV(),((t,n)=>{r=r.concat(tK(e.serverSyncTree_,t,n));const i=wq(e,t);gq(e,i)})),e.onDisconnect_=TW(),YK(e.eventQueue_,wV(),r)}(e)}function aq(e,t,n){const r=new bV("/.info/"+t),i=pW(n);e.infoData_.updateSnapshot(r,i);const o=tK(e.infoSyncTree_,r,i);YK(e.eventQueue_,r,o)}function lq(e){return e.nextWriteId_++}function Aq(e,t,n,r,i){hq(e,"set",{path:t.toString(),value:n,priority:r});const o=iq(e),s=pW(n,r),a=oK(e.serverSyncTree_,t),l=_K(s,a,o),A=lq(e),c=JG(e.serverSyncTree_,t,l,A,!0);qK(e.eventQueue_,c),e.server_.put(t.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||Lj("set at "+t+" failed: "+n);const s=eK(e.serverSyncTree_,A,!o);YK(e.eventQueue_,t,s),dq(e,i,n,r)}));const u=wq(e,t);gq(e,u),YK(e.eventQueue_,u,[])}function cq(e,t,n){let r;r=".info"===xV(t._path)?nK(e.infoSyncTree_,t,n):nK(e.serverSyncTree_,t,n),XK(e.eventQueue_,t._path,r)}function uq(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ZK)}function hq(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Mj(t,...r)}function dq(e,t,n,r){t&&Wj((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function pq(e,t,n){return oK(e.serverSyncTree_,t,n)||uW.EMPTY_NODE}function fq(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||bq(e,t),EK(t)){const n=vq(e,t);iH(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=pq(e,t,r);let o=i;const s=i.hash();for(let A=0;A<n.length;A++){const e=n[A];iH(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=FV(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{hq(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(eK(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();bq(e,BK(e.transactionQueueTree_,t)),fq(e,e.transactionQueueTree_),YK(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Wj(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Lj("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}gq(e,t)}}),s)}(e,LK(t),n)}else TK(t)&&FK(t,(t=>{fq(e,t)}))}function gq(e,t){const n=mq(e,t),r=LK(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),s=o.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const o=t[l],A=FV(n,o.path);let c,u=!1;if(iH(null!==A,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)u=!0,c=o.abortReason,i=i.concat(eK(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=eq)u=!0,c="maxretry",i=i.concat(eK(e.serverSyncTree_,o.currentWriteId,!0));else{const n=pq(e,o.path,s);o.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){HK("transaction failed: Data returned ",r,o.path);let t=pW(r);"object"===typeof r&&null!=r&&MH(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=iq(e),A=_K(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=A,o.currentWriteId=lq(e),s.splice(s.indexOf(a),1),i=i.concat(JG(e.serverSyncTree_,o.path,A,o.currentWriteId,o.applyLocally)),i=i.concat(eK(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",i=i.concat(eK(e.serverSyncTree_,o.currentWriteId,!0))}YK(e.eventQueue_,n,i),i=[],u&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===c?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(c),!1,null)))))}var a;bq(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Wj(r[l]);fq(e,e.transactionQueueTree_)}(e,vq(e,n),r),r}function mq(e,t){let n,r=e.transactionQueueTree_;for(n=xV(t);null!==n&&void 0===EK(r);)r=BK(r,n),n=xV(t=SV(t));return r}function vq(e,t){const n=[];return yq(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function yq(e,t,n){const r=EK(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);FK(t,(t=>{yq(e,t,n)}))}function bq(e,t){const n=EK(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,MK(t,n.length>0?n:void 0)}FK(t,(t=>{bq(e,t)}))}function wq(e,t){const n=LK(mq(e,t)),r=BK(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{xq(e,t)})),xq(e,r),IK(r,(t=>{xq(e,t)})),n}function xq(e,t){const n=EK(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(iH(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(iH(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(eK(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?MK(t,void 0):n.length=o+1,YK(e.eventQueue_,LK(t),i);for(let e=0;e<r.length;e++)Wj(r[e])}}const _q=function(e,t){const n=Sq(e),r=n.namespace;"firebase.com"===n.domain&&Ij(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Ij("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Lj("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new tV(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new bV(n.pathString)}},Sq=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let A=e.indexOf("//");A>=0&&(a=e.substring(0,A-1),e=e.substring(A+2));let c=e.indexOf("/");-1===c&&(c=e.length);let u=e.indexOf("?");-1===u&&(u=e.length),t=e.substring(0,Math.min(c,u)),c<u&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(c,u)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Lj(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,u)));A=t.indexOf(":"),A>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(A+1),10)):A=t.length;const d=t.slice(0,A);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Cq="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class Bq{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+BH(this.snapshot.exportVal())}}class Eq{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Mq{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return iH(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Tq{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return TV(this._path)?null:CV(this._path)}get ref(){return new Fq(this._repo,this._path)}get _queryIdentifier(){const e=BW(this._queryParams),t=Oj(e);return"{}"===t?"default":t}get _queryObject(){return BW(this._queryParams)}isEqual(e){if(!((e=NH(e))instanceof Tq))return!1;const t=this._repo===e._repo,n=LV(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Fq extends Tq{constructor(e,t){super(e,t,new SW,!1)}get parent(){const e=EV(this._path);return null===e?null:new Fq(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Iq{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new bV(e),n=Pq(this.ref,e);return new Iq(this._node.getChild(t),n,rW)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new Iq(n,Pq(this.ref,t),rW))))}hasChild(e){const t=new bV(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Lq(e,t){return(e=NH(e))._checkNotDeleted("ref"),void 0!==t?Pq(e._root,t):e._root}function Pq(e,t){return null===xV((e=NH(e))._path)?VK("child","path",t,!1):jK("child","path",t,!1),new Fq(e._repo,MV(e._path,t))}function Uq(e,t){e=NH(e),WK("set",e._path),QK("set",t,e._path,!1);const n=new vH;return Aq(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function Rq(e,t){zK("update",t,e._path,!1);const n=new vH;return function(e,t,n,r){hq(e,"update",{path:t.toString(),value:n});let i=!0;const o=iq(e),s={};if(Hj(n,((n,r)=>{i=!1,s[n]=xK(MV(t,n),pW(r),e.serverSyncTree_,o)})),i)Mj("update() called with empty data.  Don't do anything."),dq(0,r,"ok",void 0);else{const i=lq(e),o=ZG(e.serverSyncTree_,t,s,i);qK(e.eventQueue_,o),e.server_.merge(t.toString(),n,((n,o)=>{const s="ok"===n;s||Lj("update at "+t+" failed: "+n);const a=eK(e.serverSyncTree_,i,!s),l=a.length>0?gq(e,t):t;YK(e.eventQueue_,l,a),dq(0,r,n,o)})),Hj(n,(n=>{const r=wq(e,MV(t,n));gq(e,r)})),YK(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}class kq{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Bq("value",this,new Iq(e.snapshotNode,new Fq(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Eq(this,e,t):null}matches(e){return e instanceof kq&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Nq{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Eq(this,e,t):null}createEvent(e,t){iH(null!=e.childName,"Child events should have a childName.");const n=Pq(new Fq(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Bq(e.type,this,new Iq(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Nq&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Dq(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{cq(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new Mq(n,o||void 0),a="value"===t?new kq(s):new Nq(t,s);return function(e,t,n){let r;r=".info"===xV(t._path)?iK(e.infoSyncTree_,t,n):iK(e.serverSyncTree_,t,n),XK(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>cq(e._repo,e,a)}function Oq(e,t,n,r){return Dq(e,"value",t,n,r)}!function(e){iH(!NG,"__referenceConstructor has already been defined"),NG=e}(Fq),function(e){iH(!DG,"__referenceConstructor has already been defined"),DG=e}(Fq);const Qq="FIREBASE_DATABASE_EMULATOR_HOST",Hq={};let zq=!1;function jq(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Ij("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mj("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a,l=_q(o,i),A=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/BioSense-SPA",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[Qq]),a?(s=!0,o=`http://${a}?ns=${A.namespace}`,l=_q(o,i),A=l.repoInfo):s=!l.repoInfo.secure;const c=i&&s?new Xj(Xj.OWNER):new qj(e.name,e.options,t);GK("Invalid Firebase Database URL",l),TV(l.path)||Ij("Database URL must point to the root of a Firebase Database (not including a child path).");const u=function(e,t,n,r){let i=Hq[t.name];i||(i={},Hq[t.name]=i);let o=i[e.toURLString()];o&&Ij("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new tq(e,zq,n,r),i[e.toURLString()]=o,o}(A,e,c,new Kj(e.name,n));return new Vq(u,e)}class Vq{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(nq(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fq(this._repo,wV())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Hq[t];n&&n[e.key]===e||Ij(`Database ${t}(${e.repoInfo_}) has already been deleted.`),uq(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ij("Cannot call "+e+" on a deleted database.")}}OV.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},OV.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){fj("10.13.1"),qz(new DH("database",((e,t)=>{let{instanceIdentifier:n}=t;return jq(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Zz(hj,dj,e),Zz(hj,dj,"esm2017")}();const Wq=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zz;const t=Vz.get(e);if(!t&&e===zz&&mH())return Jz();if(!t)throw Yz.create("no-app",{appName:e});return t}(),t=arguments.length>1?arguments[1]:void 0;const n=Xz(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=gH("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=NH(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Ij("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ij('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Xj(Xj.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[cH(JSON.stringify({alg:"none",type:"JWT"})),cH(JSON.stringify(o)),""].join(".")}(r.mockUserToken,e.app.options.projectId);o=new Xj(t)}!function(e,t,n,r){e.repoInfo_=new tV(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...e)}return n}(Jz({apiKey:"AIzaSyBWDintcU3D6N8ocKrtxTHWkbT2A9YKsE8",authDomain:"biosense2-b11e8.firebaseapp.com",databaseURL:"https://biosense2-b11e8-default-rtdb.firebaseio.com",projectId:"biosense2-b11e8",storageBucket:"biosense2-b11e8.appspot.com",messagingSenderId:"636126613730",appId:"1:636126613730:web:ef6a75e8ceedee7cd7cebb"})),Gq=(0,NQ.F3)("Device",{web:()=>n.e(950).then(n.bind(n,5950)).then((e=>new e.DeviceWeb))});var Kq,qq;!function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"}(Kq||(Kq={})),function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"}(qq||(qq={}));const Xq=(0,NQ.F3)("StatusBar"),Yq=()=>{const[e,n]=(0,t.useState)(!1),{darkMode:r,toggleDarkMode:i}=(0,t.useContext)(PQ),[o,s]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1),[A,c]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null),[d,p]=(0,t.useState)(null),[f,m]=(0,t.useState)([]),[v,y]=(0,t.useState)([]),[b,w]=(0,t.useState)([]),[x,_]=(0,t.useState)(0),[S,B]=(0,t.useState)(!1),[E,M]=(0,t.useState)([]),[T,F]=(0,t.useState)(!0),[I,L]=(0,t.useState)(0),[P,U]=(0,t.useState)(5),[R,k]=(0,t.useState)([]),[D,O]=(0,t.useState)(!1),[Q,H]=(0,t.useState)({heartRateData:[],hrvData:[],tags:[]}),[z,V]=(0,t.useState)(!1),[W,G]=(0,t.useState)(""),[K,X]=(0,t.useState)(!1),[Y,$]=(0,t.useState)(""),[J,Z]=(0,t.useState)(!1),[ee,te]=(0,t.useState)(0);(0,t.useEffect)((()=>{(async()=>{await Xq.hide()})()}),[]),(0,t.useEffect)((()=>{(async()=>{const e=await Gq.getInfo();n("ios"===e.platform||"android"===e.platform)})()}),[]),(0,t.useEffect)((()=>{let e=null,t=null;return A&&!S?(e=setInterval((()=>{_((e=>e+1))}),1e3),t=setInterval((()=>{Rq(Lq(Wq,`sessions/${W}`),{timer:x})}),5e3)):(clearInterval(e),clearInterval(t)),()=>{clearInterval(e),clearInterval(t)}}),[A,S,W,x]),(0,t.useEffect)((()=>{if(W){const e=Lq(Wq,`sessions/${W}`);return Oq(e,(e=>{const t=e.val();t&&("undefined"!==typeof t.isPaused&&B(t.isPaused),"undefined"!==typeof t.timer&&_(t.timer))})),()=>e.off()}}),[W]),(0,t.useEffect)((()=>{const e=(n=5,(t=b).length<n?[]:t.map(((e,t,r)=>{if(t<n-1)return null;const i=r.slice(t-n+1,t+1).reduce(((e,t)=>e+t),0);return(i/n).toFixed(2)})).filter((e=>null!==e)));var t,n;k(e)}),[b]),(0,t.useEffect)((()=>{(async()=>{const e=await Gq.getInfo();if("ios"===e.platform||"android"===e.platform){const e=await Xq.getInfo();te(e.height||20),await Xq.hide()}})()}),[]);const ne=async()=>{l(!0);try{const e=await JQ((e=>ZQ(e,p,m,y,w)));c(!0),h(e.device.name||"Unknown Device"),s(!0);const t=Math.random().toString(36).substr(2,6).toUpperCase();G(t);Uq(Lq(Wq,`sessions/${t}`),{heartRateData:[],hrvData:[],tags:[],timer:0,rrPeaks:[],heartRate:0}),Z(!0)}catch(pE){console.error("Error connecting to device:",pE)}l(!1)},re=(e,t)=>{const n={time:ie(x),heartRate:d,hrv:b.length?b[b.length-1]:null,index:v.length-1,color:e,type:t,comments:""};M((e=>[...e,n]))},ie=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`};(0,t.useEffect)((()=>{if(A&&W){Rq(Lq(Wq,`sessions/${W}`),{heartRateData:v,hrvData:b,tags:E,timer:x,rrPeaks:f,heartRate:d})}}),[v,b,E,x,f,d,A,W]),(0,t.useEffect)((()=>{if(A&&W){Oq(Lq(Wq,`sessions/${W}`),(e=>{const t=e.val();t&&(y(t.heartRateData||[]),w(t.hrvData||[]),M(t.tags||[]),_(t.timer||0),m(t.rrPeaks||[]),p(t.heartRate||0))}))}}),[A,W]);return(0,g.jsxs)(C,{sx:{width:"100%",paddingTop:`${ee+15}px`,overflowX:"hidden"},children:[(0,g.jsx)(j,{position:"static",sx:{width:"100%"},children:(0,g.jsxs)(q,{children:[(0,g.jsx)(Re,{edge:"start",color:"inherit","aria-label":"menu"}),(0,g.jsx)(ze,{variant:"h6",sx:{flexGrow:1},children:"Biosense"}),!e&&(0,g.jsxs)(C,{sx:{display:{xs:"none",md:"flex"},alignItems:"center",marginRight:4},children:[(0,g.jsx)(Xa.A,{sx:{marginRight:.5}}),(0,g.jsx)(at,{checked:r,onChange:i,sx:{mx:.5}}),(0,g.jsx)(qa.A,{sx:{transform:"rotate(180deg)",marginLeft:.5}})]}),A&&!D&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ze,{variant:"h6",sx:{marginRight:4},children:ie(x)}),(0,g.jsx)(Re,{color:"inherit",onClick:async()=>{try{await(async(e,t)=>{$Q()?e?await zQ.stopNotifications(WQ.deviceId,jQ,VQ):await zQ.startNotifications(WQ.deviceId,jQ,VQ,(e=>{if(!(e instanceof ArrayBuffer))return void console.error("Valor recibido no es un ArrayBuffer");const n=XQ(e),r=YQ(e);t({heartRateValue:n,rrValues:r})})):e?(await qQ.stopNotifications(),qQ.removeEventListener("characteristicvaluechanged",t)):(await qQ.startNotifications(),qQ.addEventListener("characteristicvaluechanged",t))})(S,(e=>ZQ(e,p,m,y,w))),B(!S);Rq(Lq(Wq,`sessions/${W}`),{isPaused:!S})}catch(pE){console.error("Error toggling pause:",pE)}},sx:{borderRadius:"50%",backgroundColor:"white",marginRight:1},children:S?(0,g.jsx)(Ga.A,{sx:{color:"black"}}):(0,g.jsx)(Wa.A,{sx:{color:"black"}})}),(0,g.jsx)(Re,{color:"inherit",onClick:async()=>{if(o)try{await(async e=>{try{$Q()?(await zQ.stopNotifications(WQ.deviceId,jQ,VQ),await zQ.disconnect(WQ.deviceId),console.log("Dispositivo desconectado en m\xf3vil.")):(await qQ.stopNotifications(),qQ.removeEventListener("characteristicvaluechanged",e),GQ.disconnect(),console.log("Dispositivo desconectado en web."))}catch(pE){throw console.error("Error al desconectar:",pE),pE}})((e=>ZQ(e,p,m,y,w))),c(!1),B(!1);const e=ie(x);_(0),H({heartRateData:v,hrvData:b,tags:E,totalTime:e}),y([]),w([]),M([]),O(!0),V(!1)}catch(pE){console.error("Error stopping and disconnecting:",pE)}else{const e=ie(x);H({heartRateData:v,hrvData:b,tags:E,totalTime:e}),O(!0),V(!0)}},sx:{borderRadius:"50%",backgroundColor:"white"},children:(0,g.jsx)(Ka.A,{sx:{color:"black"}})})]})]})}),(0,g.jsxs)(C,{sx:{width:"100%",padding:"16px",boxSizing:"border-box"},children:[A&&W&&(0,g.jsx)(wt,{container:!0,spacing:2,sx:{marginBottom:2},children:(0,g.jsx)(wt,{item:!0,xs:12,children:(0,g.jsx)(Bt,{sx:{width:"100%"},children:(0,g.jsx)(It,{children:(0,g.jsxs)(C,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,g.jsxs)(C,{sx:{display:"flex",alignItems:"center"},children:[(0,g.jsxs)(ze,{variant:"body1",children:["Session Code: ",(0,g.jsx)("strong",{children:W})]}),(0,g.jsx)(Re,{color:"primary",onClick:()=>navigator.clipboard.writeText(W),sx:{marginLeft:1},children:(0,g.jsx)(Za.A,{})})]}),(0,g.jsxs)(ze,{variant:"body2",sx:{marginTop:1},children:["Device Name: ",(0,g.jsx)("strong",{children:u})]})]})})})})}),(0,g.jsx)(Pn,{"aria-labelledby":"session-name-modal","aria-describedby":"session-name-modal-description",open:J,onClose:()=>Z(!1),closeAfterTransition:!0,BackdropComponent:gn,BackdropProps:{timeout:500},children:(0,g.jsx)(un,{in:J,children:(0,g.jsxs)(C,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[(0,g.jsx)(ze,{id:"session-name-modal",variant:"h6",component:"h2",children:"Enter Session Name"}),(0,g.jsx)(Uo,{label:"Session Name",variant:"outlined",fullWidth:!0,margin:"normal",value:Y,onChange:e=>$(e.target.value)}),(0,g.jsx)(Go,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{Z(!1)},children:"Confirm"})]})})}),!D&&!A&&!navigator.bluetooth&&!e&&(0,g.jsx)(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:(0,g.jsx)(Bt,{sx:{width:"80%",maxWidth:"600px"},children:(0,g.jsx)(It,{children:(0,g.jsx)(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,g.jsx)(us,{severity:"error",children:"Bluetooth API is not available in your browser. Please use a compatible browser."})})})})}),!D&&!A&&(navigator.bluetooth||e)&&(0,g.jsx)(C,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:(0,g.jsx)(Bt,{sx:{width:"80%",maxWidth:"600px"},children:(0,g.jsx)(It,{children:(0,g.jsxs)(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,g.jsx)(Go,{onClick:ne,disabled:a,fullWidth:!0,variant:"contained",color:"primary",children:a?"Connecting...":"Connect to Device"}),(0,g.jsx)(Go,{onClick:()=>{X(!0)},fullWidth:!0,variant:"contained",color:"secondary",sx:{mt:2},children:"Join Session"}),a&&(0,g.jsx)(Bs,{sx:{marginTop:2}})]})})})}),D?(0,g.jsx)(fQ,{heartRateData:Q.heartRateData,hrvData:Q.hrvData,runningAverageHRV:R,tags:Q.tags,sessionName:Y,totalTime:Q.totalTime,onConnectNewDevice:()=>{O(!1),ne()},showControls:!z}):A&&(0,g.jsx)(C,{sx:{width:"100%"},children:(0,g.jsxs)(wt,{container:!0,spacing:2,sx:{marginTop:2,width:"100%",paddingX:"16px",boxSizing:"border-box"},children:[(0,g.jsx)(wt,{item:!0,xs:12,md:6,children:(0,g.jsx)(Bt,{sx:{height:"100%"},children:(0,g.jsxs)(It,{children:[(0,g.jsxs)(C,{sx:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,g.jsxs)(ze,{variant:"body1",sx:{display:"flex",alignItems:"center"},children:["Heart Rate (BPM)",(0,g.jsx)($a.A,{color:"error",sx:{marginLeft:1}})]}),(0,g.jsx)(ze,{variant:"h4",children:d})]}),(0,g.jsxs)(C,{sx:{display:"flex",flexDirection:"column",marginTop:2},children:[(0,g.jsxs)(ze,{variant:"body1",sx:{display:"flex",alignItems:"center"},children:["RR-Peaks",(0,g.jsx)(QA,{title:"RR-Peaks represent the time intervals between heartbeats. Healthy values vary, but generally shorter intervals indicate higher heart rates.",placement:"right",children:(0,g.jsx)(Re,{sx:{marginLeft:1},children:(0,g.jsx)(Ja.A,{fontSize:"small"})})})]}),(0,g.jsx)(ze,{variant:"h4",children:f.length>0?f[f.length-1][0].toFixed(2):"No data"})]}),(0,g.jsxs)(wt,{container:!0,spacing:2,sx:{marginTop:2},children:[(0,g.jsx)(wt,{item:!0,xs:12,sm:6,children:(0,g.jsxs)(C,{children:[(0,g.jsxs)(ze,{variant:"body1",sx:{display:"flex",alignItems:"center"},children:["HRV (RMSSD)",(0,g.jsx)(QA,{title:"HRV (Heart Rate Variability) is the variation in time between heartbeats. Higher HRV is generally associated with better cardiovascular fitness and lower stress.",placement:"right",children:(0,g.jsx)(Re,{sx:{marginLeft:1},children:(0,g.jsx)(Ja.A,{fontSize:"small"})})})]}),(0,g.jsx)(ze,{variant:"h4",children:b.length>0?b[b.length-1].toFixed(2):"No data"})]})}),(0,g.jsx)(wt,{item:!0,xs:12,sm:6,children:(0,g.jsxs)(C,{sx:{color:"gray"},children:[(0,g.jsxs)(ze,{variant:"body1",sx:{display:"flex",alignItems:"center"},children:["Running Avg",(0,g.jsx)(QA,{title:"Running average of the last HRV values.",placement:"right",children:(0,g.jsx)(Re,{sx:{marginLeft:1,color:"gray"},children:(0,g.jsx)(Ja.A,{fontSize:"small"})})})]}),(0,g.jsx)(ze,{variant:"h4",sx:{textAlign:"left"},children:((e,t)=>{if(e.length<t)return null;const n=e.slice(-t).reduce(((e,t)=>e+t),0);return(n/t).toFixed(2)})(b,5)||"No data"})]})})]})]})})}),(0,g.jsx)(wt,{item:!0,xs:12,md:6,children:(0,g.jsx)(Bt,{sx:{height:"100%"},children:(0,g.jsx)(It,{children:(0,g.jsx)(BE,{hrv:b.length?b[b.length-1].toFixed(2):null})})})}),(0,g.jsx)(wt,{item:!0,xs:12,md:6,children:(0,g.jsx)(Bt,{sx:{height:"100%"},children:(0,g.jsxs)(It,{children:[(0,g.jsxs)(C,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,g.jsx)(ze,{variant:"h6",children:"Heart Rate and HRV Chart"}),(0,g.jsx)(Re,{onClick:()=>{F(!T)},children:(0,g.jsx)(Ya.A,{})}),(0,g.jsxs)(C,{children:[(0,g.jsx)(Go,{onClick:()=>re("orange","Tag A"),sx:{marginRight:1},children:"Add Orange Tag"}),(0,g.jsx)(Go,{onClick:()=>re("#8267EF","Tag B"),children:"Add Purple Tag"})]})]}),T?v.length>0&&b.length>0?(0,g.jsx)(Zk,{heartRateData:v,hrvData:b,runningAverageHRV:R,tags:E,isSummary:!1}):(0,g.jsx)(ze,{variant:"subtitle1",sx:{textAlign:"center",marginTop:2},children:"Waiting for both Heart Rate and HRV data..."}):(0,g.jsx)(ze,{variant:"subtitle1",sx:{textAlign:"center",marginTop:2},children:"Chart Hidden"})]})})}),(0,g.jsx)(wt,{item:!0,xs:12,md:6,children:(0,g.jsx)(Bt,{sx:{height:"100%"},children:(0,g.jsxs)(It,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,g.jsxs)(C,{sx:{flex:"1 1 auto",overflow:"auto"},children:[(0,g.jsx)(ze,{variant:"h6",children:"Tags"}),(0,g.jsx)(Is,{component:N,sx:{boxShadow:"none",maxHeight:400},children:(0,g.jsxs)(Ds,{children:[(0,g.jsx)(Gs,{children:(0,g.jsxs)(Zs,{children:[(0,g.jsx)(oa,{children:"Time Elapsed"}),(0,g.jsx)(oa,{children:"Heart Rate (BPM)"}),(0,g.jsx)(oa,{children:"HRV"}),(0,g.jsx)(oa,{children:"Type"}),(0,g.jsx)(oa,{children:"Comments"})]})}),(0,g.jsx)(ha,{children:E.slice(I*P,I*P+P).map(((e,t)=>(0,g.jsxs)(Zs,{children:[(0,g.jsx)(oa,{children:e.time}),(0,g.jsx)(oa,{children:e.heartRate}),(0,g.jsx)(oa,{children:e.hrv?e.hrv.toFixed(2):"No data"}),(0,g.jsx)(oa,{sx:{color:e.color},children:e.type}),(0,g.jsx)(oa,{children:(0,g.jsx)(Uo,{variant:"outlined",fullWidth:!0,value:e.comments,onChange:e=>((e,t)=>{const n=E.map(((n,r)=>r===t?{...n,comments:e.target.value}:n));M(n)})(e,t),placeholder:"Add a comment"})})]},t)))})]})})]}),(0,g.jsx)(Va,{rowsPerPageOptions:[5,10,25],component:"div",count:E.length,rowsPerPage:P,page:I,onPageChange:(e,t)=>{L(t)},onRowsPerPageChange:e=>{U(parseInt(e.target.value,10)),L(0)}})]})})})]})})]}),(0,g.jsx)(Pn,{"aria-labelledby":"join-session-modal","aria-describedby":"join-session-modal-description",open:K,onClose:()=>{X(!1)},closeAfterTransition:!0,BackdropComponent:gn,BackdropProps:{timeout:500},children:(0,g.jsx)(un,{in:K,children:(0,g.jsxs)(C,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[(0,g.jsx)(ze,{id:"join-session-modal",variant:"h6",component:"h2",children:"Join Session"}),(0,g.jsx)(ze,{id:"join-session-modal-description",sx:{mt:2},children:"Enter the session code to join:"}),(0,g.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),W){Oq(Lq(Wq,`sessions/${W}`),(e=>{const t=e.val();t?(y(t.heartRateData||[]),w(t.hrvData||[]),M(t.tags||[]),_(t.timer||0),m(t.rrPeaks||[]),p(t.heartRate||0),c(!0)):alert("Invalid session code")})),X(!1)}s(!1)},children:[(0,g.jsx)(Uo,{label:"Session Code",variant:"outlined",fullWidth:!0,margin:"normal",value:W,onChange:e=>G(e.target.value.toUpperCase())}),(0,g.jsx)(Go,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Join"})]})]})})})]})},$q=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};i.createRoot(document.getElementById("root")).render((0,g.jsx)(t.StrictMode,{children:(0,g.jsx)(UQ,{children:(0,g.jsx)(Yq,{})})})),$q()})()})();
//# sourceMappingURL=main.a403e1d7.js.map